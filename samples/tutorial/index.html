<!DOCTYPE html>
<!--[if IE 8]> 				 <html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->

<head>
  <meta charset="utf-8">
  <title>FunScript - Tutorial - Introducing FunScript</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="
    FunScript consists of a standalone F# to JavaScript compiler library and a Type Provider to TypeScript.       
    FunScript lets you connect to client and server APIs with Intellisense and types automagically using
    F# 3's Type Provider mechanism.">
  <meta name="author" content="Zach Bray">

  <!-- Reference Foundation -->
  <link rel="stylesheet" href="http://funscript.info/css/foundation.css" />
  <script src="http://funscript.info/js/vendor/custom.modernizr.js"></script>

  <!-- Reference custom CSS and tooltips -->
  <link type="text/css" rel="stylesheet" href="http://funscript.info/custom/style.css" />
  <script src="http://funscript.info/custom/tooltips.js" type="text/javascript"></script>
  <link type="text/css" rel="stylesheet" href="http://funscript.info/custom/tooltips.css" />
</head>
<body>

  <!-- Header bar with name and navigation links -->
  <nav class="top-bar">
    <ul class="title-area">
      <li class="name"><h1><a href="http://funscript.info">FunScript</a></h1></li>
      <li class="toggle-topbar"><a href="#"><span>Menu</span></a></li>
    </ul>

    <section class="top-bar-section">
      <ul class="left">
        <li><a href="http://funscript.info/index.html">home</a></li>
        <li><a href="http://funscript.info/learn.html">learn more</a></li>
        <li><a href="http://funscript.info/get.html">get started</a></li>
        <li><a href="http://funscript.info/contribute.html">contribute</a></li>
      </ul>
    </section>
  </nav>

  <header>
    <div class="row">
      <div class="twelve columns">
        <h1>Tutorial</h1>
        <h3>Introducing FunScript</h3>
      </div>
    </div>
  </header>

  <!-- Some more Foundation references (always load jQuery, because samples use it) -->
  <script src="http://funscript.info/js/vendor/jquery.js"></script>
  <script src="http://funscript.info/js/foundation.min.js"></script>  
  <script src="http://funscript.info/js/foundation/foundation.reveal.js"></script>
  <script>
    $(document).foundation();
  </script>
  
  <!-- Some references the samples might need. TODO: Import these ,e.g., {sample-scripts}. -->
  <script src="http://code.jquery.com/jquery-1.8.0.js"></script>
  <script src="http://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/highcharts/2.3.1/highcharts.js"></script>
  
  <!-- Foundation dialog that appears when "Open Sample"  is clicked -->
  <div id="sampleDialog" class="reveal-modal medium" style="">
    <h2>Hello world</h2>
    
      <div style="padding:30px 0px 0px 20px">
        <p>Click the following button to say hello to the world.</p>
        <a id="helloWorld" class="btn btn-large btn-success">Say hello!</a>
      </div>
      
    <a class="close-reveal-modal">&#215;</a>
  </div>

	<div class="row">
    <div class="large-9 columns">
      <p>This example shows basic features of FunScript. It demonstrates how to use the TypeScript
type provider to access standard DOM library functions and to call JavaScript libraries 
(such as JQuery).</p>

<h2>Project structure</h2>

<p>FunScript is a library that can be called in a number of ways. Most of the samples in the
<code>Examples</code> directory follow the same pattern - they are executable programs that, when
started, generate JavaScript source code (as <code>*.js</code> file) and run a simple HTTP web 
server that can be used to view the generated web.</p>

<p>In this mode, a typical project needs to reference <code>FunScript.dll</code> (containing the core
JavaScript translator), <code>FunScript.TypeScript.dll</code> (a type provider that generates nice
types for calling JavaScript libraries) and <code>FunScript.TypeScript.Interop.dll</code> (which 
is required by the TypeScript type provider).</p>

<p>All code that is translated to JavaScript needs to be marked with the <code>FunScript.JS</code>
attribute (an alias for <code>ReflectedDefinition</code>):</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
[&lt;<span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="i">FunScript</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="i">JS</span>&gt;]
<span class="k">module</span> <span onmouseout="hideTip(event, 'fs3', 3)" onmouseover="showTip(event, 'fs3', 3)" class="i">Page</span>

<span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 4)" onmouseover="showTip(event, 'fs1', 4)" class="i">FunScript</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 5)" onmouseover="showTip(event, 'fs1', 5)" class="i">FunScript</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs4', 6)" onmouseover="showTip(event, 'fs4', 6)" class="i">TypeScript</span></pre>
</td>
</tr>
</table><p>The <code>FunScript.TypeScript</code> namespace contains the TypeScript provider, which is 
discussed in the next section.</p>

<h3>Referencing the TypeScript provider</h3>

<p><a href="http://www.typescriptlang.org/">TypeScript</a> is a language that extends JavaScript 
with types. It uses <em>definition files</em> (<code>*.d.ts</code>) to specify the types of existing 
JavaScript libraries. FunScript can import information from TypeScript definition files 
and generate F# types for accessing the DOM and calling external JavaScript libraries.</p>

<p>The following two lines import definitions for <a href="https://github.com/ZachBray/FunScript/blob/master/Examples/Typings/jquery.d.ts">jQuery</a>
and <a href="https://github.com/ZachBray/FunScript/blob/master/Examples/Typings/lib.d.ts">JavaScript DOM</a> 
from TypeScript:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs5', 7)" onmouseover="showTip(event, 'fs5', 7)" class="i">j</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs6', 8)" onmouseover="showTip(event, 'fs6', 8)" class="i">Api</span><span class="o">&lt;</span><span class="s">&quot;</span><span class="s">.</span><span class="s">.</span><span class="s">/</span><span class="s">Typings</span><span class="s">/</span><span class="s">jquery</span><span class="s">.</span><span class="s">d</span><span class="s">.</span><span class="s">ts</span><span class="s">&quot;</span><span class="o">&gt;</span>
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs7', 9)" onmouseover="showTip(event, 'fs7', 9)" class="i">lib</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs6', 10)" onmouseover="showTip(event, 'fs6', 10)" class="i">Api</span><span class="o">&lt;</span><span class="s">&quot;</span><span class="s">.</span><span class="s">.</span><span class="s">/</span><span class="s">Typings</span><span class="s">/</span><span class="s">lib</span><span class="s">.</span><span class="s">d</span><span class="s">.</span><span class="s">ts</span><span class="s">&quot;</span><span class="o">&gt;</span></pre>
</td>
</tr>
</table><p>The generated types <code>j</code> and <code>lib</code> enclose all functionality that is documented by
the Type Script definition file including nested types, global variables and functions.</p>

<h2>Hello World</h2>

<p>Let's now use the <code>lib</code> type to write a typical Hello world sample.
The global <code>window</code> object available in the browser can be accessed 
using <code>lib.window</code>. When you type <code>lib.window.</code> in F#, you will get an autocomplete
suggestion including the <code>alert</code> function:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs8', 11)" onmouseover="showTip(event, 'fs8', 11)" class="i">hello</span> () <span class="o">=</span> 
  <span onmouseout="hideTip(event, 'fs7', 12)" onmouseover="showTip(event, 'fs7', 12)" class="i">lib</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs9', 13)" onmouseover="showTip(event, 'fs9', 13)" class="i">window</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs10', 14)" onmouseover="showTip(event, 'fs10', 14)" class="i">alert</span>(<span class="s">&quot;</span><span class="s">Hello</span><span class="s"> </span><span class="s">world</span><span class="s">!</span><span class="s">&quot;</span>)</pre>
</td>
</tr>
</table><p>This snippet defines a function <code>hello</code> that can be translated to JavaScript 
(because the module is marked with the <code>FunScript.JS</code> attribute). It will be mapped
to a simple JavaScript function that calls <code>window.alert</code>.</p>

<p>Next, we look how to use jQuery to access elements on the page and work with them.
You can use any JavaScript library as long as there is a TypeScript definition
for it (the <a href="https://github.com/borisyankov/DefinitelyTyped">Definitely Typed</a> 
contains a number of them).</p>

<p>The <code>$("...")</code> command known from jQuery can be invoked by typing <code>j.jQuery.Invoke("...")</code>.
To simplify the access to elements by ID, we can define the F# <em>dynamic operator</em>
and write just <code>j.jQuery?helloWorld</code> instead of <code>j.jQuery.Invoke("#helloWorld")</code>. The
following snippet gives the necessary definitions:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// Allows writing j.jQuery?name for element access</span>
<span class="k">let</span> (<span class="o">?</span>) (<span onmouseout="hideTip(event, 'fs11', 15)" onmouseover="showTip(event, 'fs11', 15)" class="i">jq</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs5', 16)" onmouseover="showTip(event, 'fs5', 16)" class="i">j</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs12', 17)" onmouseover="showTip(event, 'fs12', 17)" class="i">JQueryStatic</span>) <span onmouseout="hideTip(event, 'fs13', 18)" onmouseover="showTip(event, 'fs13', 18)" class="i">name</span> <span class="o">=</span> 
  <span onmouseout="hideTip(event, 'fs11', 19)" onmouseover="showTip(event, 'fs11', 19)" class="i">jq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs14', 20)" onmouseover="showTip(event, 'fs14', 20)" class="i">Invoke</span>(<span class="s">&quot;</span><span class="s">#</span><span class="s">&quot;</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs13', 21)" onmouseover="showTip(event, 'fs13', 21)" class="i">name</span>)</pre>
</td>
</tr>
</table><p>The <code>?</code> operator takes a parameter of type <code>j.JQueryStatic</code> which is a (generated)
type that represents the type of <code>jQuery</code>. The details of the snippet are not
important - the important fact is that we can now easily access DOM elements:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs15', 22)" onmouseover="showTip(event, 'fs15', 22)" class="i">main</span>() <span class="o">=</span> 
  <span onmouseout="hideTip(event, 'fs5', 23)" onmouseover="showTip(event, 'fs5', 23)" class="i">j</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs16', 24)" onmouseover="showTip(event, 'fs16', 24)" class="i">jQuery</span><span class="o">?</span><span class="i">helloWorld</span><span class="o">.</span><span class="i">click</span>(<span onmouseout="hideTip(event, 'fs8', 25)" onmouseover="showTip(event, 'fs8', 25)" class="i">hello</span>)</pre>
</td>
</tr>
</table><p>The <code>mainHello</code> function will be later called when the web page is loaded. It
gets the element with id <code>helloWorld</code> and registers the <code>hello</code> function as 
a handler for the <code>click</code> event.</p>

<h2>Hosting the web page</h2>

<p>As discussed earlier, many of the sample FunScript projects use a simple launcher.
When the project is started, it generates JavaScript and hosts it via a simple
web server. This launcher automatically looks for the <code>main</code> function (and so it
finds the function in the above section). To start the launcher, the <code>Page.fs</code> 
file ends with the following line:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">do</span> <span class="i">Runtime</span><span class="o">.</span><span class="i">Run</span>(<span class="i">components</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs17', 26)" onmouseover="showTip(event, 'fs17', 26)" class="i">Interop</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs18', 27)" onmouseover="showTip(event, 'fs18', 27)" class="i">Components</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs19', 28)" onmouseover="showTip(event, 'fs19', 28)" class="i">all</span>)</pre>
</td>
</tr>
</table><p>The <code>components</code> parameter can be used to specify additional FunScript compiler
components. In this case, we just specify components required by the TypeScript
type provider (that enables us to use DOM and jQuery). You can use additional
optional parameters to configure the Web server and the launcher.</p>

      <div class="tip" id="fs1">namespace FunScript</div>
<div class="tip" id="fs2">type JS = ReflectedDefinitionAttribute<br /><br />Full name: FunScript.JS</div>
<div class="tip" id="fs3">module Page</div>
<div class="tip" id="fs4">namespace FunScript.TypeScript</div>
<div class="tip" id="fs5">type j = Api&lt;...&gt;<br /><br />Full name: Page.j</div>
<div class="tip" id="fs6">type Api<br /><br />Full name: FunScript.TypeScript.Api</div>
<div class="tip" id="fs7">type lib = Api&lt;...&gt;<br /><br />Full name: Page.lib</div>
<div class="tip" id="fs8">val hello : unit -&gt; Unit<br /><br />Full name: Page.hello</div>
<div class="tip" id="fs9">property Api&lt;...&gt;.window: Api&lt;...&gt;.Window</div>
<div class="tip" id="fs10">Api&lt;...&gt;.Window.alert() : Unit<br />Api&lt;...&gt;.Window.alert(message: string) : Unit</div>
<div class="tip" id="fs11">val jq : Api&lt;...&gt;.JQueryStatic</div>
<div class="tip" id="fs12">type JQueryStatic =<br />&#160;&#160;new : unit -&gt; JQueryStatic<br />&#160;&#160;member Callbacks : flags: obj -&gt; JQueryCallback<br />&#160;&#160;member Invoke : unit -&gt; JQuery + 6 overloads<br />&#160;&#160;member ajax : url: string * settings: JQueryAjaxSettings -&gt; Unit<br />&#160;&#160;member ajaxPrefilter : handler: Func&lt;obj,obj,JQueryXHR,obj&gt; -&gt; obj + 1 overload<br />&#160;&#160;member ajaxSetup : options: obj -&gt; Unit<br />&#160;&#160;member browser : JQueryBrowserInfo with get, set<br />&#160;&#160;member contains : container: Element * contained: Element -&gt; bool<br />&#160;&#160;member css : e: obj * propertyName: obj -&gt; Unit + 3 overloads<br />&#160;&#160;member data : element: Element * key: string * value: obj -&gt; Object<br />&#160;&#160;...<br /><br />Full name: FunScript.TypeScript.Api,files=&quot;../Typings/jquery.d.ts&quot;.JQueryStatic</div>
<div class="tip" id="fs13">val name : string</div>
<div class="tip" id="fs14">Api&lt;...&gt;.JQueryStatic.Invoke() : Api&lt;...&gt;.JQuery<br />Api&lt;...&gt;.JQueryStatic.Invoke(selector: string) : Api&lt;...&gt;.JQuery<br />Api&lt;...&gt;.JQueryStatic.Invoke(element: Api&lt;...&gt;.Element) : Api&lt;...&gt;.JQuery<br />Api&lt;...&gt;.JQueryStatic.Invoke(elementArray: Api&lt;...&gt;.Element []) : Api&lt;...&gt;.JQuery<br />Api&lt;...&gt;.JQueryStatic.Invoke(object: Api&lt;...&gt;.JQuery) : Api&lt;...&gt;.JQuery<br />Api&lt;...&gt;.JQueryStatic.Invoke(func: Api&lt;...&gt;.Function) : Api&lt;...&gt;.JQuery<br />Api&lt;...&gt;.JQueryStatic.Invoke(selector: string, context: obj) : Api&lt;...&gt;.JQuery</div>
<div class="tip" id="fs15">val main : unit -&gt; Api&lt;...&gt;.JQuery<br /><br />Full name: Page.main</div>
<div class="tip" id="fs16">property Api&lt;...&gt;.jQuery: Api&lt;...&gt;.JQueryStatic</div>
<div class="tip" id="fs17">namespace FunScript.Interop</div>
<div class="tip" id="fs18">module Components<br /><br />from FunScript.Interop</div>
<div class="tip" id="fs19">val all : InternalCompiler.CompilerComponent list<br /><br />Full name: FunScript.Interop.Components.all</div>

    </div>
    <div class="large-3 columns">

      <h3>Live demo</h3>
      <p>Click here to open the sample live, running using JavaScript in a dialog window.</p>

      <div style="margin-left:auto;margin-right:auto;text-align:center;">
      <div id="run-button">
			  <a data-reveal-id="sampleDialog" href="#" class="success button">Open sample</a>
  		</div>
      </div>

      <p>To look at the generated JavaScript, view the source of this web page
        and scroll to the end of the file.</p>

      <h3>Tutorials</h3>
      <p>Learn FunScript from the following introductory tutorials</p>
      <ul>
        <li><a href="../tutorial/index.html">Getting started tutorial</a></li>
        <li><a href="../mario/index.html">Mario Game using HTML5</a></li>
        <li><a href="../simpleasync/index.html">Asynchornous computations</a></li>
        <li><a href="../canvas/index.html">Using HTML5 canvas</a></li>
      </ul>

      <h3>Samples</h3>
      <p>Browse other amazing samples created with FunScript</p>
      <ul>
        <li><a href="../pacman/index.html">Pacman using HTML5 Canvas</a></li>
        <li><a href="../worldbank/index.html">Visualizing World Bank data</a></li>
        <li><a href="../moviedatabase/index.html">Calling The Movie Database</a></li>
      </ul>
    </div>
	</div>

  <div class="row"><div class="large-12 columns" id="footer">
    FunScript is open-source project available under Apache 2.0 &#160; | &#160;  <a href="http://fsharp.org">The F# Software Foundation</a>
  </div></div>

  <!-- Fork me on GitHub link -->
  <a href="https://github.com/ZachBray/FunScript"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"></a>
   

  
  <script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-36398955-2', 'funscript.info');
	  ga('send', 'pageview');
  </script>

  <!-- JavaScript code from the sample goes here... -->
  <script type="text/javascript">
    $(document).ready(function () {


Boolean.prototype.CompareTo = function(that) {
   return this - that;
};

Number.prototype.CompareTo = function(that) {
   return this - that;
};

String.prototype.CompareTo = function(that) {
   return this > that
      ? 1
      : this < that
         ? -1
         : 0;
};

Array.prototype.CompareTo = function(that) {
   var i = 0;
   while(i < this.length && i < that.length) {
      var diff = this[i].CompareTo(that[i]);
      if(diff != 0) {
         return diff;
      }
      i = i + 1;
   };
   return this.length - that.length;
};

var Page_op_Dynamic, Page_main, Page_hello;
  Page_hello = (function (unitVar0)
  {
    return window.alert("Hello world!");
  });
  Page_main = (function (unitVar0)
  {
    return Page_op_Dynamic(jQuery, "helloWorld").click((function (arg00_)
    {
      return Page_hello();
    }));
  });
  Page_op_Dynamic = (function (jq, name)
  {
    return jq(("#" + name));
  });
  return Page_main()
});
  </script>

</body>
</html>
