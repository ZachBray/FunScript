<!DOCTYPE html>
<!--[if IE 8]> 				 <html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->

<head>
  <meta charset="utf-8">
  <title>FunScript - Pacman - Pacman finds himself in a grid filled with monsters...</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="
    FunScript consists of a standalone F# to JavaScript compiler library and a Type Provider to TypeScript.       
    FunScript lets you connect to client and server APIs with Intellisense and types automagically using
    F# 3's Type Provider mechanism.">
  <meta name="author" content="Zach Bray">

  <!-- Reference Foundation -->
  <link rel="stylesheet" href="http://funscript.info/css/foundation.css" />
  <script src="http://funscript.info/js/vendor/custom.modernizr.js"></script>

  <!-- Reference custom CSS and tooltips -->
  <link type="text/css" rel="stylesheet" href="http://funscript.info/custom/style.css" />
  <script src="http://funscript.info/custom/tooltips.js" type="text/javascript"></script>
  <link type="text/css" rel="stylesheet" href="http://funscript.info/custom/tooltips.css" />
</head>
<body>

  <!-- Header bar with name and navigation links -->
  <nav class="top-bar">
    <ul class="title-area">
      <li class="name"><h1><a href="http://funscript.info">FunScript</a></h1></li>
      <li class="toggle-topbar"><a href="#"><span>Menu</span></a></li>
    </ul>

    <section class="top-bar-section">
      <ul class="left">
        <li><a href="http://funscript.info/index.html">home</a></li>
        <li><a href="http://funscript.info/learn.html">learn more</a></li>
        <li><a href="http://funscript.info/get.html">get started</a></li>
        <li><a href="http://funscript.info/contribute.html">contribute</a></li>
      </ul>
    </section>
  </nav>

  <header>
    <div class="row">
      <div class="twelve columns">
        <h1>Pacman</h1>
        <h3>Pacman finds himself in a grid filled with monsters...</h3>
      </div>
    </div>
  </header>

  <!-- Some more Foundation references (always load jQuery, because samples use it) -->
  <script src="http://funscript.info/js/vendor/jquery.js"></script>
  <script src="http://funscript.info/js/foundation.min.js"></script>  
  <script src="http://funscript.info/js/foundation/foundation.reveal.js"></script>
  <script>
    $(document).foundation();
  </script>
  
  <!-- Some references the samples might need. TODO: Import these ,e.g., {sample-scripts}. -->
  <script src="http://code.jquery.com/jquery-1.8.0.js"></script>
  <script src="http://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/highcharts/2.3.1/highcharts.js"></script>
  
  <!-- Foundation dialog that appears when "Open Sample"  is clicked -->
  <div id="sampleDialog" class="reveal-modal medium" style="width:400px">
    <h2>Pacman Game</h2>
    
  <div style="text-align:center">
    <canvas style="margin-left:auto;margin-right:auto; width:300px;height:300px;" id="canvas" width="300" height="300"></canvas>
  </div>
  
    <a class="close-reveal-modal">&#215;</a>
  </div>

	<div class="row">
    <div class="large-9 columns">
      <p>Pacman finds himself in a grid filled with monsters. Will he be able to eat all 
the dots on the board before the monsters eat him?</p>

<ul>
<li>Click the "Open sample" to play the game!</li>
<li>Browse the <a href="https://github.com/ZachBray/FunScript/tree/master/Examples/Pacman">source code</a> on GitHub...</li>
</ul>
<p>This is a full blown Pacman game. If you're looking for an introduction to FunScript,
then visit other tutorials, in particular the <a href="../mario/index.html">Mario game</a> which
is much simpler.</p>

<h2>Images, mazes and graphics</h2>

<p>Some of the graphics, maze structure and walls are defined as embedded strings or
arrays in the following section, so that the game is stand-alone and easily portable.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// Create image using the specified data</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="i">createImage</span> <span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="i">data</span> <span class="o">=</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs3', 3)" onmouseover="showTip(event, 'fs3', 3)" class="i">img</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs4', 4)" onmouseover="showTip(event, 'fs4', 4)" class="i">ts</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs5', 5)" onmouseover="showTip(event, 'fs5', 5)" class="i">document</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs6', 6)" onmouseover="showTip(event, 'fs6', 6)" class="i">createElement</span>(<span class="s">&quot;</span><span class="s">image</span><span class="s">&quot;</span>)
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs7', 7)" onmouseover="showTip(event, 'fs7', 7)" class="i">image</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs8', 8)" onmouseover="showTip(event, 'fs8', 8)" class="i">unbox</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs4', 9)" onmouseover="showTip(event, 'fs4', 9)" class="i">ts</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs9', 10)" onmouseover="showTip(event, 'fs9', 10)" class="i">HTMLImageElement</span><span class="o">&gt;</span>(<span onmouseout="hideTip(event, 'fs3', 11)" onmouseover="showTip(event, 'fs3', 11)" class="i">img</span>)   
  <span onmouseout="hideTip(event, 'fs7', 12)" onmouseover="showTip(event, 'fs7', 12)" class="i">image</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs10', 13)" onmouseover="showTip(event, 'fs10', 13)" class="i">src</span> <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs2', 14)" onmouseover="showTip(event, 'fs2', 14)" class="i">data</span>
  <span onmouseout="hideTip(event, 'fs8', 15)" onmouseover="showTip(event, 'fs8', 15)" class="i">unbox</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs4', 16)" onmouseover="showTip(event, 'fs4', 16)" class="i">ts</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs11', 17)" onmouseover="showTip(event, 'fs11', 17)" class="i">HTMLElement</span><span class="o">&gt;</span>(<span onmouseout="hideTip(event, 'fs7', 18)" onmouseover="showTip(event, 'fs7', 18)" class="i">image</span>)

<span class="c">// Define the structure of the maze using ASCII</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs12', 19)" onmouseover="showTip(event, 'fs12', 19)" class="i">maze</span> <span class="o">=</span> (<span class="s">&quot;</span><span class="s">\</span>
<span class="s">#</span><span class="s">#</span><span class="s">/</span><span class="s">-</span><span class="s">-</span><span class="s">-</span><span class="s">-</span><span class="s">-</span><span class="s">-</span><span class="s">-</span><span class="s">-</span><span class="s">-</span><span class="s">-</span><span class="s">-</span><span class="s">-</span><span class="s">7</span><span class="s">/</span><span class="s">-</span><span class="s">-</span><span class="s">-</span><span class="s">-</span><span class="s">-</span><span class="s">-</span><span class="s">-</span><span class="s">-</span><span class="s">-</span><span class="s">-</span><span class="s">-</span><span class="s">-</span><span class="s">7</span><span class="s">#</span><span class="s">#</span><span class="s">,</span><span class="s">\</span>
<span class="s">#</span><span class="s">#</span><span class="s">|</span><span class="s">.</span><span class="s">.</span><span class="s">.</span><span class="s">.</span><span class="s">.</span><span class="s">.</span><span class="s">.</span><span class="s">.</span><span class="s">.</span><span class="s">.</span><span class="s">.</span><span class="s">.</span><span class="s">|</span><span class="s">!</span><span class="s">.</span><span class="s">.</span><span class="s">.</span><span class="s">.</span><span class="s">.</span><span class="s">.</span><span class="s">.</span><span class="s">.</span><span class="s">.</span><span class="s">.</span><span class="s">.</span><span class="s">.</span><span class="s">|</span><span class="s">#</span><span class="s">#</span><span class="s">,</span><span class="s">\</span>
<span class="s">#</span><span class="s">#</span><span class="s">|</span><span class="s">.</span><span class="s">/</span><span class="s">__7</span><span class="s">.</span><span class="s">/</span><span class="s">___7</span><span class="s">.</span><span class="s">|</span><span class="s">!</span><span class="s">.</span><span class="s">/</span><span class="s">___7</span><span class="s">.</span><span class="s">/</span><span class="s">__7</span><span class="s">.</span><span class="s">|</span><span class="s">#</span><span class="s">#</span><span class="s">,</span><span class="s">\</span>
<span class="s">#</span><span class="s">#</span><span class="s">|</span><span class="s">o</span><span class="s">|</span><span class="s">  </span><span class="s">!</span><span class="s">.</span><span class="s">|</span><span class="s">   </span><span class="s">!</span><span class="s">.</span><span class="s">|</span><span class="s">!</span><span class="s">.</span><span class="s">|</span><span class="s">   </span><span class="s">!</span><span class="s">.</span><span class="s">|</span><span class="s">  </span><span class="s">!</span><span class="s">o</span><span class="s">|</span><span class="s">#</span><span class="s">#</span><span class="s">,</span><span class="s">&quot;</span> <span class="o">+</span> <span id="fst13" onmouseout="hideTip(event, 'fs13', 20)" onmouseover="showTip(event, 'fs13', 20, document.getElementById('fst13'))" class="omitted">(...)</span>)<span class="o">.</span><span class="i">Split</span>(<span class="s">&#39;,&#39;</span>)

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs14', 21)" onmouseover="showTip(event, 'fs14', 21)" class="i">tileBits</span> <span class="o">=</span> [| <span id="fst15" onmouseout="hideTip(event, 'fs15', 22)" onmouseover="showTip(event, 'fs15', 22, document.getElementById('fst15'))" class="omitted">(...)</span> |]

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs16', 23)" onmouseover="showTip(event, 'fs16', 23)" class="i">blank</span> <span class="o">=</span> [| <span id="fst17" onmouseout="hideTip(event, 'fs17', 24)" onmouseover="showTip(event, 'fs17', 24, document.getElementById('fst17'))" class="omitted">(...)</span>|]</pre>
</td>
</tr>
</table><h2>Maze functionality</h2>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs18', 25)" onmouseover="showTip(event, 'fs18', 25)" class="i">isWall</span> (<span onmouseout="hideTip(event, 'fs19', 26)" onmouseover="showTip(event, 'fs19', 26)" class="i">c</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs20', 27)" onmouseover="showTip(event, 'fs20', 27)" class="i">char</span>) <span class="o">=</span> <span class="s">&quot;</span><span class="s">_</span><span class="s">|</span><span class="s">!</span><span class="s">/</span><span class="s">7</span><span class="s">LJ</span><span class="s">-</span><span class="s">&quot;</span><span class="o">.</span><span class="i">IndexOf</span>(<span onmouseout="hideTip(event, 'fs19', 28)" onmouseover="showTip(event, 'fs19', 28)" class="i">c</span>) <span class="o">&lt;&gt;</span> <span class="o">-</span><span class="n">1</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs21', 29)" onmouseover="showTip(event, 'fs21', 29)" class="i">tileAt</span> (<span onmouseout="hideTip(event, 'fs22', 30)" onmouseover="showTip(event, 'fs22', 30)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 31)" onmouseover="showTip(event, 'fs23', 31)" class="i">y</span>) <span class="o">=</span> <span class="k">if</span> <span onmouseout="hideTip(event, 'fs22', 32)" onmouseover="showTip(event, 'fs22', 32)" class="i">x</span> <span class="o">&lt;</span> <span class="n">0</span> <span class="o">||</span> <span onmouseout="hideTip(event, 'fs22', 33)" onmouseover="showTip(event, 'fs22', 33)" class="i">x</span> <span class="o">&gt;</span> <span class="n">30</span> <span class="k">then</span> <span class="s">&#39; &#39;</span> <span class="k">else</span> <span onmouseout="hideTip(event, 'fs12', 34)" onmouseover="showTip(event, 'fs12', 34)" class="i">maze</span><span class="o">.</span>[<span onmouseout="hideTip(event, 'fs23', 35)" onmouseover="showTip(event, 'fs23', 35)" class="i">y</span>]<span class="o">.</span>[<span onmouseout="hideTip(event, 'fs22', 36)" onmouseover="showTip(event, 'fs22', 36)" class="i">x</span>]
    
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs24', 37)" onmouseover="showTip(event, 'fs24', 37)" class="i">isWallAt</span> (<span onmouseout="hideTip(event, 'fs22', 38)" onmouseover="showTip(event, 'fs22', 38)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 39)" onmouseover="showTip(event, 'fs23', 39)" class="i">y</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs21', 40)" onmouseover="showTip(event, 'fs21', 40)" class="i">tileAt</span>(<span onmouseout="hideTip(event, 'fs22', 41)" onmouseover="showTip(event, 'fs22', 41)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 42)" onmouseover="showTip(event, 'fs23', 42)" class="i">y</span>) <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs18', 43)" onmouseover="showTip(event, 'fs18', 43)" class="i">isWall</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs25', 44)" onmouseover="showTip(event, 'fs25', 44)" class="i">noWall</span> (<span onmouseout="hideTip(event, 'fs22', 45)" onmouseover="showTip(event, 'fs22', 45)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 46)" onmouseover="showTip(event, 'fs23', 46)" class="i">y</span>) (<span onmouseout="hideTip(event, 'fs26', 47)" onmouseover="showTip(event, 'fs26', 47)" class="i">ex</span>,<span onmouseout="hideTip(event, 'fs27', 48)" onmouseover="showTip(event, 'fs27', 48)" class="i">ey</span>) <span class="o">=</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs28', 49)" onmouseover="showTip(event, 'fs28', 49)" class="i">bx</span>, <span onmouseout="hideTip(event, 'fs29', 50)" onmouseover="showTip(event, 'fs29', 50)" class="i">by</span> <span class="o">=</span> (<span onmouseout="hideTip(event, 'fs22', 51)" onmouseover="showTip(event, 'fs22', 51)" class="i">x</span><span class="o">+</span><span class="n">6</span><span class="o">+</span><span onmouseout="hideTip(event, 'fs26', 52)" onmouseover="showTip(event, 'fs26', 52)" class="i">ex</span>) <span class="o">&gt;</span><span class="o">&gt;</span><span class="o">&gt;</span> <span class="n">3</span>, (<span onmouseout="hideTip(event, 'fs23', 53)" onmouseover="showTip(event, 'fs23', 53)" class="i">y</span><span class="o">+</span><span class="n">6</span><span class="o">+</span><span onmouseout="hideTip(event, 'fs27', 54)" onmouseover="showTip(event, 'fs27', 54)" class="i">ey</span>) <span class="o">&gt;</span><span class="o">&gt;</span><span class="o">&gt;</span> <span class="n">3</span>
  <span onmouseout="hideTip(event, 'fs24', 55)" onmouseover="showTip(event, 'fs24', 55)" class="i">isWallAt</span> (<span onmouseout="hideTip(event, 'fs28', 56)" onmouseover="showTip(event, 'fs28', 56)" class="i">bx</span>,<span onmouseout="hideTip(event, 'fs29', 57)" onmouseover="showTip(event, 'fs29', 57)" class="i">by</span>) <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs30', 58)" onmouseover="showTip(event, 'fs30', 58)" class="i">not</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs31', 59)" onmouseover="showTip(event, 'fs31', 59)" class="i">verticallyAligned</span> (<span onmouseout="hideTip(event, 'fs22', 60)" onmouseover="showTip(event, 'fs22', 60)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs32', 61)" onmouseover="showTip(event, 'fs32', 61)" class="i">y</span>) <span class="o">=</span>  (<span onmouseout="hideTip(event, 'fs22', 62)" onmouseover="showTip(event, 'fs22', 62)" class="i">x</span> <span class="o">%</span> <span class="n">8</span>) <span class="o">=</span> <span class="n">5</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs33', 63)" onmouseover="showTip(event, 'fs33', 63)" class="i">horizontallyAligned</span> (<span onmouseout="hideTip(event, 'fs34', 64)" onmouseover="showTip(event, 'fs34', 64)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 65)" onmouseover="showTip(event, 'fs23', 65)" class="i">y</span>) <span class="o">=</span> (<span onmouseout="hideTip(event, 'fs23', 66)" onmouseover="showTip(event, 'fs23', 66)" class="i">y</span> <span class="o">%</span> <span class="n">8</span>) <span class="o">=</span> <span class="n">5</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs35', 67)" onmouseover="showTip(event, 'fs35', 67)" class="i">isAligned</span> <span onmouseout="hideTip(event, 'fs36', 68)" onmouseover="showTip(event, 'fs36', 68)" class="i">n</span> <span class="o">=</span> (<span onmouseout="hideTip(event, 'fs36', 69)" onmouseover="showTip(event, 'fs36', 69)" class="i">n</span> <span class="o">%</span> <span class="n">8</span>) <span class="o">=</span> <span class="n">5</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs37', 70)" onmouseover="showTip(event, 'fs37', 70)" class="i">canGoUp</span> (<span onmouseout="hideTip(event, 'fs22', 71)" onmouseover="showTip(event, 'fs22', 71)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 72)" onmouseover="showTip(event, 'fs23', 72)" class="i">y</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs35', 73)" onmouseover="showTip(event, 'fs35', 73)" class="i">isAligned</span> <span onmouseout="hideTip(event, 'fs22', 74)" onmouseover="showTip(event, 'fs22', 74)" class="i">x</span> <span class="o">&amp;&amp;</span> <span onmouseout="hideTip(event, 'fs25', 75)" onmouseover="showTip(event, 'fs25', 75)" class="i">noWall</span> (<span onmouseout="hideTip(event, 'fs22', 76)" onmouseover="showTip(event, 'fs22', 76)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 77)" onmouseover="showTip(event, 'fs23', 77)" class="i">y</span>) (<span class="n">0</span>,<span class="o">-</span><span class="n">4</span>)
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs38', 78)" onmouseover="showTip(event, 'fs38', 78)" class="i">canGoDown</span> (<span onmouseout="hideTip(event, 'fs22', 79)" onmouseover="showTip(event, 'fs22', 79)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 80)" onmouseover="showTip(event, 'fs23', 80)" class="i">y</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs35', 81)" onmouseover="showTip(event, 'fs35', 81)" class="i">isAligned</span> <span onmouseout="hideTip(event, 'fs22', 82)" onmouseover="showTip(event, 'fs22', 82)" class="i">x</span> <span class="o">&amp;&amp;</span> <span onmouseout="hideTip(event, 'fs25', 83)" onmouseover="showTip(event, 'fs25', 83)" class="i">noWall</span> (<span onmouseout="hideTip(event, 'fs22', 84)" onmouseover="showTip(event, 'fs22', 84)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 85)" onmouseover="showTip(event, 'fs23', 85)" class="i">y</span>) (<span class="n">0</span>,<span class="n">5</span>)
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs39', 86)" onmouseover="showTip(event, 'fs39', 86)" class="i">canGoLeft</span> (<span onmouseout="hideTip(event, 'fs22', 87)" onmouseover="showTip(event, 'fs22', 87)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 88)" onmouseover="showTip(event, 'fs23', 88)" class="i">y</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs35', 89)" onmouseover="showTip(event, 'fs35', 89)" class="i">isAligned</span> <span onmouseout="hideTip(event, 'fs23', 90)" onmouseover="showTip(event, 'fs23', 90)" class="i">y</span> <span class="o">&amp;&amp;</span> <span onmouseout="hideTip(event, 'fs25', 91)" onmouseover="showTip(event, 'fs25', 91)" class="i">noWall</span> (<span onmouseout="hideTip(event, 'fs22', 92)" onmouseover="showTip(event, 'fs22', 92)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 93)" onmouseover="showTip(event, 'fs23', 93)" class="i">y</span>) (<span class="o">-</span><span class="n">4</span>,<span class="n">0</span>)
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs40', 94)" onmouseover="showTip(event, 'fs40', 94)" class="i">canGoRight</span> (<span onmouseout="hideTip(event, 'fs22', 95)" onmouseover="showTip(event, 'fs22', 95)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 96)" onmouseover="showTip(event, 'fs23', 96)" class="i">y</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs35', 97)" onmouseover="showTip(event, 'fs35', 97)" class="i">isAligned</span> <span onmouseout="hideTip(event, 'fs23', 98)" onmouseover="showTip(event, 'fs23', 98)" class="i">y</span> <span class="o">&amp;&amp;</span> <span onmouseout="hideTip(event, 'fs25', 99)" onmouseover="showTip(event, 'fs25', 99)" class="i">noWall</span> (<span onmouseout="hideTip(event, 'fs22', 100)" onmouseover="showTip(event, 'fs22', 100)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 101)" onmouseover="showTip(event, 'fs23', 101)" class="i">y</span>) (<span class="n">5</span>,<span class="n">0</span>)</pre>
</td>
</tr>
</table><h2>Background rendering</h2>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
<span class="l">23: </span>
<span class="l">24: </span>
<span class="l">25: </span>
<span class="l">26: </span>
<span class="l">27: </span>
<span class="l">28: </span>
<span class="l">29: </span>
<span class="l">30: </span>
<span class="l">31: </span>
<span class="l">32: </span>
<span class="l">33: </span>
<span class="l">34: </span>
<span class="l">35: </span>
<span class="l">36: </span>
<span class="l">37: </span>
<span class="l">38: </span>
<span class="l">39: </span>
<span class="l">40: </span>
<span class="l">41: </span>
<span class="l">42: </span>
<span class="l">43: </span>
<span class="l">44: </span>
<span class="l">45: </span>
<span class="l">46: </span>
<span class="l">47: </span>
<span class="l">48: </span>
<span class="l">49: </span>
<span class="l">50: </span>
<span class="l">51: </span>
<span class="l">52: </span>
<span class="l">53: </span>
<span class="l">54: </span>
<span class="l">55: </span>
<span class="l">56: </span>
<span class="l">57: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs41', 102)" onmouseover="showTip(event, 'fs41', 102)" class="i">tileColors</span> <span class="o">=</span> <span class="s">&quot;</span><span class="s">BBBBBBBBBYY</span><span class="s">&quot;</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs42', 103)" onmouseover="showTip(event, 'fs42', 103)" class="i">tileChars</span> <span class="o">=</span>  <span class="s">&quot;</span><span class="s">/</span><span class="s">_7</span><span class="s">|</span><span class="s">!</span><span class="s">L</span><span class="s">-</span><span class="s">J</span><span class="s">=</span><span class="s">.</span><span class="s">o</span><span class="s">&quot;</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs43', 104)" onmouseover="showTip(event, 'fs43', 104)" class="i">toTile</span> (<span onmouseout="hideTip(event, 'fs19', 105)" onmouseover="showTip(event, 'fs19', 105)" class="i">c</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs20', 106)" onmouseover="showTip(event, 'fs20', 106)" class="i">char</span>) <span class="o">=</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs44', 107)" onmouseover="showTip(event, 'fs44', 107)" class="i">i</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs42', 108)" onmouseover="showTip(event, 'fs42', 108)" class="i">tileChars</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs45', 109)" onmouseover="showTip(event, 'fs45', 109)" class="i">IndexOf</span>(<span onmouseout="hideTip(event, 'fs19', 110)" onmouseover="showTip(event, 'fs19', 110)" class="i">c</span>)
  <span class="k">if</span> <span onmouseout="hideTip(event, 'fs44', 111)" onmouseover="showTip(event, 'fs44', 111)" class="i">i</span> <span class="o">=</span> <span class="o">-</span><span class="n">1</span> <span class="k">then</span> <span onmouseout="hideTip(event, 'fs16', 112)" onmouseover="showTip(event, 'fs16', 112)" class="i">blank</span>, <span class="s">&#39;B&#39;</span>
  <span class="k">else</span> <span onmouseout="hideTip(event, 'fs14', 113)" onmouseover="showTip(event, 'fs14', 113)" class="i">tileBits</span><span class="o">.</span>[<span onmouseout="hideTip(event, 'fs44', 114)" onmouseover="showTip(event, 'fs44', 114)" class="i">i</span>], <span onmouseout="hideTip(event, 'fs41', 115)" onmouseover="showTip(event, 'fs41', 115)" class="i">tileColors</span><span class="o">.</span>[<span onmouseout="hideTip(event, 'fs44', 116)" onmouseover="showTip(event, 'fs44', 116)" class="i">i</span>]

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs46', 117)" onmouseover="showTip(event, 'fs46', 117)" class="i">draw</span> <span onmouseout="hideTip(event, 'fs47', 118)" onmouseover="showTip(event, 'fs47', 118)" class="i">f</span> (<span onmouseout="hideTip(event, 'fs48', 119)" onmouseover="showTip(event, 'fs48', 119)" class="i">lines</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs49', 120)" onmouseover="showTip(event, 'fs49', 120)" class="i">int</span>[]) <span class="o">=</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs50', 121)" onmouseover="showTip(event, 'fs50', 121)" class="i">width</span> <span class="o">=</span> <span class="n">8</span>   
  <span onmouseout="hideTip(event, 'fs48', 122)" onmouseover="showTip(event, 'fs48', 122)" class="i">lines</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs51', 123)" onmouseover="showTip(event, 'fs51', 123)" class="i">Array</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs52', 124)" onmouseover="showTip(event, 'fs52', 124)" class="i">iteri</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs23', 125)" onmouseover="showTip(event, 'fs23', 125)" class="i">y</span> <span onmouseout="hideTip(event, 'fs53', 126)" onmouseover="showTip(event, 'fs53', 126)" class="i">line</span> <span class="k">-&gt;</span>
    <span class="k">for</span> <span onmouseout="hideTip(event, 'fs22', 127)" onmouseover="showTip(event, 'fs22', 127)" class="i">x</span> <span class="o">=</span> <span class="n">0</span> <span class="k">to</span> <span onmouseout="hideTip(event, 'fs50', 128)" onmouseover="showTip(event, 'fs50', 128)" class="i">width</span><span class="o">-</span><span class="n">1</span> <span class="k">do</span>
      <span class="k">let</span> <span onmouseout="hideTip(event, 'fs54', 129)" onmouseover="showTip(event, 'fs54', 129)" class="i">bit</span> <span class="o">=</span> (<span class="n">1</span> <span class="o">&lt;&lt;&lt;</span> (<span onmouseout="hideTip(event, 'fs50', 130)" onmouseover="showTip(event, 'fs50', 130)" class="i">width</span> <span class="o">-</span> <span class="n">1</span> <span class="o">-</span> <span onmouseout="hideTip(event, 'fs22', 131)" onmouseover="showTip(event, 'fs22', 131)" class="i">x</span>))
      <span class="k">let</span> <span onmouseout="hideTip(event, 'fs55', 132)" onmouseover="showTip(event, 'fs55', 132)" class="i">pattern</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs53', 133)" onmouseover="showTip(event, 'fs53', 133)" class="i">line</span> <span class="o">&amp;&amp;&amp;</span> <span onmouseout="hideTip(event, 'fs54', 134)" onmouseover="showTip(event, 'fs54', 134)" class="i">bit</span>
      <span class="k">if</span> <span onmouseout="hideTip(event, 'fs55', 135)" onmouseover="showTip(event, 'fs55', 135)" class="i">pattern</span> <span class="o">&lt;&gt;</span> <span class="n">0</span> <span class="k">then</span> <span onmouseout="hideTip(event, 'fs47', 136)" onmouseover="showTip(event, 'fs47', 136)" class="i">f</span> (<span onmouseout="hideTip(event, 'fs22', 137)" onmouseover="showTip(event, 'fs22', 137)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 138)" onmouseover="showTip(event, 'fs23', 138)" class="i">y</span>)
  )

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs56', 139)" onmouseover="showTip(event, 'fs56', 139)" class="i">createBrush</span> (<span onmouseout="hideTip(event, 'fs57', 140)" onmouseover="showTip(event, 'fs57', 140)" class="i">context</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs4', 141)" onmouseover="showTip(event, 'fs4', 141)" class="i">ts</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs58', 142)" onmouseover="showTip(event, 'fs58', 142)" class="i">CanvasRenderingContext2D</span>) (<span onmouseout="hideTip(event, 'fs59', 143)" onmouseover="showTip(event, 'fs59', 143)" class="i">r</span>,<span onmouseout="hideTip(event, 'fs60', 144)" onmouseover="showTip(event, 'fs60', 144)" class="i">g</span>,<span onmouseout="hideTip(event, 'fs61', 145)" onmouseover="showTip(event, 'fs61', 145)" class="i">b</span>,<span onmouseout="hideTip(event, 'fs62', 146)" onmouseover="showTip(event, 'fs62', 146)" class="i">a</span>) <span class="o">=</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs63', 147)" onmouseover="showTip(event, 'fs63', 147)" class="i">id</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs57', 148)" onmouseover="showTip(event, 'fs57', 148)" class="i">context</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs64', 149)" onmouseover="showTip(event, 'fs64', 149)" class="i">createImageData</span>(<span onmouseout="hideTip(event, 'fs65', 150)" onmouseover="showTip(event, 'fs65', 150)" class="i">float</span> <span class="n">1</span>,<span onmouseout="hideTip(event, 'fs65', 151)" onmouseover="showTip(event, 'fs65', 151)" class="i">float</span> <span class="n">1</span>)
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs66', 152)" onmouseover="showTip(event, 'fs66', 152)" class="i">d</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs63', 153)" onmouseover="showTip(event, 'fs63', 153)" class="i">id</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs67', 154)" onmouseover="showTip(event, 'fs67', 154)" class="i">data</span>
  <span onmouseout="hideTip(event, 'fs66', 155)" onmouseover="showTip(event, 'fs66', 155)" class="i">d</span><span class="o">.</span>[<span class="n">0</span>] <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs65', 156)" onmouseover="showTip(event, 'fs65', 156)" class="i">float</span> <span onmouseout="hideTip(event, 'fs59', 157)" onmouseover="showTip(event, 'fs59', 157)" class="i">r</span>; <span onmouseout="hideTip(event, 'fs66', 158)" onmouseover="showTip(event, 'fs66', 158)" class="i">d</span><span class="o">.</span>[<span class="n">1</span>] <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs65', 159)" onmouseover="showTip(event, 'fs65', 159)" class="i">float</span> <span onmouseout="hideTip(event, 'fs60', 160)" onmouseover="showTip(event, 'fs60', 160)" class="i">g</span>
  <span onmouseout="hideTip(event, 'fs66', 161)" onmouseover="showTip(event, 'fs66', 161)" class="i">d</span><span class="o">.</span>[<span class="n">2</span>] <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs65', 162)" onmouseover="showTip(event, 'fs65', 162)" class="i">float</span> <span onmouseout="hideTip(event, 'fs61', 163)" onmouseover="showTip(event, 'fs61', 163)" class="i">b</span>; <span onmouseout="hideTip(event, 'fs66', 164)" onmouseover="showTip(event, 'fs66', 164)" class="i">d</span><span class="o">.</span>[<span class="n">3</span>] <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs65', 165)" onmouseover="showTip(event, 'fs65', 165)" class="i">float</span> <span onmouseout="hideTip(event, 'fs62', 166)" onmouseover="showTip(event, 'fs62', 166)" class="i">a</span>
  <span onmouseout="hideTip(event, 'fs63', 167)" onmouseover="showTip(event, 'fs63', 167)" class="i">id</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs68', 168)" onmouseover="showTip(event, 'fs68', 168)" class="i">createBackground</span> () <span class="o">=</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs69', 169)" onmouseover="showTip(event, 'fs69', 169)" class="i">canv</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs4', 170)" onmouseover="showTip(event, 'fs4', 170)" class="i">ts</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs5', 171)" onmouseover="showTip(event, 'fs5', 171)" class="i">document</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs6', 172)" onmouseover="showTip(event, 'fs6', 172)" class="i">createElement</span>(<span class="s">&quot;</span><span class="s">canvas</span><span class="s">&quot;</span>)
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs70', 173)" onmouseover="showTip(event, 'fs70', 173)" class="i">background</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs8', 174)" onmouseover="showTip(event, 'fs8', 174)" class="i">unbox</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs4', 175)" onmouseover="showTip(event, 'fs4', 175)" class="i">ts</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs71', 176)" onmouseover="showTip(event, 'fs71', 176)" class="i">HTMLCanvasElement</span><span class="o">&gt;</span>(<span onmouseout="hideTip(event, 'fs69', 177)" onmouseover="showTip(event, 'fs69', 177)" class="i">canv</span>)   
  <span onmouseout="hideTip(event, 'fs70', 178)" onmouseover="showTip(event, 'fs70', 178)" class="i">background</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs72', 179)" onmouseover="showTip(event, 'fs72', 179)" class="i">width</span> <span class="o">&lt;-</span> <span class="n">256.</span>
  <span onmouseout="hideTip(event, 'fs70', 180)" onmouseover="showTip(event, 'fs70', 180)" class="i">background</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs73', 181)" onmouseover="showTip(event, 'fs73', 181)" class="i">height</span> <span class="o">&lt;-</span> <span class="n">256.</span>  
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs57', 182)" onmouseover="showTip(event, 'fs57', 182)" class="i">context</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs70', 183)" onmouseover="showTip(event, 'fs70', 183)" class="i">background</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs74', 184)" onmouseover="showTip(event, 'fs74', 184)" class="i">getContext</span>(<span class="s">&quot;</span><span class="s">2</span><span class="s">d</span><span class="s">&quot;</span>)
  <span onmouseout="hideTip(event, 'fs57', 185)" onmouseover="showTip(event, 'fs57', 185)" class="i">context</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs75', 186)" onmouseover="showTip(event, 'fs75', 186)" class="i">fillStyle</span> <span class="o">&lt;-</span> <span class="s">&quot;</span><span class="s">rgb</span><span class="s">(</span><span class="s">0</span><span class="s">,</span><span class="s">0</span><span class="s">,</span><span class="s">0</span><span class="s">)</span><span class="s">&quot;</span>
  <span onmouseout="hideTip(event, 'fs57', 187)" onmouseover="showTip(event, 'fs57', 187)" class="i">context</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs76', 188)" onmouseover="showTip(event, 'fs76', 188)" class="i">fillRect</span> (<span class="n">0.</span>, <span class="n">0.</span> , <span class="n">256.</span>, <span class="n">256.</span>);
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs77', 189)" onmouseover="showTip(event, 'fs77', 189)" class="i">blue</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs56', 190)" onmouseover="showTip(event, 'fs56', 190)" class="i">createBrush</span> <span onmouseout="hideTip(event, 'fs57', 191)" onmouseover="showTip(event, 'fs57', 191)" class="i">context</span> (<span class="n">63</span>,<span class="n">63</span>,<span class="n">255</span>,<span class="n">255</span>)
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs78', 192)" onmouseover="showTip(event, 'fs78', 192)" class="i">yellow</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs56', 193)" onmouseover="showTip(event, 'fs56', 193)" class="i">createBrush</span> <span onmouseout="hideTip(event, 'fs57', 194)" onmouseover="showTip(event, 'fs57', 194)" class="i">context</span> (<span class="n">255</span>,<span class="n">255</span>,<span class="n">0</span>,<span class="n">255</span>)
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs79', 195)" onmouseover="showTip(event, 'fs79', 195)" class="i">lines</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs12', 196)" onmouseover="showTip(event, 'fs12', 196)" class="i">maze</span>    
  <span class="k">for</span> <span onmouseout="hideTip(event, 'fs23', 197)" onmouseover="showTip(event, 'fs23', 197)" class="i">y</span> <span class="o">=</span> <span class="n">0</span> <span class="k">to</span> <span onmouseout="hideTip(event, 'fs79', 198)" onmouseover="showTip(event, 'fs79', 198)" class="i">lines</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs80', 199)" onmouseover="showTip(event, 'fs80', 199)" class="i">Length</span><span class="o">-</span><span class="n">1</span> <span class="k">do</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs81', 200)" onmouseover="showTip(event, 'fs81', 200)" class="i">line</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs79', 201)" onmouseover="showTip(event, 'fs79', 201)" class="i">lines</span><span class="o">.</span>[<span onmouseout="hideTip(event, 'fs23', 202)" onmouseover="showTip(event, 'fs23', 202)" class="i">y</span>]
    <span class="k">for</span> <span onmouseout="hideTip(event, 'fs22', 203)" onmouseover="showTip(event, 'fs22', 203)" class="i">x</span> <span class="o">=</span> <span class="n">0</span> <span class="k">to</span> <span onmouseout="hideTip(event, 'fs81', 204)" onmouseover="showTip(event, 'fs81', 204)" class="i">line</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs82', 205)" onmouseover="showTip(event, 'fs82', 205)" class="i">Length</span><span class="o">-</span><span class="n">1</span> <span class="k">do</span>
      <span class="k">let</span> <span onmouseout="hideTip(event, 'fs19', 206)" onmouseover="showTip(event, 'fs19', 206)" class="i">c</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs81', 207)" onmouseover="showTip(event, 'fs81', 207)" class="i">line</span><span class="o">.</span>[<span onmouseout="hideTip(event, 'fs22', 208)" onmouseover="showTip(event, 'fs22', 208)" class="i">x</span>]
      <span class="k">let</span> <span onmouseout="hideTip(event, 'fs83', 209)" onmouseover="showTip(event, 'fs83', 209)" class="i">tile</span>, <span onmouseout="hideTip(event, 'fs84', 210)" onmouseover="showTip(event, 'fs84', 210)" class="i">color</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs43', 211)" onmouseover="showTip(event, 'fs43', 211)" class="i">toTile</span> <span onmouseout="hideTip(event, 'fs19', 212)" onmouseover="showTip(event, 'fs19', 212)" class="i">c</span>        
      <span class="k">let</span> <span onmouseout="hideTip(event, 'fs85', 213)" onmouseover="showTip(event, 'fs85', 213)" class="i">brush</span> <span class="o">=</span> <span class="k">match</span> <span onmouseout="hideTip(event, 'fs84', 214)" onmouseover="showTip(event, 'fs84', 214)" class="i">color</span> <span class="k">with</span> <span class="s">&#39;Y&#39;</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs78', 215)" onmouseover="showTip(event, 'fs78', 215)" class="i">yellow</span> | _ <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs77', 216)" onmouseover="showTip(event, 'fs77', 216)" class="i">blue</span>
      <span class="k">let</span> <span onmouseout="hideTip(event, 'fs86', 217)" onmouseover="showTip(event, 'fs86', 217)" class="i">f</span> (<span onmouseout="hideTip(event, 'fs87', 218)" onmouseover="showTip(event, 'fs87', 218)" class="i">x&#39;</span>,<span onmouseout="hideTip(event, 'fs88', 219)" onmouseover="showTip(event, 'fs88', 219)" class="i">y&#39;</span>) <span class="o">=</span> 
        <span onmouseout="hideTip(event, 'fs57', 220)" onmouseover="showTip(event, 'fs57', 220)" class="i">context</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs89', 221)" onmouseover="showTip(event, 'fs89', 221)" class="i">putImageData</span>
          (<span onmouseout="hideTip(event, 'fs85', 222)" onmouseover="showTip(event, 'fs85', 222)" class="i">brush</span>, <span onmouseout="hideTip(event, 'fs65', 223)" onmouseover="showTip(event, 'fs65', 223)" class="i">float</span> (<span onmouseout="hideTip(event, 'fs22', 224)" onmouseover="showTip(event, 'fs22', 224)" class="i">x</span><span class="o">*</span><span class="n">8</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs87', 225)" onmouseover="showTip(event, 'fs87', 225)" class="i">x&#39;</span>), <span onmouseout="hideTip(event, 'fs65', 226)" onmouseover="showTip(event, 'fs65', 226)" class="i">float</span> (<span onmouseout="hideTip(event, 'fs23', 227)" onmouseover="showTip(event, 'fs23', 227)" class="i">y</span><span class="o">*</span><span class="n">8</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs88', 228)" onmouseover="showTip(event, 'fs88', 228)" class="i">y&#39;</span>))
      <span onmouseout="hideTip(event, 'fs46', 229)" onmouseover="showTip(event, 'fs46', 229)" class="i">draw</span> <span onmouseout="hideTip(event, 'fs86', 230)" onmouseover="showTip(event, 'fs86', 230)" class="i">f</span> <span onmouseout="hideTip(event, 'fs83', 231)" onmouseover="showTip(event, 'fs83', 231)" class="i">tile</span>
  <span onmouseout="hideTip(event, 'fs8', 232)" onmouseover="showTip(event, 'fs8', 232)" class="i">unbox</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs4', 233)" onmouseover="showTip(event, 'fs4', 233)" class="i">ts</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs11', 234)" onmouseover="showTip(event, 'fs11', 234)" class="i">HTMLElement</span><span class="o">&gt;</span>(<span onmouseout="hideTip(event, 'fs70', 235)" onmouseover="showTip(event, 'fs70', 235)" class="i">background</span>)

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs90', 236)" onmouseover="showTip(event, 'fs90', 236)" class="i">countDots</span> () <span class="o">=</span>
  <span onmouseout="hideTip(event, 'fs12', 237)" onmouseover="showTip(event, 'fs12', 237)" class="i">maze</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs51', 238)" onmouseover="showTip(event, 'fs51', 238)" class="i">Array</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs91', 239)" onmouseover="showTip(event, 'fs91', 239)" class="i">sumBy</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs81', 240)" onmouseover="showTip(event, 'fs81', 240)" class="i">line</span> <span class="k">-&gt;</span> 
    <span onmouseout="hideTip(event, 'fs81', 241)" onmouseover="showTip(event, 'fs81', 241)" class="i">line</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs92', 242)" onmouseover="showTip(event, 'fs92', 242)" class="i">ToCharArray</span>() 
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs51', 243)" onmouseover="showTip(event, 'fs51', 243)" class="i">Array</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs91', 244)" onmouseover="showTip(event, 'fs91', 244)" class="i">sumBy</span> (<span class="k">function</span> <span class="s">&#39;.&#39;</span> <span class="k">-&gt;</span> <span class="n">1</span> | <span class="s">&#39;o&#39;</span> <span class="k">-&gt;</span> <span class="n">1</span> | _ <span class="k">-&gt;</span> <span class="n">0</span>))

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs93', 245)" onmouseover="showTip(event, 'fs93', 245)" class="i">clearCell</span> <span onmouseout="hideTip(event, 'fs94', 246)" onmouseover="showTip(event, 'fs94', 246)" class="i">background</span> (<span onmouseout="hideTip(event, 'fs22', 247)" onmouseover="showTip(event, 'fs22', 247)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 248)" onmouseover="showTip(event, 'fs23', 248)" class="i">y</span>) <span class="o">=</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs70', 249)" onmouseover="showTip(event, 'fs70', 249)" class="i">background</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs8', 250)" onmouseover="showTip(event, 'fs8', 250)" class="i">unbox</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs4', 251)" onmouseover="showTip(event, 'fs4', 251)" class="i">ts</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs71', 252)" onmouseover="showTip(event, 'fs71', 252)" class="i">HTMLCanvasElement</span><span class="o">&gt;</span>(<span onmouseout="hideTip(event, 'fs70', 253)" onmouseover="showTip(event, 'fs70', 253)" class="i">background</span>)
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs57', 254)" onmouseover="showTip(event, 'fs57', 254)" class="i">context</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs70', 255)" onmouseover="showTip(event, 'fs70', 255)" class="i">background</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs74', 256)" onmouseover="showTip(event, 'fs74', 256)" class="i">getContext</span>(<span class="s">&quot;</span><span class="s">2</span><span class="s">d</span><span class="s">&quot;</span>)
  <span onmouseout="hideTip(event, 'fs57', 257)" onmouseover="showTip(event, 'fs57', 257)" class="i">context</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs75', 258)" onmouseover="showTip(event, 'fs75', 258)" class="i">fillStyle</span> <span class="o">&lt;-</span> <span class="s">&quot;</span><span class="s">rgb</span><span class="s">(</span><span class="s">0</span><span class="s">,</span><span class="s">0</span><span class="s">,</span><span class="s">0</span><span class="s">)</span><span class="s">&quot;</span>
  <span onmouseout="hideTip(event, 'fs57', 259)" onmouseover="showTip(event, 'fs57', 259)" class="i">context</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs76', 260)" onmouseover="showTip(event, 'fs76', 260)" class="i">fillRect</span> (<span onmouseout="hideTip(event, 'fs65', 261)" onmouseover="showTip(event, 'fs65', 261)" class="i">float</span> (<span onmouseout="hideTip(event, 'fs22', 262)" onmouseover="showTip(event, 'fs22', 262)" class="i">x</span><span class="o">*</span><span class="n">8</span>), <span onmouseout="hideTip(event, 'fs65', 263)" onmouseover="showTip(event, 'fs65', 263)" class="i">float</span> (<span onmouseout="hideTip(event, 'fs23', 264)" onmouseover="showTip(event, 'fs23', 264)" class="i">y</span><span class="o">*</span><span class="n">8</span>), <span class="n">8.</span>, <span class="n">8.</span>);</pre>
</td>
</tr>
</table><h2>Ghosts</h2>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
<span class="l">23: </span>
<span class="l">24: </span>
<span class="l">25: </span>
<span class="l">26: </span>
<span class="l">27: </span>
<span class="l">28: </span>
<span class="l">29: </span>
<span class="l">30: </span>
<span class="l">31: </span>
<span class="l">32: </span>
<span class="l">33: </span>
<span class="l">34: </span>
<span class="l">35: </span>
<span class="l">36: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs95', 265)" onmouseover="showTip(event, 'fs95', 265)" class="i">wrap</span> (<span onmouseout="hideTip(event, 'fs22', 266)" onmouseover="showTip(event, 'fs22', 266)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 267)" onmouseover="showTip(event, 'fs23', 267)" class="i">y</span>) (<span onmouseout="hideTip(event, 'fs96', 268)" onmouseover="showTip(event, 'fs96', 268)" class="i">dx</span>,<span onmouseout="hideTip(event, 'fs97', 269)" onmouseover="showTip(event, 'fs97', 269)" class="i">dy</span>) <span class="o">=</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs22', 270)" onmouseover="showTip(event, 'fs22', 270)" class="i">x</span> <span class="o">=</span> 
    <span class="k">if</span> <span onmouseout="hideTip(event, 'fs96', 271)" onmouseover="showTip(event, 'fs96', 271)" class="i">dx</span> <span class="o">=</span> <span class="o">-</span><span class="n">1</span> <span class="o">&amp;&amp;</span> <span onmouseout="hideTip(event, 'fs22', 272)" onmouseover="showTip(event, 'fs22', 272)" class="i">x</span> <span class="o">=</span> <span class="n">0</span> <span class="k">then</span> <span class="n">30</span> <span class="o">*</span> <span class="n">8</span>
    <span class="k">elif</span> <span onmouseout="hideTip(event, 'fs96', 273)" onmouseover="showTip(event, 'fs96', 273)" class="i">dx</span> <span class="o">=</span> <span class="n">1</span>  <span class="o">&amp;&amp;</span> <span onmouseout="hideTip(event, 'fs22', 274)" onmouseover="showTip(event, 'fs22', 274)" class="i">x</span> <span class="o">=</span> <span class="n">30</span> <span class="o">*</span><span class="n">8</span> <span class="k">then</span> <span class="n">0</span>
    <span class="k">else</span> <span onmouseout="hideTip(event, 'fs22', 275)" onmouseover="showTip(event, 'fs22', 275)" class="i">x</span>
  <span onmouseout="hideTip(event, 'fs22', 276)" onmouseover="showTip(event, 'fs22', 276)" class="i">x</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs96', 277)" onmouseover="showTip(event, 'fs96', 277)" class="i">dx</span>, <span onmouseout="hideTip(event, 'fs23', 278)" onmouseover="showTip(event, 'fs23', 278)" class="i">y</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs97', 279)" onmouseover="showTip(event, 'fs97', 279)" class="i">dy</span>

<span class="k">type</span> <span onmouseout="hideTip(event, 'fs98', 280)" onmouseover="showTip(event, 'fs98', 280)" class="i">Ghost</span>(<span onmouseout="hideTip(event, 'fs99', 281)" onmouseover="showTip(event, 'fs99', 281)" class="i">image</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs4', 282)" onmouseover="showTip(event, 'fs4', 282)" class="i">ts</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs11', 283)" onmouseover="showTip(event, 'fs11', 283)" class="i">HTMLElement</span>,<span onmouseout="hideTip(event, 'fs22', 284)" onmouseover="showTip(event, 'fs22', 284)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 285)" onmouseover="showTip(event, 'fs23', 285)" class="i">y</span>,<span onmouseout="hideTip(event, 'fs100', 286)" onmouseover="showTip(event, 'fs100', 286)" class="i">v</span>) <span class="o">=</span>
  <span class="k">let</span> <span class="k">mutable</span> <span onmouseout="hideTip(event, 'fs101', 287)" onmouseover="showTip(event, 'fs101', 287)" class="i">x&#39;</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs22', 288)" onmouseover="showTip(event, 'fs22', 288)" class="i">x</span>
  <span class="k">let</span> <span class="k">mutable</span> <span onmouseout="hideTip(event, 'fs102', 289)" onmouseover="showTip(event, 'fs102', 289)" class="i">y&#39;</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs23', 290)" onmouseover="showTip(event, 'fs23', 290)" class="i">y</span>
  <span class="k">let</span> <span class="k">mutable</span> <span onmouseout="hideTip(event, 'fs103', 291)" onmouseover="showTip(event, 'fs103', 291)" class="i">v&#39;</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs100', 292)" onmouseover="showTip(event, 'fs100', 292)" class="i">v</span>
  <span class="k">member</span> <span class="k">val</span> <span class="i">Image</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs99', 293)" onmouseover="showTip(event, 'fs99', 293)" class="i">image</span>
  <span class="k">member</span> <span class="k">val</span> <span class="i">IsReturning</span> <span class="o">=</span> <span class="k">false</span> <span class="k">with</span> <span class="i">get</span>, <span onmouseout="hideTip(event, 'fs104', 294)" onmouseover="showTip(event, 'fs104', 294)" class="i">set</span>
  <span class="k">member</span> <span class="i">__</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs105', 295)" onmouseover="showTip(event, 'fs105', 295)" class="i">X</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs101', 296)" onmouseover="showTip(event, 'fs101', 296)" class="i">x&#39;</span>
  <span class="k">member</span> <span onmouseout="hideTip(event, 'fs106', 297)" onmouseover="showTip(event, 'fs106', 297)" class="i">__</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs107', 298)" onmouseover="showTip(event, 'fs107', 298)" class="i">Y</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs102', 299)" onmouseover="showTip(event, 'fs102', 299)" class="i">y&#39;</span> 
  <span class="k">member</span> <span onmouseout="hideTip(event, 'fs106', 300)" onmouseover="showTip(event, 'fs106', 300)" class="i">__</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs108', 301)" onmouseover="showTip(event, 'fs108', 301)" class="i">V</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs103', 302)" onmouseover="showTip(event, 'fs103', 302)" class="i">v&#39;</span>
  <span class="k">member</span> <span onmouseout="hideTip(event, 'fs109', 303)" onmouseover="showTip(event, 'fs109', 303)" class="i">ghost</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs110', 304)" onmouseover="showTip(event, 'fs110', 304)" class="i">Reset</span>() <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs101', 305)" onmouseover="showTip(event, 'fs101', 305)" class="i">x&#39;</span> <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs22', 306)" onmouseover="showTip(event, 'fs22', 306)" class="i">x</span>
    <span onmouseout="hideTip(event, 'fs102', 307)" onmouseover="showTip(event, 'fs102', 307)" class="i">y&#39;</span> <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs23', 308)" onmouseover="showTip(event, 'fs23', 308)" class="i">y</span>
  <span class="k">member</span> <span onmouseout="hideTip(event, 'fs109', 309)" onmouseover="showTip(event, 'fs109', 309)" class="i">ghost</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs111', 310)" onmouseover="showTip(event, 'fs111', 310)" class="i">Move</span>(<span onmouseout="hideTip(event, 'fs100', 311)" onmouseover="showTip(event, 'fs100', 311)" class="i">v</span>) <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs103', 312)" onmouseover="showTip(event, 'fs103', 312)" class="i">v&#39;</span> <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs100', 313)" onmouseover="showTip(event, 'fs100', 313)" class="i">v</span>    
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs96', 314)" onmouseover="showTip(event, 'fs96', 314)" class="i">dx</span>,<span onmouseout="hideTip(event, 'fs97', 315)" onmouseover="showTip(event, 'fs97', 315)" class="i">dy</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs100', 316)" onmouseover="showTip(event, 'fs100', 316)" class="i">v</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs22', 317)" onmouseover="showTip(event, 'fs22', 317)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 318)" onmouseover="showTip(event, 'fs23', 318)" class="i">y</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs95', 319)" onmouseover="showTip(event, 'fs95', 319)" class="i">wrap</span> (<span onmouseout="hideTip(event, 'fs101', 320)" onmouseover="showTip(event, 'fs101', 320)" class="i">x&#39;</span>,<span onmouseout="hideTip(event, 'fs102', 321)" onmouseover="showTip(event, 'fs102', 321)" class="i">y&#39;</span>) (<span onmouseout="hideTip(event, 'fs96', 322)" onmouseover="showTip(event, 'fs96', 322)" class="i">dx</span>,<span onmouseout="hideTip(event, 'fs97', 323)" onmouseover="showTip(event, 'fs97', 323)" class="i">dy</span>)
    <span onmouseout="hideTip(event, 'fs101', 324)" onmouseover="showTip(event, 'fs101', 324)" class="i">x&#39;</span> <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs22', 325)" onmouseover="showTip(event, 'fs22', 325)" class="i">x</span>
    <span onmouseout="hideTip(event, 'fs102', 326)" onmouseover="showTip(event, 'fs102', 326)" class="i">y&#39;</span> <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs23', 327)" onmouseover="showTip(event, 'fs23', 327)" class="i">y</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs112', 328)" onmouseover="showTip(event, 'fs112', 328)" class="i">createGhosts</span> <span onmouseout="hideTip(event, 'fs113', 329)" onmouseover="showTip(event, 'fs113', 329)" class="i">context</span> <span class="o">=</span> 
  [|
     <span onmouseout="hideTip(event, 'fs114', 330)" onmouseover="showTip(event, 'fs114', 330)" class="i">redd</span>, (<span class="n">16</span>, <span class="n">11</span>), (<span class="n">1</span>,<span class="n">0</span>)
     <span onmouseout="hideTip(event, 'fs115', 331)" onmouseover="showTip(event, 'fs115', 331)" class="i">cyand</span>, (<span class="n">14</span>, <span class="n">15</span>), (<span class="n">1</span>,<span class="n">0</span>)
     <span onmouseout="hideTip(event, 'fs116', 332)" onmouseover="showTip(event, 'fs116', 332)" class="i">pinkd</span>, (<span class="n">16</span>, <span class="n">13</span>), (<span class="n">0</span>,<span class="o">-</span><span class="n">1</span>)
     <span onmouseout="hideTip(event, 'fs117', 333)" onmouseover="showTip(event, 'fs117', 333)" class="i">oranged</span>, (<span class="n">18</span>, <span class="n">15</span>), (<span class="o">-</span><span class="n">1</span>,<span class="n">0</span>)
  |]
  <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs51', 334)" onmouseover="showTip(event, 'fs51', 334)" class="i">Array</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs118', 335)" onmouseover="showTip(event, 'fs118', 335)" class="i">map</span> (<span class="k">fun</span> (<span onmouseout="hideTip(event, 'fs2', 336)" onmouseover="showTip(event, 'fs2', 336)" class="i">data</span>,(<span onmouseout="hideTip(event, 'fs22', 337)" onmouseover="showTip(event, 'fs22', 337)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 338)" onmouseover="showTip(event, 'fs23', 338)" class="i">y</span>),<span onmouseout="hideTip(event, 'fs100', 339)" onmouseover="showTip(event, 'fs100', 339)" class="i">v</span>) <span class="k">-&gt;</span> 
    <span onmouseout="hideTip(event, 'fs98', 340)" onmouseover="showTip(event, 'fs98', 340)" class="i">Ghost</span>(<span onmouseout="hideTip(event, 'fs1', 341)" onmouseover="showTip(event, 'fs1', 341)" class="i">createImage</span> <span onmouseout="hideTip(event, 'fs2', 342)" onmouseover="showTip(event, 'fs2', 342)" class="i">data</span>, (<span onmouseout="hideTip(event, 'fs22', 343)" onmouseover="showTip(event, 'fs22', 343)" class="i">x</span><span class="o">*</span><span class="n">8</span>)<span class="o">-</span><span class="n">7</span>, (<span onmouseout="hideTip(event, 'fs23', 344)" onmouseover="showTip(event, 'fs23', 344)" class="i">y</span><span class="o">*</span><span class="n">8</span>)<span class="o">-</span><span class="n">3</span>, <span onmouseout="hideTip(event, 'fs100', 345)" onmouseover="showTip(event, 'fs100', 345)" class="i">v</span>)    
  )</pre>
</td>
</tr>
</table><h2>Ghost movement</h2>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
<span class="l">23: </span>
<span class="l">24: </span>
<span class="l">25: </span>
<span class="l">26: </span>
<span class="l">27: </span>
<span class="l">28: </span>
<span class="l">29: </span>
<span class="l">30: </span>
<span class="l">31: </span>
<span class="l">32: </span>
<span class="l">33: </span>
<span class="l">34: </span>
<span class="l">35: </span>
<span class="l">36: </span>
<span class="l">37: </span>
<span class="l">38: </span>
<span class="l">39: </span>
<span class="l">40: </span>
<span class="l">41: </span>
<span class="l">42: </span>
<span class="l">43: </span>
<span class="l">44: </span>
<span class="l">45: </span>
<span class="l">46: </span>
<span class="l">47: </span>
<span class="l">48: </span>
<span class="l">49: </span>
<span class="l">50: </span>
<span class="l">51: </span>
<span class="l">52: </span>
<span class="l">53: </span>
<span class="l">54: </span>
<span class="l">55: </span>
<span class="l">56: </span>
<span class="l">57: </span>
<span class="l">58: </span>
<span class="l">59: </span>
<span class="l">60: </span>
<span class="l">61: </span>
<span class="l">62: </span>
<span class="l">63: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs119', 346)" onmouseover="showTip(event, 'fs119', 346)" class="i">flood</span> <span onmouseout="hideTip(event, 'fs120', 347)" onmouseover="showTip(event, 'fs120', 347)" class="i">canFill</span> <span onmouseout="hideTip(event, 'fs121', 348)" onmouseover="showTip(event, 'fs121', 348)" class="i">fill</span> (<span onmouseout="hideTip(event, 'fs22', 349)" onmouseover="showTip(event, 'fs22', 349)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 350)" onmouseover="showTip(event, 'fs23', 350)" class="i">y</span>) <span class="o">=</span>
  <span class="k">let</span> <span class="k">rec</span> <span onmouseout="hideTip(event, 'fs122', 351)" onmouseover="showTip(event, 'fs122', 351)" class="i">f</span> <span onmouseout="hideTip(event, 'fs36', 352)" onmouseover="showTip(event, 'fs36', 352)" class="i">n</span> <span class="o">=</span> <span class="k">function</span>
    | [] <span class="k">-&gt;</span> ()
    | <span onmouseout="hideTip(event, 'fs123', 353)" onmouseover="showTip(event, 'fs123', 353)" class="i">ps</span> <span class="k">-&gt;</span>
      <span class="k">let</span> <span onmouseout="hideTip(event, 'fs123', 354)" onmouseover="showTip(event, 'fs123', 354)" class="i">ps</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs123', 355)" onmouseover="showTip(event, 'fs123', 355)" class="i">ps</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs124', 356)" onmouseover="showTip(event, 'fs124', 356)" class="i">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs125', 357)" onmouseover="showTip(event, 'fs125', 357)" class="i">filter</span> (<span class="k">fun</span> (<span onmouseout="hideTip(event, 'fs22', 358)" onmouseover="showTip(event, 'fs22', 358)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 359)" onmouseover="showTip(event, 'fs23', 359)" class="i">y</span>) <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs120', 360)" onmouseover="showTip(event, 'fs120', 360)" class="i">canFill</span> (<span onmouseout="hideTip(event, 'fs22', 361)" onmouseover="showTip(event, 'fs22', 361)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 362)" onmouseover="showTip(event, 'fs23', 362)" class="i">y</span>))
      <span onmouseout="hideTip(event, 'fs123', 363)" onmouseover="showTip(event, 'fs123', 363)" class="i">ps</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs124', 364)" onmouseover="showTip(event, 'fs124', 364)" class="i">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs126', 365)" onmouseover="showTip(event, 'fs126', 365)" class="i">iter</span> (<span class="k">fun</span> (<span onmouseout="hideTip(event, 'fs22', 366)" onmouseover="showTip(event, 'fs22', 366)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 367)" onmouseover="showTip(event, 'fs23', 367)" class="i">y</span>) <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs121', 368)" onmouseover="showTip(event, 'fs121', 368)" class="i">fill</span> (<span onmouseout="hideTip(event, 'fs22', 369)" onmouseover="showTip(event, 'fs22', 369)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 370)" onmouseover="showTip(event, 'fs23', 370)" class="i">y</span>,<span onmouseout="hideTip(event, 'fs36', 371)" onmouseover="showTip(event, 'fs36', 371)" class="i">n</span>))
      <span onmouseout="hideTip(event, 'fs123', 372)" onmouseover="showTip(event, 'fs123', 372)" class="i">ps</span> 
      <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs124', 373)" onmouseover="showTip(event, 'fs124', 373)" class="i">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs127', 374)" onmouseover="showTip(event, 'fs127', 374)" class="i">collect</span> (<span class="k">fun</span> (<span onmouseout="hideTip(event, 'fs22', 375)" onmouseover="showTip(event, 'fs22', 375)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 376)" onmouseover="showTip(event, 'fs23', 376)" class="i">y</span>) <span class="k">-&gt;</span> 
          [(<span onmouseout="hideTip(event, 'fs22', 377)" onmouseover="showTip(event, 'fs22', 377)" class="i">x</span><span class="o">-</span><span class="n">1</span>,<span onmouseout="hideTip(event, 'fs23', 378)" onmouseover="showTip(event, 'fs23', 378)" class="i">y</span>);(<span onmouseout="hideTip(event, 'fs22', 379)" onmouseover="showTip(event, 'fs22', 379)" class="i">x</span><span class="o">+</span><span class="n">1</span>,<span onmouseout="hideTip(event, 'fs23', 380)" onmouseover="showTip(event, 'fs23', 380)" class="i">y</span>);(<span onmouseout="hideTip(event, 'fs22', 381)" onmouseover="showTip(event, 'fs22', 381)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 382)" onmouseover="showTip(event, 'fs23', 382)" class="i">y</span><span class="o">-</span><span class="n">1</span>);(<span onmouseout="hideTip(event, 'fs22', 383)" onmouseover="showTip(event, 'fs22', 383)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 384)" onmouseover="showTip(event, 'fs23', 384)" class="i">y</span><span class="o">+</span><span class="n">1</span>)])
      <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs122', 385)" onmouseover="showTip(event, 'fs122', 385)" class="i">f</span> (<span onmouseout="hideTip(event, 'fs36', 386)" onmouseover="showTip(event, 'fs36', 386)" class="i">n</span><span class="o">+</span><span class="n">1</span>)
  <span onmouseout="hideTip(event, 'fs122', 387)" onmouseover="showTip(event, 'fs122', 387)" class="i">f</span> <span class="n">0</span> [(<span onmouseout="hideTip(event, 'fs22', 388)" onmouseover="showTip(event, 'fs22', 388)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 389)" onmouseover="showTip(event, 'fs23', 389)" class="i">y</span>)]

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs128', 390)" onmouseover="showTip(event, 'fs128', 390)" class="i">route_home</span> <span class="o">=</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs129', 391)" onmouseover="showTip(event, 'fs129', 391)" class="i">numbers</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs12', 392)" onmouseover="showTip(event, 'fs12', 392)" class="i">maze</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs51', 393)" onmouseover="showTip(event, 'fs51', 393)" class="i">Array</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs118', 394)" onmouseover="showTip(event, 'fs118', 394)" class="i">map</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs81', 395)" onmouseover="showTip(event, 'fs81', 395)" class="i">line</span> <span class="k">-&gt;</span>
      <span onmouseout="hideTip(event, 'fs81', 396)" onmouseover="showTip(event, 'fs81', 396)" class="i">line</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs92', 397)" onmouseover="showTip(event, 'fs92', 397)" class="i">ToCharArray</span>() 
      <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs51', 398)" onmouseover="showTip(event, 'fs51', 398)" class="i">Array</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs118', 399)" onmouseover="showTip(event, 'fs118', 399)" class="i">map</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs19', 400)" onmouseover="showTip(event, 'fs19', 400)" class="i">c</span> <span class="k">-&gt;</span> <span class="k">if</span> <span onmouseout="hideTip(event, 'fs18', 401)" onmouseover="showTip(event, 'fs18', 401)" class="i">isWall</span> <span onmouseout="hideTip(event, 'fs19', 402)" onmouseover="showTip(event, 'fs19', 402)" class="i">c</span> <span class="k">then</span> <span class="n">999</span> <span class="k">else</span> <span class="o">-</span><span class="n">1</span>)
    )
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs120', 403)" onmouseover="showTip(event, 'fs120', 403)" class="i">canFill</span> (<span onmouseout="hideTip(event, 'fs22', 404)" onmouseover="showTip(event, 'fs22', 404)" class="i">x</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs49', 405)" onmouseover="showTip(event, 'fs49', 405)" class="i">int</span>,<span onmouseout="hideTip(event, 'fs23', 406)" onmouseover="showTip(event, 'fs23', 406)" class="i">y</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs49', 407)" onmouseover="showTip(event, 'fs49', 407)" class="i">int</span>) <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs23', 408)" onmouseover="showTip(event, 'fs23', 408)" class="i">y</span><span class="o">&gt;</span><span class="o">=</span><span class="n">0</span> <span class="o">&amp;&amp;</span> <span onmouseout="hideTip(event, 'fs23', 409)" onmouseover="showTip(event, 'fs23', 409)" class="i">y</span> <span class="o">&lt;</span> (<span onmouseout="hideTip(event, 'fs129', 410)" onmouseover="showTip(event, 'fs129', 410)" class="i">numbers</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs80', 411)" onmouseover="showTip(event, 'fs80', 411)" class="i">Length</span><span class="o">-</span><span class="n">1</span>) <span class="o">&amp;&amp;</span>
    <span onmouseout="hideTip(event, 'fs22', 412)" onmouseover="showTip(event, 'fs22', 412)" class="i">x</span><span class="o">&gt;</span><span class="o">=</span><span class="n">0</span> <span class="o">&amp;&amp;</span> <span onmouseout="hideTip(event, 'fs22', 413)" onmouseover="showTip(event, 'fs22', 413)" class="i">x</span> <span class="o">&lt;</span> (<span onmouseout="hideTip(event, 'fs129', 414)" onmouseover="showTip(event, 'fs129', 414)" class="i">numbers</span><span class="o">.</span>[<span onmouseout="hideTip(event, 'fs23', 415)" onmouseover="showTip(event, 'fs23', 415)" class="i">y</span>]<span class="o">.</span><span class="i">Length</span><span class="o">-</span><span class="n">1</span>) <span class="o">&amp;&amp;</span>
    <span onmouseout="hideTip(event, 'fs129', 416)" onmouseover="showTip(event, 'fs129', 416)" class="i">numbers</span><span class="o">.</span>[<span onmouseout="hideTip(event, 'fs23', 417)" onmouseover="showTip(event, 'fs23', 417)" class="i">y</span>]<span class="o">.</span>[<span onmouseout="hideTip(event, 'fs22', 418)" onmouseover="showTip(event, 'fs22', 418)" class="i">x</span>] <span class="o">=</span> <span class="o">-</span><span class="n">1</span>      
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs121', 419)" onmouseover="showTip(event, 'fs121', 419)" class="i">fill</span> (<span onmouseout="hideTip(event, 'fs22', 420)" onmouseover="showTip(event, 'fs22', 420)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 421)" onmouseover="showTip(event, 'fs23', 421)" class="i">y</span>,<span onmouseout="hideTip(event, 'fs36', 422)" onmouseover="showTip(event, 'fs36', 422)" class="i">n</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs129', 423)" onmouseover="showTip(event, 'fs129', 423)" class="i">numbers</span><span class="o">.</span>[<span onmouseout="hideTip(event, 'fs23', 424)" onmouseover="showTip(event, 'fs23', 424)" class="i">y</span>]<span class="o">.</span>[<span onmouseout="hideTip(event, 'fs22', 425)" onmouseover="showTip(event, 'fs22', 425)" class="i">x</span>] <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs36', 426)" onmouseover="showTip(event, 'fs36', 426)" class="i">n</span>
  <span onmouseout="hideTip(event, 'fs119', 427)" onmouseover="showTip(event, 'fs119', 427)" class="i">flood</span> <span onmouseout="hideTip(event, 'fs120', 428)" onmouseover="showTip(event, 'fs120', 428)" class="i">canFill</span> <span onmouseout="hideTip(event, 'fs121', 429)" onmouseover="showTip(event, 'fs121', 429)" class="i">fill</span> (<span class="n">16</span>,<span class="n">15</span>)
  <span onmouseout="hideTip(event, 'fs129', 430)" onmouseover="showTip(event, 'fs129', 430)" class="i">numbers</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs130', 431)" onmouseover="showTip(event, 'fs130', 431)" class="i">fillValue</span> (<span onmouseout="hideTip(event, 'fs22', 432)" onmouseover="showTip(event, 'fs22', 432)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 433)" onmouseover="showTip(event, 'fs23', 433)" class="i">y</span>) (<span onmouseout="hideTip(event, 'fs26', 434)" onmouseover="showTip(event, 'fs26', 434)" class="i">ex</span>,<span onmouseout="hideTip(event, 'fs27', 435)" onmouseover="showTip(event, 'fs27', 435)" class="i">ey</span>) <span class="o">=</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs28', 436)" onmouseover="showTip(event, 'fs28', 436)" class="i">bx</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs49', 437)" onmouseover="showTip(event, 'fs49', 437)" class="i">int</span> (<span onmouseout="hideTip(event, 'fs4', 438)" onmouseover="showTip(event, 'fs4', 438)" class="i">ts</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs131', 439)" onmouseover="showTip(event, 'fs131', 439)" class="i">Math</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs132', 440)" onmouseover="showTip(event, 'fs132', 440)" class="i">floor</span>(<span onmouseout="hideTip(event, 'fs65', 441)" onmouseover="showTip(event, 'fs65', 441)" class="i">float</span> ((<span onmouseout="hideTip(event, 'fs22', 442)" onmouseover="showTip(event, 'fs22', 442)" class="i">x</span><span class="o">+</span><span class="n">6</span><span class="o">+</span><span onmouseout="hideTip(event, 'fs26', 443)" onmouseover="showTip(event, 'fs26', 443)" class="i">ex</span>)<span class="o">/</span><span class="n">8</span>)))
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs29', 444)" onmouseover="showTip(event, 'fs29', 444)" class="i">by</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs49', 445)" onmouseover="showTip(event, 'fs49', 445)" class="i">int</span> (<span onmouseout="hideTip(event, 'fs4', 446)" onmouseover="showTip(event, 'fs4', 446)" class="i">ts</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs131', 447)" onmouseover="showTip(event, 'fs131', 447)" class="i">Math</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs132', 448)" onmouseover="showTip(event, 'fs132', 448)" class="i">floor</span>(<span onmouseout="hideTip(event, 'fs65', 449)" onmouseover="showTip(event, 'fs65', 449)" class="i">float</span> ((<span onmouseout="hideTip(event, 'fs23', 450)" onmouseover="showTip(event, 'fs23', 450)" class="i">y</span><span class="o">+</span><span class="n">6</span><span class="o">+</span><span onmouseout="hideTip(event, 'fs27', 451)" onmouseover="showTip(event, 'fs27', 451)" class="i">ey</span>)<span class="o">/</span><span class="n">8</span>)))
  <span onmouseout="hideTip(event, 'fs128', 452)" onmouseover="showTip(event, 'fs128', 452)" class="i">route_home</span><span class="o">.</span>[<span onmouseout="hideTip(event, 'fs29', 453)" onmouseover="showTip(event, 'fs29', 453)" class="i">by</span>]<span class="o">.</span>[<span onmouseout="hideTip(event, 'fs28', 454)" onmouseover="showTip(event, 'fs28', 454)" class="i">bx</span>]

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs133', 455)" onmouseover="showTip(event, 'fs133', 455)" class="i">fillUp</span> (<span onmouseout="hideTip(event, 'fs22', 456)" onmouseover="showTip(event, 'fs22', 456)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 457)" onmouseover="showTip(event, 'fs23', 457)" class="i">y</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs130', 458)" onmouseover="showTip(event, 'fs130', 458)" class="i">fillValue</span> (<span onmouseout="hideTip(event, 'fs22', 459)" onmouseover="showTip(event, 'fs22', 459)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 460)" onmouseover="showTip(event, 'fs23', 460)" class="i">y</span>) (<span class="n">0</span>,<span class="o">-</span><span class="n">4</span>)
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs134', 461)" onmouseover="showTip(event, 'fs134', 461)" class="i">fillDown</span> (<span onmouseout="hideTip(event, 'fs22', 462)" onmouseover="showTip(event, 'fs22', 462)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 463)" onmouseover="showTip(event, 'fs23', 463)" class="i">y</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs130', 464)" onmouseover="showTip(event, 'fs130', 464)" class="i">fillValue</span> (<span onmouseout="hideTip(event, 'fs22', 465)" onmouseover="showTip(event, 'fs22', 465)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 466)" onmouseover="showTip(event, 'fs23', 466)" class="i">y</span>) (<span class="n">0</span>,<span class="n">5</span>)
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs135', 467)" onmouseover="showTip(event, 'fs135', 467)" class="i">fillLeft</span> (<span onmouseout="hideTip(event, 'fs22', 468)" onmouseover="showTip(event, 'fs22', 468)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 469)" onmouseover="showTip(event, 'fs23', 469)" class="i">y</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs130', 470)" onmouseover="showTip(event, 'fs130', 470)" class="i">fillValue</span> (<span onmouseout="hideTip(event, 'fs22', 471)" onmouseover="showTip(event, 'fs22', 471)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 472)" onmouseover="showTip(event, 'fs23', 472)" class="i">y</span>) (<span class="o">-</span><span class="n">4</span>,<span class="n">0</span>)
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs136', 473)" onmouseover="showTip(event, 'fs136', 473)" class="i">fillRight</span> (<span onmouseout="hideTip(event, 'fs22', 474)" onmouseover="showTip(event, 'fs22', 474)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 475)" onmouseover="showTip(event, 'fs23', 475)" class="i">y</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs130', 476)" onmouseover="showTip(event, 'fs130', 476)" class="i">fillValue</span> (<span onmouseout="hideTip(event, 'fs22', 477)" onmouseover="showTip(event, 'fs22', 477)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 478)" onmouseover="showTip(event, 'fs23', 478)" class="i">y</span>) (<span class="n">5</span>,<span class="n">0</span>)

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs137', 479)" onmouseover="showTip(event, 'fs137', 479)" class="i">chooseDirection</span> (<span onmouseout="hideTip(event, 'fs109', 480)" onmouseover="showTip(event, 'fs109', 480)" class="i">ghost</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs98', 481)" onmouseover="showTip(event, 'fs98', 481)" class="i">Ghost</span>) <span class="o">=</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs22', 482)" onmouseover="showTip(event, 'fs22', 482)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 483)" onmouseover="showTip(event, 'fs23', 483)" class="i">y</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs109', 484)" onmouseover="showTip(event, 'fs109', 484)" class="i">ghost</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs138', 485)" onmouseover="showTip(event, 'fs138', 485)" class="i">X</span>, <span onmouseout="hideTip(event, 'fs109', 486)" onmouseover="showTip(event, 'fs109', 486)" class="i">ghost</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs139', 487)" onmouseover="showTip(event, 'fs139', 487)" class="i">Y</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs96', 488)" onmouseover="showTip(event, 'fs96', 488)" class="i">dx</span>,<span onmouseout="hideTip(event, 'fs97', 489)" onmouseover="showTip(event, 'fs97', 489)" class="i">dy</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs109', 490)" onmouseover="showTip(event, 'fs109', 490)" class="i">ghost</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs140', 491)" onmouseover="showTip(event, 'fs140', 491)" class="i">V</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs141', 492)" onmouseover="showTip(event, 'fs141', 492)" class="i">isBackwards</span> (<span onmouseout="hideTip(event, 'fs62', 493)" onmouseover="showTip(event, 'fs62', 493)" class="i">a</span>,<span onmouseout="hideTip(event, 'fs61', 494)" onmouseover="showTip(event, 'fs61', 494)" class="i">b</span>) <span class="o">=</span>
    (<span onmouseout="hideTip(event, 'fs62', 495)" onmouseover="showTip(event, 'fs62', 495)" class="i">a</span> <span class="o">&lt;&gt;</span> <span class="n">0</span> <span class="o">&amp;&amp;</span> <span onmouseout="hideTip(event, 'fs62', 496)" onmouseover="showTip(event, 'fs62', 496)" class="i">a</span> <span class="o">=</span> <span class="o">-</span><span onmouseout="hideTip(event, 'fs96', 497)" onmouseover="showTip(event, 'fs96', 497)" class="i">dx</span>) <span class="o">||</span> (<span onmouseout="hideTip(event, 'fs61', 498)" onmouseover="showTip(event, 'fs61', 498)" class="i">b</span> <span class="o">&lt;&gt;</span> <span class="n">0</span> <span class="o">&amp;&amp;</span> <span onmouseout="hideTip(event, 'fs61', 499)" onmouseover="showTip(event, 'fs61', 499)" class="i">b</span> <span class="o">=</span> <span class="o">-</span><span onmouseout="hideTip(event, 'fs97', 500)" onmouseover="showTip(event, 'fs97', 500)" class="i">dy</span>)
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs142', 501)" onmouseover="showTip(event, 'fs142', 501)" class="i">directions</span> <span class="o">=</span> 
    [|<span class="k">if</span> <span onmouseout="hideTip(event, 'fs39', 502)" onmouseover="showTip(event, 'fs39', 502)" class="i">canGoLeft</span>(<span onmouseout="hideTip(event, 'fs22', 503)" onmouseover="showTip(event, 'fs22', 503)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 504)" onmouseover="showTip(event, 'fs23', 504)" class="i">y</span>) <span class="k">then</span> <span class="k">yield</span> (<span class="o">-</span><span class="n">1</span>,<span class="n">0</span>), <span onmouseout="hideTip(event, 'fs135', 505)" onmouseover="showTip(event, 'fs135', 505)" class="i">fillLeft</span>(<span onmouseout="hideTip(event, 'fs22', 506)" onmouseover="showTip(event, 'fs22', 506)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 507)" onmouseover="showTip(event, 'fs23', 507)" class="i">y</span>)
      <span class="k">if</span> <span onmouseout="hideTip(event, 'fs38', 508)" onmouseover="showTip(event, 'fs38', 508)" class="i">canGoDown</span>(<span onmouseout="hideTip(event, 'fs22', 509)" onmouseover="showTip(event, 'fs22', 509)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 510)" onmouseover="showTip(event, 'fs23', 510)" class="i">y</span>) <span class="k">then</span> <span class="k">yield</span> (<span class="n">0</span>,<span class="n">1</span>), <span onmouseout="hideTip(event, 'fs134', 511)" onmouseover="showTip(event, 'fs134', 511)" class="i">fillDown</span>(<span onmouseout="hideTip(event, 'fs22', 512)" onmouseover="showTip(event, 'fs22', 512)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 513)" onmouseover="showTip(event, 'fs23', 513)" class="i">y</span>)
      <span class="k">if</span> <span onmouseout="hideTip(event, 'fs40', 514)" onmouseover="showTip(event, 'fs40', 514)" class="i">canGoRight</span>(<span onmouseout="hideTip(event, 'fs22', 515)" onmouseover="showTip(event, 'fs22', 515)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 516)" onmouseover="showTip(event, 'fs23', 516)" class="i">y</span>) <span class="k">then</span> <span class="k">yield</span> (<span class="n">1</span>,<span class="n">0</span>), <span onmouseout="hideTip(event, 'fs136', 517)" onmouseover="showTip(event, 'fs136', 517)" class="i">fillRight</span>(<span onmouseout="hideTip(event, 'fs22', 518)" onmouseover="showTip(event, 'fs22', 518)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 519)" onmouseover="showTip(event, 'fs23', 519)" class="i">y</span>)
      <span class="k">if</span> <span onmouseout="hideTip(event, 'fs37', 520)" onmouseover="showTip(event, 'fs37', 520)" class="i">canGoUp</span>(<span onmouseout="hideTip(event, 'fs22', 521)" onmouseover="showTip(event, 'fs22', 521)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 522)" onmouseover="showTip(event, 'fs23', 522)" class="i">y</span>) <span class="k">then</span> <span class="k">yield</span> (<span class="n">0</span>,<span class="o">-</span><span class="n">1</span>), <span onmouseout="hideTip(event, 'fs133', 523)" onmouseover="showTip(event, 'fs133', 523)" class="i">fillUp</span>(<span onmouseout="hideTip(event, 'fs22', 524)" onmouseover="showTip(event, 'fs22', 524)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 525)" onmouseover="showTip(event, 'fs23', 525)" class="i">y</span>) |]
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs96', 526)" onmouseover="showTip(event, 'fs96', 526)" class="i">dx</span>,<span onmouseout="hideTip(event, 'fs97', 527)" onmouseover="showTip(event, 'fs97', 527)" class="i">dy</span> <span class="o">=</span>
    <span class="k">if</span> <span onmouseout="hideTip(event, 'fs109', 528)" onmouseover="showTip(event, 'fs109', 528)" class="i">ghost</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs143', 529)" onmouseover="showTip(event, 'fs143', 529)" class="i">IsReturning</span> 
    <span class="k">then</span>
      <span onmouseout="hideTip(event, 'fs142', 530)" onmouseover="showTip(event, 'fs142', 530)" class="i">directions</span>
      <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs51', 531)" onmouseover="showTip(event, 'fs51', 531)" class="i">Array</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs144', 532)" onmouseover="showTip(event, 'fs144', 532)" class="i">sortBy</span> <span onmouseout="hideTip(event, 'fs145', 533)" onmouseover="showTip(event, 'fs145', 533)" class="i">snd</span>        
      <span class="o">|&gt;</span> <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs146', 534)" onmouseover="showTip(event, 'fs146', 534)" class="i">xs</span> <span class="k">-&gt;</span> 
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs100', 535)" onmouseover="showTip(event, 'fs100', 535)" class="i">v</span>, <span onmouseout="hideTip(event, 'fs36', 536)" onmouseover="showTip(event, 'fs36', 536)" class="i">n</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs146', 537)" onmouseover="showTip(event, 'fs146', 537)" class="i">xs</span><span class="o">.</span>[<span class="n">0</span>]
        <span class="k">if</span> <span onmouseout="hideTip(event, 'fs36', 538)" onmouseover="showTip(event, 'fs36', 538)" class="i">n</span> <span class="o">=</span> <span class="n">0</span> <span class="k">then</span> <span onmouseout="hideTip(event, 'fs109', 539)" onmouseover="showTip(event, 'fs109', 539)" class="i">ghost</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs143', 540)" onmouseover="showTip(event, 'fs143', 540)" class="i">IsReturning</span> <span class="o">&lt;-</span> <span class="k">false</span>
        <span onmouseout="hideTip(event, 'fs100', 541)" onmouseover="showTip(event, 'fs100', 541)" class="i">v</span>
    <span class="k">else</span>      
      <span onmouseout="hideTip(event, 'fs142', 542)" onmouseover="showTip(event, 'fs142', 542)" class="i">directions</span>
      <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs51', 543)" onmouseover="showTip(event, 'fs51', 543)" class="i">Array</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs118', 544)" onmouseover="showTip(event, 'fs118', 544)" class="i">map</span> <span onmouseout="hideTip(event, 'fs147', 545)" onmouseover="showTip(event, 'fs147', 545)" class="i">fst</span>
      <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs51', 546)" onmouseover="showTip(event, 'fs51', 546)" class="i">Array</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs148', 547)" onmouseover="showTip(event, 'fs148', 547)" class="i">filter</span> (<span onmouseout="hideTip(event, 'fs30', 548)" onmouseover="showTip(event, 'fs30', 548)" class="i">not</span> <span class="o">&lt;&lt;</span> <span onmouseout="hideTip(event, 'fs141', 549)" onmouseover="showTip(event, 'fs141', 549)" class="i">isBackwards</span>)
      <span class="o">|&gt;</span> <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs149', 550)" onmouseover="showTip(event, 'fs149', 550)" class="i">xs</span> <span class="k">-&gt;</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs150', 551)" onmouseover="showTip(event, 'fs150', 551)" class="i">i</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs4', 552)" onmouseover="showTip(event, 'fs4', 552)" class="i">ts</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs131', 553)" onmouseover="showTip(event, 'fs131', 553)" class="i">Math</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs151', 554)" onmouseover="showTip(event, 'fs151', 554)" class="i">random</span>() <span class="o">*</span> <span onmouseout="hideTip(event, 'fs65', 555)" onmouseover="showTip(event, 'fs65', 555)" class="i">float</span> <span onmouseout="hideTip(event, 'fs149', 556)" onmouseover="showTip(event, 'fs149', 556)" class="i">xs</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs80', 557)" onmouseover="showTip(event, 'fs80', 557)" class="i">Length</span>
        <span onmouseout="hideTip(event, 'fs149', 558)" onmouseover="showTip(event, 'fs149', 558)" class="i">xs</span><span class="o">.</span>[<span onmouseout="hideTip(event, 'fs49', 559)" onmouseover="showTip(event, 'fs49', 559)" class="i">int</span> (<span onmouseout="hideTip(event, 'fs4', 560)" onmouseover="showTip(event, 'fs4', 560)" class="i">ts</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs131', 561)" onmouseover="showTip(event, 'fs131', 561)" class="i">Math</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs132', 562)" onmouseover="showTip(event, 'fs132', 562)" class="i">floor</span> <span onmouseout="hideTip(event, 'fs150', 563)" onmouseover="showTip(event, 'fs150', 563)" class="i">i</span>)]
  <span onmouseout="hideTip(event, 'fs96', 564)" onmouseover="showTip(event, 'fs96', 564)" class="i">dx</span>,<span onmouseout="hideTip(event, 'fs97', 565)" onmouseover="showTip(event, 'fs97', 565)" class="i">dy</span></pre>
</td>
</tr>
</table><h2>Keyboard input</h2>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
<span class="l">9: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs152', 566)" onmouseover="showTip(event, 'fs152', 566)" class="i">Keys</span>() <span class="o">=</span>
  <span class="k">let</span> <span class="k">mutable</span> <span onmouseout="hideTip(event, 'fs153', 567)" onmouseover="showTip(event, 'fs153', 567)" class="i">keysPressed</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs154', 568)" onmouseover="showTip(event, 'fs154', 568)" class="i">Set</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs155', 569)" onmouseover="showTip(event, 'fs155', 569)" class="i">empty</span>
  <span class="k">member</span> <span onmouseout="hideTip(event, 'fs156', 570)" onmouseover="showTip(event, 'fs156', 570)" class="i">keys</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs157', 571)" onmouseover="showTip(event, 'fs157', 571)" class="i">Reset</span> () <span class="o">=</span> <span onmouseout="hideTip(event, 'fs153', 572)" onmouseover="showTip(event, 'fs153', 572)" class="i">keysPressed</span> <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs154', 573)" onmouseover="showTip(event, 'fs154', 573)" class="i">Set</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs155', 574)" onmouseover="showTip(event, 'fs155', 574)" class="i">empty</span>
  <span class="k">member</span> <span onmouseout="hideTip(event, 'fs156', 575)" onmouseover="showTip(event, 'fs156', 575)" class="i">keys</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs158', 576)" onmouseover="showTip(event, 'fs158', 576)" class="i">IsPressed</span> <span onmouseout="hideTip(event, 'fs159', 577)" onmouseover="showTip(event, 'fs159', 577)" class="i">keyCode</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs154', 578)" onmouseover="showTip(event, 'fs154', 578)" class="i">Set</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs160', 579)" onmouseover="showTip(event, 'fs160', 579)" class="i">contains</span> <span onmouseout="hideTip(event, 'fs159', 580)" onmouseover="showTip(event, 'fs159', 580)" class="i">keyCode</span> <span onmouseout="hideTip(event, 'fs153', 581)" onmouseover="showTip(event, 'fs153', 581)" class="i">keysPressed</span>
  <span class="k">member</span> <span onmouseout="hideTip(event, 'fs156', 582)" onmouseover="showTip(event, 'fs156', 582)" class="i">keys</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs161', 583)" onmouseover="showTip(event, 'fs161', 583)" class="i">Update</span> (<span onmouseout="hideTip(event, 'fs162', 584)" onmouseover="showTip(event, 'fs162', 584)" class="i">e</span>,<span onmouseout="hideTip(event, 'fs163', 585)" onmouseover="showTip(event, 'fs163', 585)" class="i">pressed</span>) <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs164', 586)" onmouseover="showTip(event, 'fs164', 586)" class="i">e</span> <span class="o">=</span> (<span onmouseout="hideTip(event, 'fs8', 587)" onmouseover="showTip(event, 'fs8', 587)" class="i">unbox</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs4', 588)" onmouseover="showTip(event, 'fs4', 588)" class="i">ts</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs165', 589)" onmouseover="showTip(event, 'fs165', 589)" class="i">KeyboardEventExtensions</span><span class="o">&gt;</span>(<span onmouseout="hideTip(event, 'fs162', 590)" onmouseover="showTip(event, 'fs162', 590)" class="i">e</span>))
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs159', 591)" onmouseover="showTip(event, 'fs159', 591)" class="i">keyCode</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs49', 592)" onmouseover="showTip(event, 'fs49', 592)" class="i">int</span> <span onmouseout="hideTip(event, 'fs164', 593)" onmouseover="showTip(event, 'fs164', 593)" class="i">e</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs166', 594)" onmouseover="showTip(event, 'fs166', 594)" class="i">keyCode</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs167', 595)" onmouseover="showTip(event, 'fs167', 595)" class="i">op</span> <span class="o">=</span>  <span class="k">if</span> <span onmouseout="hideTip(event, 'fs163', 596)" onmouseover="showTip(event, 'fs163', 596)" class="i">pressed</span> <span class="k">then</span> <span onmouseout="hideTip(event, 'fs154', 597)" onmouseover="showTip(event, 'fs154', 597)" class="i">Set</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs168', 598)" onmouseover="showTip(event, 'fs168', 598)" class="i">add</span> <span class="k">else</span> <span onmouseout="hideTip(event, 'fs154', 599)" onmouseover="showTip(event, 'fs154', 599)" class="i">Set</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs169', 600)" onmouseover="showTip(event, 'fs169', 600)" class="i">remove</span>
    <span onmouseout="hideTip(event, 'fs153', 601)" onmouseover="showTip(event, 'fs153', 601)" class="i">keysPressed</span> <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs167', 602)" onmouseover="showTip(event, 'fs167', 602)" class="i">op</span> <span onmouseout="hideTip(event, 'fs159', 603)" onmouseover="showTip(event, 'fs159', 603)" class="i">keyCode</span> <span onmouseout="hideTip(event, 'fs153', 604)" onmouseover="showTip(event, 'fs153', 604)" class="i">keysPressed</span></pre>
</td>
</tr>
</table><h2>Pacman</h2>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs170', 605)" onmouseover="showTip(event, 'fs170', 605)" class="i">Pacman</span> () <span class="o">=</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs171', 606)" onmouseover="showTip(event, 'fs171', 606)" class="i">pu1</span>, <span onmouseout="hideTip(event, 'fs172', 607)" onmouseover="showTip(event, 'fs172', 607)" class="i">pu2</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs1', 608)" onmouseover="showTip(event, 'fs1', 608)" class="i">createImage</span> <span onmouseout="hideTip(event, 'fs173', 609)" onmouseover="showTip(event, 'fs173', 609)" class="i">pu1</span>, <span onmouseout="hideTip(event, 'fs1', 610)" onmouseover="showTip(event, 'fs1', 610)" class="i">createImage</span> <span onmouseout="hideTip(event, 'fs172', 611)" onmouseover="showTip(event, 'fs172', 611)" class="i">pu2</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs174', 612)" onmouseover="showTip(event, 'fs174', 612)" class="i">pd1</span>, <span onmouseout="hideTip(event, 'fs175', 613)" onmouseover="showTip(event, 'fs175', 613)" class="i">pd2</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs1', 614)" onmouseover="showTip(event, 'fs1', 614)" class="i">createImage</span> <span onmouseout="hideTip(event, 'fs176', 615)" onmouseover="showTip(event, 'fs176', 615)" class="i">pd1</span>, <span onmouseout="hideTip(event, 'fs1', 616)" onmouseover="showTip(event, 'fs1', 616)" class="i">createImage</span> <span onmouseout="hideTip(event, 'fs175', 617)" onmouseover="showTip(event, 'fs175', 617)" class="i">pd2</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs177', 618)" onmouseover="showTip(event, 'fs177', 618)" class="i">pl1</span>, <span onmouseout="hideTip(event, 'fs178', 619)" onmouseover="showTip(event, 'fs178', 619)" class="i">pl2</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs1', 620)" onmouseover="showTip(event, 'fs1', 620)" class="i">createImage</span> <span onmouseout="hideTip(event, 'fs179', 621)" onmouseover="showTip(event, 'fs179', 621)" class="i">pl1</span>, <span onmouseout="hideTip(event, 'fs1', 622)" onmouseover="showTip(event, 'fs1', 622)" class="i">createImage</span> <span onmouseout="hideTip(event, 'fs178', 623)" onmouseover="showTip(event, 'fs178', 623)" class="i">pl2</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs180', 624)" onmouseover="showTip(event, 'fs180', 624)" class="i">pr1</span>, <span onmouseout="hideTip(event, 'fs181', 625)" onmouseover="showTip(event, 'fs181', 625)" class="i">pr2</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs1', 626)" onmouseover="showTip(event, 'fs1', 626)" class="i">createImage</span> <span onmouseout="hideTip(event, 'fs182', 627)" onmouseover="showTip(event, 'fs182', 627)" class="i">pr1</span>, <span onmouseout="hideTip(event, 'fs1', 628)" onmouseover="showTip(event, 'fs1', 628)" class="i">createImage</span> <span onmouseout="hideTip(event, 'fs181', 629)" onmouseover="showTip(event, 'fs181', 629)" class="i">pr2</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs183', 630)" onmouseover="showTip(event, 'fs183', 630)" class="i">lastp</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs184', 631)" onmouseover="showTip(event, 'fs184', 631)" class="i">ref</span> <span onmouseout="hideTip(event, 'fs180', 632)" onmouseover="showTip(event, 'fs180', 632)" class="i">pr1</span>
  <span class="k">member</span> <span class="i">__</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs185', 633)" onmouseover="showTip(event, 'fs185', 633)" class="i">ImageAt</span>(<span onmouseout="hideTip(event, 'fs186', 634)" onmouseover="showTip(event, 'fs186', 634)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs187', 635)" onmouseover="showTip(event, 'fs187', 635)" class="i">y</span>,<span onmouseout="hideTip(event, 'fs188', 636)" onmouseover="showTip(event, 'fs188', 636)" class="i">v</span>) <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs189', 637)" onmouseover="showTip(event, 'fs189', 637)" class="i">p1</span>, <span onmouseout="hideTip(event, 'fs190', 638)" onmouseover="showTip(event, 'fs190', 638)" class="i">p2</span> <span class="o">=</span>
      <span class="k">match</span> <span class="o">!</span><span onmouseout="hideTip(event, 'fs188', 639)" onmouseover="showTip(event, 'fs188', 639)" class="i">v</span> <span class="k">with</span>
      | <span class="o">-</span><span class="n">1</span>,  <span class="n">0</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs177', 640)" onmouseover="showTip(event, 'fs177', 640)" class="i">pl1</span>, <span onmouseout="hideTip(event, 'fs178', 641)" onmouseover="showTip(event, 'fs178', 641)" class="i">pl2</span>
      |  <span class="n">1</span>,  <span class="n">0</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs180', 642)" onmouseover="showTip(event, 'fs180', 642)" class="i">pr1</span>, <span onmouseout="hideTip(event, 'fs181', 643)" onmouseover="showTip(event, 'fs181', 643)" class="i">pr2</span>
      |  <span class="n">0</span>, <span class="o">-</span><span class="n">1</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs171', 644)" onmouseover="showTip(event, 'fs171', 644)" class="i">pu1</span>, <span onmouseout="hideTip(event, 'fs172', 645)" onmouseover="showTip(event, 'fs172', 645)" class="i">pu2</span>
      |  <span class="n">0</span>,  <span class="n">1</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs174', 646)" onmouseover="showTip(event, 'fs174', 646)" class="i">pd1</span>, <span onmouseout="hideTip(event, 'fs175', 647)" onmouseover="showTip(event, 'fs175', 647)" class="i">pd2</span>
      |  _,  _ <span class="k">-&gt;</span> <span class="o">!</span><span onmouseout="hideTip(event, 'fs183', 648)" onmouseover="showTip(event, 'fs183', 648)" class="i">lastp</span>, <span class="o">!</span><span onmouseout="hideTip(event, 'fs183', 649)" onmouseover="showTip(event, 'fs183', 649)" class="i">lastp</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs87', 650)" onmouseover="showTip(event, 'fs87', 650)" class="i">x&#39;</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs49', 651)" onmouseover="showTip(event, 'fs49', 651)" class="i">int</span> (<span onmouseout="hideTip(event, 'fs4', 652)" onmouseover="showTip(event, 'fs4', 652)" class="i">ts</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs131', 653)" onmouseover="showTip(event, 'fs131', 653)" class="i">Math</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs132', 654)" onmouseover="showTip(event, 'fs132', 654)" class="i">floor</span>(<span onmouseout="hideTip(event, 'fs65', 655)" onmouseover="showTip(event, 'fs65', 655)" class="i">float</span> (<span class="o">!</span><span onmouseout="hideTip(event, 'fs186', 656)" onmouseover="showTip(event, 'fs186', 656)" class="i">x</span><span class="o">/</span><span class="n">6</span>)))
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs88', 657)" onmouseover="showTip(event, 'fs88', 657)" class="i">y&#39;</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs49', 658)" onmouseover="showTip(event, 'fs49', 658)" class="i">int</span> (<span onmouseout="hideTip(event, 'fs4', 659)" onmouseover="showTip(event, 'fs4', 659)" class="i">ts</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs131', 660)" onmouseover="showTip(event, 'fs131', 660)" class="i">Math</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs132', 661)" onmouseover="showTip(event, 'fs132', 661)" class="i">floor</span>(<span onmouseout="hideTip(event, 'fs65', 662)" onmouseover="showTip(event, 'fs65', 662)" class="i">float</span> (<span class="o">!</span><span onmouseout="hideTip(event, 'fs187', 663)" onmouseover="showTip(event, 'fs187', 663)" class="i">y</span><span class="o">/</span><span class="n">6</span>)))
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs191', 664)" onmouseover="showTip(event, 'fs191', 664)" class="i">p</span> <span class="o">=</span> <span class="k">if</span> (<span onmouseout="hideTip(event, 'fs87', 665)" onmouseover="showTip(event, 'fs87', 665)" class="i">x&#39;</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs88', 666)" onmouseover="showTip(event, 'fs88', 666)" class="i">y&#39;</span>) <span class="o">%</span> <span class="n">2</span> <span class="o">=</span> <span class="n">0</span> <span class="k">then</span> <span onmouseout="hideTip(event, 'fs189', 667)" onmouseover="showTip(event, 'fs189', 667)" class="i">p1</span> <span class="k">else</span> <span onmouseout="hideTip(event, 'fs190', 668)" onmouseover="showTip(event, 'fs190', 668)" class="i">p2</span>
    <span onmouseout="hideTip(event, 'fs183', 669)" onmouseover="showTip(event, 'fs183', 669)" class="i">lastp</span> <span class="o">:=</span> <span onmouseout="hideTip(event, 'fs191', 670)" onmouseover="showTip(event, 'fs191', 670)" class="i">p</span>
    <span onmouseout="hideTip(event, 'fs191', 671)" onmouseover="showTip(event, 'fs191', 671)" class="i">p</span>
     
[&lt;<span onmouseout="hideTip(event, 'fs192', 672)" onmouseover="showTip(event, 'fs192', 672)" class="i">JSEmit</span>(<span class="s">&quot;</span><span class="s">(</span><span class="s">new</span><span class="s"> </span><span class="s">Audio</span><span class="s">(</span><span class="s">{</span><span class="s">0</span><span class="s">}</span><span class="s">)</span><span class="s">)</span><span class="s">.</span><span class="s">play</span><span class="s">(</span><span class="s">)</span><span class="s">;</span><span class="s">&quot;</span>)&gt;]
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs193', 673)" onmouseover="showTip(event, 'fs193', 673)" class="i">sound</span>(<span onmouseout="hideTip(event, 'fs194', 674)" onmouseover="showTip(event, 'fs194', 674)" class="i">file</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs195', 675)" onmouseover="showTip(event, 'fs195', 675)" class="i">string</span>) <span class="o">:</span> <span onmouseout="hideTip(event, 'fs196', 676)" onmouseover="showTip(event, 'fs196', 676)" class="i">unit</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs197', 677)" onmouseover="showTip(event, 'fs197', 677)" class="i">failwith</span> <span class="s">&quot;</span><span class="s">never</span><span class="s">&quot;</span></pre>
</td>
</tr>
</table><h2>Level gameplay</h2>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">  1: </span>
<span class="l">  2: </span>
<span class="l">  3: </span>
<span class="l">  4: </span>
<span class="l">  5: </span>
<span class="l">  6: </span>
<span class="l">  7: </span>
<span class="l">  8: </span>
<span class="l">  9: </span>
<span class="l"> 10: </span>
<span class="l"> 11: </span>
<span class="l"> 12: </span>
<span class="l"> 13: </span>
<span class="l"> 14: </span>
<span class="l"> 15: </span>
<span class="l"> 16: </span>
<span class="l"> 17: </span>
<span class="l"> 18: </span>
<span class="l"> 19: </span>
<span class="l"> 20: </span>
<span class="l"> 21: </span>
<span class="l"> 22: </span>
<span class="l"> 23: </span>
<span class="l"> 24: </span>
<span class="l"> 25: </span>
<span class="l"> 26: </span>
<span class="l"> 27: </span>
<span class="l"> 28: </span>
<span class="l"> 29: </span>
<span class="l"> 30: </span>
<span class="l"> 31: </span>
<span class="l"> 32: </span>
<span class="l"> 33: </span>
<span class="l"> 34: </span>
<span class="l"> 35: </span>
<span class="l"> 36: </span>
<span class="l"> 37: </span>
<span class="l"> 38: </span>
<span class="l"> 39: </span>
<span class="l"> 40: </span>
<span class="l"> 41: </span>
<span class="l"> 42: </span>
<span class="l"> 43: </span>
<span class="l"> 44: </span>
<span class="l"> 45: </span>
<span class="l"> 46: </span>
<span class="l"> 47: </span>
<span class="l"> 48: </span>
<span class="l"> 49: </span>
<span class="l"> 50: </span>
<span class="l"> 51: </span>
<span class="l"> 52: </span>
<span class="l"> 53: </span>
<span class="l"> 54: </span>
<span class="l"> 55: </span>
<span class="l"> 56: </span>
<span class="l"> 57: </span>
<span class="l"> 58: </span>
<span class="l"> 59: </span>
<span class="l"> 60: </span>
<span class="l"> 61: </span>
<span class="l"> 62: </span>
<span class="l"> 63: </span>
<span class="l"> 64: </span>
<span class="l"> 65: </span>
<span class="l"> 66: </span>
<span class="l"> 67: </span>
<span class="l"> 68: </span>
<span class="l"> 69: </span>
<span class="l"> 70: </span>
<span class="l"> 71: </span>
<span class="l"> 72: </span>
<span class="l"> 73: </span>
<span class="l"> 74: </span>
<span class="l"> 75: </span>
<span class="l"> 76: </span>
<span class="l"> 77: </span>
<span class="l"> 78: </span>
<span class="l"> 79: </span>
<span class="l"> 80: </span>
<span class="l"> 81: </span>
<span class="l"> 82: </span>
<span class="l"> 83: </span>
<span class="l"> 84: </span>
<span class="l"> 85: </span>
<span class="l"> 86: </span>
<span class="l"> 87: </span>
<span class="l"> 88: </span>
<span class="l"> 89: </span>
<span class="l"> 90: </span>
<span class="l"> 91: </span>
<span class="l"> 92: </span>
<span class="l"> 93: </span>
<span class="l"> 94: </span>
<span class="l"> 95: </span>
<span class="l"> 96: </span>
<span class="l"> 97: </span>
<span class="l"> 98: </span>
<span class="l"> 99: </span>
<span class="l">100: </span>
<span class="l">101: </span>
<span class="l">102: </span>
<span class="l">103: </span>
<span class="l">104: </span>
<span class="l">105: </span>
<span class="l">106: </span>
<span class="l">107: </span>
<span class="l">108: </span>
<span class="l">109: </span>
<span class="l">110: </span>
<span class="l">111: </span>
<span class="l">112: </span>
<span class="l">113: </span>
<span class="l">114: </span>
<span class="l">115: </span>
<span class="l">116: </span>
<span class="l">117: </span>
<span class="l">118: </span>
<span class="l">119: </span>
<span class="l">120: </span>
<span class="l">121: </span>
<span class="l">122: </span>
<span class="l">123: </span>
<span class="l">124: </span>
<span class="l">125: </span>
<span class="l">126: </span>
<span class="l">127: </span>
<span class="l">128: </span>
<span class="l">129: </span>
<span class="l">130: </span>
<span class="l">131: </span>
<span class="l">132: </span>
<span class="l">133: </span>
<span class="l">134: </span>
<span class="l">135: </span>
<span class="l">136: </span>
<span class="l">137: </span>
<span class="l">138: </span>
<span class="l">139: </span>
<span class="l">140: </span>
<span class="l">141: </span>
<span class="l">142: </span>
<span class="l">143: </span>
<span class="l">144: </span>
<span class="l">145: </span>
<span class="l">146: </span>
<span class="l">147: </span>
<span class="l">148: </span>
<span class="l">149: </span>
<span class="l">150: </span>
<span class="l">151: </span>
<span class="l">152: </span>
<span class="l">153: </span>
<span class="l">154: </span>
<span class="l">155: </span>
<span class="l">156: </span>
<span class="l">157: </span>
<span class="l">158: </span>
<span class="l">159: </span>
<span class="l">160: </span>
<span class="l">161: </span>
<span class="l">162: </span>
<span class="l">163: </span>
<span class="l">164: </span>
<span class="l">165: </span>
<span class="l">166: </span>
<span class="l">167: </span>
<span class="l">168: </span>
<span class="l">169: </span>
<span class="l">170: </span>
<span class="l">171: </span>
<span class="l">172: </span>
<span class="l">173: </span>
<span class="l">174: </span>
<span class="l">175: </span>
<span class="l">176: </span>
<span class="l">177: </span>
<span class="l">178: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs198', 678)" onmouseover="showTip(event, 'fs198', 678)" class="i">playLevel</span> (<span onmouseout="hideTip(event, 'fs156', 679)" onmouseover="showTip(event, 'fs156', 679)" class="i">keys</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs152', 680)" onmouseover="showTip(event, 'fs152', 680)" class="i">Keys</span>, <span onmouseout="hideTip(event, 'fs199', 681)" onmouseover="showTip(event, 'fs199', 681)" class="i">onLevelCompleted</span>, <span onmouseout="hideTip(event, 'fs200', 682)" onmouseover="showTip(event, 'fs200', 682)" class="i">onGameOver</span>) <span class="o">=</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs201', 683)" onmouseover="showTip(event, 'fs201', 683)" class="i">pacman</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs170', 684)" onmouseover="showTip(event, 'fs170', 684)" class="i">Pacman</span>()
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs202', 685)" onmouseover="showTip(event, 'fs202', 685)" class="i">pills</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs12', 686)" onmouseover="showTip(event, 'fs12', 686)" class="i">maze</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs51', 687)" onmouseover="showTip(event, 'fs51', 687)" class="i">Array</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs118', 688)" onmouseover="showTip(event, 'fs118', 688)" class="i">map</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs81', 689)" onmouseover="showTip(event, 'fs81', 689)" class="i">line</span> <span class="k">-&gt;</span> 
    <span onmouseout="hideTip(event, 'fs81', 690)" onmouseover="showTip(event, 'fs81', 690)" class="i">line</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs92', 691)" onmouseover="showTip(event, 'fs92', 691)" class="i">ToCharArray</span>() 
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs51', 692)" onmouseover="showTip(event, 'fs51', 692)" class="i">Array</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs118', 693)" onmouseover="showTip(event, 'fs118', 693)" class="i">map</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs19', 694)" onmouseover="showTip(event, 'fs19', 694)" class="i">c</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs19', 695)" onmouseover="showTip(event, 'fs19', 695)" class="i">c</span>))

  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs69', 696)" onmouseover="showTip(event, 'fs69', 696)" class="i">canv</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs4', 697)" onmouseover="showTip(event, 'fs4', 697)" class="i">ts</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs5', 698)" onmouseover="showTip(event, 'fs5', 698)" class="i">document</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs203', 699)" onmouseover="showTip(event, 'fs203', 699)" class="i">getElementById</span>(<span class="s">&quot;</span><span class="s">canvas</span><span class="s">&quot;</span>)
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs204', 700)" onmouseover="showTip(event, 'fs204', 700)" class="i">canvas</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs8', 701)" onmouseover="showTip(event, 'fs8', 701)" class="i">unbox</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs4', 702)" onmouseover="showTip(event, 'fs4', 702)" class="i">ts</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs71', 703)" onmouseover="showTip(event, 'fs71', 703)" class="i">HTMLCanvasElement</span><span class="o">&gt;</span>(<span onmouseout="hideTip(event, 'fs69', 704)" onmouseover="showTip(event, 'fs69', 704)" class="i">canv</span>)
  <span onmouseout="hideTip(event, 'fs204', 705)" onmouseover="showTip(event, 'fs204', 705)" class="i">canvas</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs72', 706)" onmouseover="showTip(event, 'fs72', 706)" class="i">width</span> <span class="o">&lt;-</span> <span class="n">256.</span>
  <span onmouseout="hideTip(event, 'fs204', 707)" onmouseover="showTip(event, 'fs204', 707)" class="i">canvas</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs73', 708)" onmouseover="showTip(event, 'fs73', 708)" class="i">height</span> <span class="o">&lt;-</span> <span class="n">256.</span>  
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs57', 709)" onmouseover="showTip(event, 'fs57', 709)" class="i">context</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs204', 710)" onmouseover="showTip(event, 'fs204', 710)" class="i">canvas</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs74', 711)" onmouseover="showTip(event, 'fs74', 711)" class="i">getContext</span>(<span class="s">&quot;</span><span class="s">2</span><span class="s">d</span><span class="s">&quot;</span>)
  <span onmouseout="hideTip(event, 'fs57', 712)" onmouseover="showTip(event, 'fs57', 712)" class="i">context</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs75', 713)" onmouseover="showTip(event, 'fs75', 713)" class="i">fillStyle</span> <span class="o">&lt;-</span> <span class="s">&quot;</span><span class="s">rgb</span><span class="s">(</span><span class="s">0</span><span class="s">,</span><span class="s">0</span><span class="s">,</span><span class="s">0</span><span class="s">)</span><span class="s">&quot;</span>
  <span onmouseout="hideTip(event, 'fs57', 714)" onmouseover="showTip(event, 'fs57', 714)" class="i">context</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs76', 715)" onmouseover="showTip(event, 'fs76', 715)" class="i">fillRect</span> (<span class="n">0.</span>, <span class="n">0.</span> , <span class="n">256.</span>, <span class="n">256.</span>);
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs205', 716)" onmouseover="showTip(event, 'fs205', 716)" class="i">bonusImages</span> <span class="o">=</span> 
    [| <span onmouseout="hideTip(event, 'fs1', 717)" onmouseover="showTip(event, 'fs1', 717)" class="i">createImage</span> <span onmouseout="hideTip(event, 'fs206', 718)" onmouseover="showTip(event, 'fs206', 718)" class="i">_200</span>; <span onmouseout="hideTip(event, 'fs1', 719)" onmouseover="showTip(event, 'fs1', 719)" class="i">createImage</span> <span onmouseout="hideTip(event, 'fs207', 720)" onmouseover="showTip(event, 'fs207', 720)" class="i">_400</span>; 
       <span onmouseout="hideTip(event, 'fs1', 721)" onmouseover="showTip(event, 'fs1', 721)" class="i">createImage</span> <span onmouseout="hideTip(event, 'fs208', 722)" onmouseover="showTip(event, 'fs208', 722)" class="i">_800</span>; <span onmouseout="hideTip(event, 'fs1', 723)" onmouseover="showTip(event, 'fs1', 723)" class="i">createImage</span> <span onmouseout="hideTip(event, 'fs209', 724)" onmouseover="showTip(event, 'fs209', 724)" class="i">_1600</span> |]
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs210', 725)" onmouseover="showTip(event, 'fs210', 725)" class="i">background</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs68', 726)" onmouseover="showTip(event, 'fs68', 726)" class="i">createBackground</span>()
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs211', 727)" onmouseover="showTip(event, 'fs211', 727)" class="i">ghosts</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs112', 728)" onmouseover="showTip(event, 'fs112', 728)" class="i">createGhosts</span>(<span onmouseout="hideTip(event, 'fs57', 729)" onmouseover="showTip(event, 'fs57', 729)" class="i">context</span>)
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs212', 730)" onmouseover="showTip(event, 'fs212', 730)" class="i">blue</span>,<span onmouseout="hideTip(event, 'fs213', 731)" onmouseover="showTip(event, 'fs213', 731)" class="i">eyed</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs1', 732)" onmouseover="showTip(event, 'fs1', 732)" class="i">createImage</span> <span onmouseout="hideTip(event, 'fs214', 733)" onmouseover="showTip(event, 'fs214', 733)" class="i">blue</span>, <span onmouseout="hideTip(event, 'fs1', 734)" onmouseover="showTip(event, 'fs1', 734)" class="i">createImage</span> <span onmouseout="hideTip(event, 'fs213', 735)" onmouseover="showTip(event, 'fs213', 735)" class="i">eyed</span>

  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs215', 736)" onmouseover="showTip(event, 'fs215', 736)" class="i">dotsLeft</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs184', 737)" onmouseover="showTip(event, 'fs184', 737)" class="i">ref</span> (<span onmouseout="hideTip(event, 'fs90', 738)" onmouseover="showTip(event, 'fs90', 738)" class="i">countDots</span>())
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs216', 739)" onmouseover="showTip(event, 'fs216', 739)" class="i">score</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs184', 740)" onmouseover="showTip(event, 'fs184', 740)" class="i">ref</span> <span class="n">0</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs217', 741)" onmouseover="showTip(event, 'fs217', 741)" class="i">bonus</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs184', 742)" onmouseover="showTip(event, 'fs184', 742)" class="i">ref</span> <span class="n">0</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs218', 743)" onmouseover="showTip(event, 'fs218', 743)" class="i">bonuses</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs184', 744)" onmouseover="showTip(event, 'fs184', 744)" class="i">ref</span> []
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs219', 745)" onmouseover="showTip(event, 'fs219', 745)" class="i">energy</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs184', 746)" onmouseover="showTip(event, 'fs184', 746)" class="i">ref</span> <span class="n">128</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs220', 747)" onmouseover="showTip(event, 'fs220', 747)" class="i">flashCountdown</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs184', 748)" onmouseover="showTip(event, 'fs184', 748)" class="i">ref</span> <span class="n">0</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs221', 749)" onmouseover="showTip(event, 'fs221', 749)" class="i">powerCountdown</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs184', 750)" onmouseover="showTip(event, 'fs184', 750)" class="i">ref</span> <span class="n">0</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs186', 751)" onmouseover="showTip(event, 'fs186', 751)" class="i">x</span>, <span onmouseout="hideTip(event, 'fs187', 752)" onmouseover="showTip(event, 'fs187', 752)" class="i">y</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs184', 753)" onmouseover="showTip(event, 'fs184', 753)" class="i">ref</span> (<span class="n">16</span> <span class="o">*</span> <span class="n">8</span> <span class="o">-</span> <span class="n">7</span>), <span onmouseout="hideTip(event, 'fs184', 754)" onmouseover="showTip(event, 'fs184', 754)" class="i">ref</span> (<span class="n">23</span> <span class="o">*</span> <span class="n">8</span> <span class="o">-</span> <span class="n">3</span>)
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs188', 755)" onmouseover="showTip(event, 'fs188', 755)" class="i">v</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs184', 756)" onmouseover="showTip(event, 'fs184', 756)" class="i">ref</span> (<span class="n">0</span>,<span class="n">0</span>)

  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs222', 757)" onmouseover="showTip(event, 'fs222', 757)" class="i">moveGhosts</span> () <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs211', 758)" onmouseover="showTip(event, 'fs211', 758)" class="i">ghosts</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs51', 759)" onmouseover="showTip(event, 'fs51', 759)" class="i">Array</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs223', 760)" onmouseover="showTip(event, 'fs223', 760)" class="i">iter</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs109', 761)" onmouseover="showTip(event, 'fs109', 761)" class="i">ghost</span> <span class="k">-&gt;</span> 
      <span onmouseout="hideTip(event, 'fs109', 762)" onmouseover="showTip(event, 'fs109', 762)" class="i">ghost</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs224', 763)" onmouseover="showTip(event, 'fs224', 763)" class="i">Move</span>(<span onmouseout="hideTip(event, 'fs137', 764)" onmouseover="showTip(event, 'fs137', 764)" class="i">chooseDirection</span> <span onmouseout="hideTip(event, 'fs109', 765)" onmouseover="showTip(event, 'fs109', 765)" class="i">ghost</span>)
    )

  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs225', 766)" onmouseover="showTip(event, 'fs225', 766)" class="i">movePacman</span> () <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs226', 767)" onmouseover="showTip(event, 'fs226', 767)" class="i">inputs</span> <span class="o">=</span>
       [| <span class="k">if</span> <span onmouseout="hideTip(event, 'fs156', 768)" onmouseover="showTip(event, 'fs156', 768)" class="i">keys</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs227', 769)" onmouseover="showTip(event, 'fs227', 769)" class="i">IsPressed</span> <span class="n">81</span> <span class="c">(*q*)</span> <span class="k">then</span> 
            <span class="k">yield</span> <span onmouseout="hideTip(event, 'fs37', 770)" onmouseover="showTip(event, 'fs37', 770)" class="i">canGoUp</span> (<span class="o">!</span><span onmouseout="hideTip(event, 'fs186', 771)" onmouseover="showTip(event, 'fs186', 771)" class="i">x</span>,<span class="o">!</span><span onmouseout="hideTip(event, 'fs187', 772)" onmouseover="showTip(event, 'fs187', 772)" class="i">y</span>), (<span class="n">0</span>,<span class="o">-</span><span class="n">1</span>)
          <span class="k">if</span> <span onmouseout="hideTip(event, 'fs156', 773)" onmouseover="showTip(event, 'fs156', 773)" class="i">keys</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs227', 774)" onmouseover="showTip(event, 'fs227', 774)" class="i">IsPressed</span> <span class="n">65</span> <span class="c">(*a*)</span> <span class="k">then</span> 
            <span class="k">yield</span> <span onmouseout="hideTip(event, 'fs38', 775)" onmouseover="showTip(event, 'fs38', 775)" class="i">canGoDown</span> (<span class="o">!</span><span onmouseout="hideTip(event, 'fs186', 776)" onmouseover="showTip(event, 'fs186', 776)" class="i">x</span>,<span class="o">!</span><span onmouseout="hideTip(event, 'fs187', 777)" onmouseover="showTip(event, 'fs187', 777)" class="i">y</span>), (<span class="n">0</span>,<span class="n">1</span>)
          <span class="k">if</span> <span onmouseout="hideTip(event, 'fs156', 778)" onmouseover="showTip(event, 'fs156', 778)" class="i">keys</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs227', 779)" onmouseover="showTip(event, 'fs227', 779)" class="i">IsPressed</span> <span class="n">90</span> <span class="c">(*z*)</span> <span class="k">then</span> 
            <span class="k">yield</span> <span onmouseout="hideTip(event, 'fs39', 780)" onmouseover="showTip(event, 'fs39', 780)" class="i">canGoLeft</span> (<span class="o">!</span><span onmouseout="hideTip(event, 'fs186', 781)" onmouseover="showTip(event, 'fs186', 781)" class="i">x</span>,<span class="o">!</span><span onmouseout="hideTip(event, 'fs187', 782)" onmouseover="showTip(event, 'fs187', 782)" class="i">y</span>), (<span class="o">-</span><span class="n">1</span>,<span class="n">0</span>)
          <span class="k">if</span> <span onmouseout="hideTip(event, 'fs156', 783)" onmouseover="showTip(event, 'fs156', 783)" class="i">keys</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs227', 784)" onmouseover="showTip(event, 'fs227', 784)" class="i">IsPressed</span> <span class="n">88</span> <span class="c">(*x*)</span> <span class="k">then</span> 
            <span class="k">yield</span> <span onmouseout="hideTip(event, 'fs40', 785)" onmouseover="showTip(event, 'fs40', 785)" class="i">canGoRight</span> (<span class="o">!</span><span onmouseout="hideTip(event, 'fs186', 786)" onmouseover="showTip(event, 'fs186', 786)" class="i">x</span>,<span class="o">!</span><span onmouseout="hideTip(event, 'fs187', 787)" onmouseover="showTip(event, 'fs187', 787)" class="i">y</span>), (<span class="n">1</span>,<span class="n">0</span>) |]
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs228', 788)" onmouseover="showTip(event, 'fs228', 788)" class="i">canGoForward</span> <span class="o">=</span>
      <span class="k">match</span> <span class="o">!</span><span onmouseout="hideTip(event, 'fs188', 789)" onmouseover="showTip(event, 'fs188', 789)" class="i">v</span> <span class="k">with</span>
      | <span class="n">0</span>,<span class="o">-</span><span class="n">1</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs37', 790)" onmouseover="showTip(event, 'fs37', 790)" class="i">canGoUp</span>(<span class="o">!</span><span onmouseout="hideTip(event, 'fs186', 791)" onmouseover="showTip(event, 'fs186', 791)" class="i">x</span>,<span class="o">!</span><span onmouseout="hideTip(event, 'fs187', 792)" onmouseover="showTip(event, 'fs187', 792)" class="i">y</span>)
      | <span class="n">0</span>,<span class="n">1</span>  <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs38', 793)" onmouseover="showTip(event, 'fs38', 793)" class="i">canGoDown</span>(<span class="o">!</span><span onmouseout="hideTip(event, 'fs186', 794)" onmouseover="showTip(event, 'fs186', 794)" class="i">x</span>,<span class="o">!</span><span onmouseout="hideTip(event, 'fs187', 795)" onmouseover="showTip(event, 'fs187', 795)" class="i">y</span>)
      | <span class="o">-</span><span class="n">1</span>,<span class="n">0</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs39', 796)" onmouseover="showTip(event, 'fs39', 796)" class="i">canGoLeft</span>(<span class="o">!</span><span onmouseout="hideTip(event, 'fs186', 797)" onmouseover="showTip(event, 'fs186', 797)" class="i">x</span>,<span class="o">!</span><span onmouseout="hideTip(event, 'fs187', 798)" onmouseover="showTip(event, 'fs187', 798)" class="i">y</span>)
      | <span class="n">1</span>, <span class="n">0</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs40', 799)" onmouseover="showTip(event, 'fs40', 799)" class="i">canGoRight</span>(<span class="o">!</span><span onmouseout="hideTip(event, 'fs186', 800)" onmouseover="showTip(event, 'fs186', 800)" class="i">x</span>,<span class="o">!</span><span onmouseout="hideTip(event, 'fs187', 801)" onmouseover="showTip(event, 'fs187', 801)" class="i">y</span>)
      | _ <span class="k">-&gt;</span> <span class="k">false</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs229', 802)" onmouseover="showTip(event, 'fs229', 802)" class="i">availableDirections</span> <span class="o">=</span>
      <span onmouseout="hideTip(event, 'fs226', 803)" onmouseover="showTip(event, 'fs226', 803)" class="i">inputs</span>
      <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs51', 804)" onmouseover="showTip(event, 'fs51', 804)" class="i">Array</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs148', 805)" onmouseover="showTip(event, 'fs148', 805)" class="i">filter</span> <span onmouseout="hideTip(event, 'fs147', 806)" onmouseover="showTip(event, 'fs147', 806)" class="i">fst</span>
      <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs51', 807)" onmouseover="showTip(event, 'fs51', 807)" class="i">Array</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs118', 808)" onmouseover="showTip(event, 'fs118', 808)" class="i">map</span> <span onmouseout="hideTip(event, 'fs145', 809)" onmouseover="showTip(event, 'fs145', 809)" class="i">snd</span>
      <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs51', 810)" onmouseover="showTip(event, 'fs51', 810)" class="i">Array</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs144', 811)" onmouseover="showTip(event, 'fs144', 811)" class="i">sortBy</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs230', 812)" onmouseover="showTip(event, 'fs230', 812)" class="i">v&#39;</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs230', 813)" onmouseover="showTip(event, 'fs230', 813)" class="i">v&#39;</span> <span class="o">=</span> <span class="o">!</span><span onmouseout="hideTip(event, 'fs188', 814)" onmouseover="showTip(event, 'fs188', 814)" class="i">v</span>)
    <span class="k">if</span> <span onmouseout="hideTip(event, 'fs229', 815)" onmouseover="showTip(event, 'fs229', 815)" class="i">availableDirections</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs80', 816)" onmouseover="showTip(event, 'fs80', 816)" class="i">Length</span> <span class="o">&gt;</span> <span class="n">0</span> <span class="k">then</span>
      <span onmouseout="hideTip(event, 'fs188', 817)" onmouseover="showTip(event, 'fs188', 817)" class="i">v</span> <span class="o">:=</span> <span onmouseout="hideTip(event, 'fs229', 818)" onmouseover="showTip(event, 'fs229', 818)" class="i">availableDirections</span><span class="o">.</span>[<span class="n">0</span>]
    <span class="k">elif</span> <span onmouseout="hideTip(event, 'fs226', 819)" onmouseover="showTip(event, 'fs226', 819)" class="i">inputs</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs80', 820)" onmouseover="showTip(event, 'fs80', 820)" class="i">Length</span> <span class="o">=</span> <span class="n">0</span> <span class="o">||</span> <span onmouseout="hideTip(event, 'fs30', 821)" onmouseover="showTip(event, 'fs30', 821)" class="i">not</span> <span onmouseout="hideTip(event, 'fs228', 822)" onmouseover="showTip(event, 'fs228', 822)" class="i">canGoForward</span> <span class="k">then</span>
      <span onmouseout="hideTip(event, 'fs188', 823)" onmouseover="showTip(event, 'fs188', 823)" class="i">v</span> <span class="o">:=</span> <span class="n">0</span>,<span class="n">0</span>         
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs87', 824)" onmouseover="showTip(event, 'fs87', 824)" class="i">x&#39;</span>,<span onmouseout="hideTip(event, 'fs88', 825)" onmouseover="showTip(event, 'fs88', 825)" class="i">y&#39;</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs95', 826)" onmouseover="showTip(event, 'fs95', 826)" class="i">wrap</span> (<span class="o">!</span><span onmouseout="hideTip(event, 'fs186', 827)" onmouseover="showTip(event, 'fs186', 827)" class="i">x</span>,<span class="o">!</span><span onmouseout="hideTip(event, 'fs187', 828)" onmouseover="showTip(event, 'fs187', 828)" class="i">y</span>) <span class="o">!</span><span onmouseout="hideTip(event, 'fs188', 829)" onmouseover="showTip(event, 'fs188', 829)" class="i">v</span>
    <span onmouseout="hideTip(event, 'fs186', 830)" onmouseover="showTip(event, 'fs186', 830)" class="i">x</span> <span class="o">:=</span> <span onmouseout="hideTip(event, 'fs87', 831)" onmouseover="showTip(event, 'fs87', 831)" class="i">x&#39;</span>
    <span onmouseout="hideTip(event, 'fs187', 832)" onmouseover="showTip(event, 'fs187', 832)" class="i">y</span> <span class="o">:=</span> <span onmouseout="hideTip(event, 'fs88', 833)" onmouseover="showTip(event, 'fs88', 833)" class="i">y&#39;</span>

  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs231', 834)" onmouseover="showTip(event, 'fs231', 834)" class="i">eatPills</span> () <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs232', 835)" onmouseover="showTip(event, 'fs232', 835)" class="i">tx</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs49', 836)" onmouseover="showTip(event, 'fs49', 836)" class="i">int</span> (<span onmouseout="hideTip(event, 'fs4', 837)" onmouseover="showTip(event, 'fs4', 837)" class="i">ts</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs131', 838)" onmouseover="showTip(event, 'fs131', 838)" class="i">Math</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs132', 839)" onmouseover="showTip(event, 'fs132', 839)" class="i">floor</span>(<span onmouseout="hideTip(event, 'fs65', 840)" onmouseover="showTip(event, 'fs65', 840)" class="i">float</span> ((<span class="o">!</span><span onmouseout="hideTip(event, 'fs186', 841)" onmouseover="showTip(event, 'fs186', 841)" class="i">x</span><span class="o">+</span><span class="n">6</span>)<span class="o">/</span><span class="n">8</span>)))
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs233', 842)" onmouseover="showTip(event, 'fs233', 842)" class="i">ty</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs49', 843)" onmouseover="showTip(event, 'fs49', 843)" class="i">int</span> (<span onmouseout="hideTip(event, 'fs4', 844)" onmouseover="showTip(event, 'fs4', 844)" class="i">ts</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs131', 845)" onmouseover="showTip(event, 'fs131', 845)" class="i">Math</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs132', 846)" onmouseover="showTip(event, 'fs132', 846)" class="i">floor</span>(<span onmouseout="hideTip(event, 'fs65', 847)" onmouseover="showTip(event, 'fs65', 847)" class="i">float</span> ((<span class="o">!</span><span onmouseout="hideTip(event, 'fs187', 848)" onmouseover="showTip(event, 'fs187', 848)" class="i">y</span><span class="o">+</span><span class="n">6</span>)<span class="o">/</span><span class="n">8</span>)))     
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs19', 849)" onmouseover="showTip(event, 'fs19', 849)" class="i">c</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs202', 850)" onmouseover="showTip(event, 'fs202', 850)" class="i">pills</span><span class="o">.</span>[<span onmouseout="hideTip(event, 'fs233', 851)" onmouseover="showTip(event, 'fs233', 851)" class="i">ty</span>]<span class="o">.</span>[<span onmouseout="hideTip(event, 'fs232', 852)" onmouseover="showTip(event, 'fs232', 852)" class="i">tx</span>]
    <span class="k">if</span> <span onmouseout="hideTip(event, 'fs19', 853)" onmouseover="showTip(event, 'fs19', 853)" class="i">c</span> <span class="o">=</span> <span class="s">&#39;.&#39;</span> <span class="k">then</span>
      <span onmouseout="hideTip(event, 'fs202', 854)" onmouseover="showTip(event, 'fs202', 854)" class="i">pills</span><span class="o">.</span>[<span onmouseout="hideTip(event, 'fs233', 855)" onmouseover="showTip(event, 'fs233', 855)" class="i">ty</span>]<span class="o">.</span>[<span onmouseout="hideTip(event, 'fs232', 856)" onmouseover="showTip(event, 'fs232', 856)" class="i">tx</span>] <span class="o">&lt;-</span> <span class="s">&#39; &#39;</span>
      <span onmouseout="hideTip(event, 'fs93', 857)" onmouseover="showTip(event, 'fs93', 857)" class="i">clearCell</span> <span onmouseout="hideTip(event, 'fs210', 858)" onmouseover="showTip(event, 'fs210', 858)" class="i">background</span> (<span onmouseout="hideTip(event, 'fs232', 859)" onmouseover="showTip(event, 'fs232', 859)" class="i">tx</span>,<span onmouseout="hideTip(event, 'fs233', 860)" onmouseover="showTip(event, 'fs233', 860)" class="i">ty</span>)
      <span onmouseout="hideTip(event, 'fs216', 861)" onmouseover="showTip(event, 'fs216', 861)" class="i">score</span> <span class="o">:=</span> <span class="o">!</span><span onmouseout="hideTip(event, 'fs216', 862)" onmouseover="showTip(event, 'fs216', 862)" class="i">score</span> <span class="o">+</span> <span class="n">10</span>
      <span onmouseout="hideTip(event, 'fs234', 863)" onmouseover="showTip(event, 'fs234', 863)" class="i">decr</span> <span onmouseout="hideTip(event, 'fs215', 864)" onmouseover="showTip(event, 'fs215', 864)" class="i">dotsLeft</span>      
      <span onmouseout="hideTip(event, 'fs193', 865)" onmouseover="showTip(event, 'fs193', 865)" class="i">sound</span>(<span class="s">&quot;</span><span class="s">Dot5</span><span class="s">.</span><span class="s">wav</span><span class="s">&quot;</span>)
    <span class="k">if</span> <span onmouseout="hideTip(event, 'fs19', 866)" onmouseover="showTip(event, 'fs19', 866)" class="i">c</span> <span class="o">=</span> <span class="s">&#39;o&#39;</span> <span class="k">then</span>       
      <span onmouseout="hideTip(event, 'fs202', 867)" onmouseover="showTip(event, 'fs202', 867)" class="i">pills</span><span class="o">.</span>[<span onmouseout="hideTip(event, 'fs233', 868)" onmouseover="showTip(event, 'fs233', 868)" class="i">ty</span>]<span class="o">.</span>[<span onmouseout="hideTip(event, 'fs232', 869)" onmouseover="showTip(event, 'fs232', 869)" class="i">tx</span>] <span class="o">&lt;-</span> <span class="s">&#39; &#39;</span>
      <span onmouseout="hideTip(event, 'fs93', 870)" onmouseover="showTip(event, 'fs93', 870)" class="i">clearCell</span> <span onmouseout="hideTip(event, 'fs210', 871)" onmouseover="showTip(event, 'fs210', 871)" class="i">background</span> (<span onmouseout="hideTip(event, 'fs232', 872)" onmouseover="showTip(event, 'fs232', 872)" class="i">tx</span>,<span onmouseout="hideTip(event, 'fs233', 873)" onmouseover="showTip(event, 'fs233', 873)" class="i">ty</span>)
      <span onmouseout="hideTip(event, 'fs217', 874)" onmouseover="showTip(event, 'fs217', 874)" class="i">bonus</span> <span class="o">:=</span> <span class="n">0</span>
      <span onmouseout="hideTip(event, 'fs216', 875)" onmouseover="showTip(event, 'fs216', 875)" class="i">score</span> <span class="o">:=</span> <span class="o">!</span><span onmouseout="hideTip(event, 'fs216', 876)" onmouseover="showTip(event, 'fs216', 876)" class="i">score</span> <span class="o">+</span> <span class="n">50</span>
      <span onmouseout="hideTip(event, 'fs221', 877)" onmouseover="showTip(event, 'fs221', 877)" class="i">powerCountdown</span> <span class="o">:=</span> <span class="n">250</span>
      <span onmouseout="hideTip(event, 'fs234', 878)" onmouseover="showTip(event, 'fs234', 878)" class="i">decr</span> <span onmouseout="hideTip(event, 'fs215', 879)" onmouseover="showTip(event, 'fs215', 879)" class="i">dotsLeft</span>
      <span onmouseout="hideTip(event, 'fs193', 880)" onmouseover="showTip(event, 'fs193', 880)" class="i">sound</span>(<span class="s">&quot;</span><span class="s">Powerup</span><span class="s">.</span><span class="s">wav</span><span class="s">&quot;</span>)
      
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs235', 881)" onmouseover="showTip(event, 'fs235', 881)" class="i">touchingGhosts</span> () <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs236', 882)" onmouseover="showTip(event, 'fs236', 882)" class="i">px</span>, <span onmouseout="hideTip(event, 'fs237', 883)" onmouseover="showTip(event, 'fs237', 883)" class="i">py</span> <span class="o">=</span> <span class="o">!</span><span onmouseout="hideTip(event, 'fs186', 884)" onmouseover="showTip(event, 'fs186', 884)" class="i">x</span>, <span class="o">!</span><span onmouseout="hideTip(event, 'fs187', 885)" onmouseover="showTip(event, 'fs187', 885)" class="i">y</span>
    <span onmouseout="hideTip(event, 'fs211', 886)" onmouseover="showTip(event, 'fs211', 886)" class="i">ghosts</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs51', 887)" onmouseover="showTip(event, 'fs51', 887)" class="i">Array</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs148', 888)" onmouseover="showTip(event, 'fs148', 888)" class="i">filter</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs109', 889)" onmouseover="showTip(event, 'fs109', 889)" class="i">ghost</span> <span class="k">-&gt;</span>
      <span class="k">let</span> <span onmouseout="hideTip(event, 'fs22', 890)" onmouseover="showTip(event, 'fs22', 890)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 891)" onmouseover="showTip(event, 'fs23', 891)" class="i">y</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs109', 892)" onmouseover="showTip(event, 'fs109', 892)" class="i">ghost</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs138', 893)" onmouseover="showTip(event, 'fs138', 893)" class="i">X</span>, <span onmouseout="hideTip(event, 'fs109', 894)" onmouseover="showTip(event, 'fs109', 894)" class="i">ghost</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs139', 895)" onmouseover="showTip(event, 'fs139', 895)" class="i">Y</span>
      ((<span onmouseout="hideTip(event, 'fs236', 896)" onmouseover="showTip(event, 'fs236', 896)" class="i">px</span> <span class="o">&gt;</span><span class="o">=</span> <span onmouseout="hideTip(event, 'fs22', 897)" onmouseover="showTip(event, 'fs22', 897)" class="i">x</span> <span class="o">&amp;&amp;</span> <span onmouseout="hideTip(event, 'fs236', 898)" onmouseover="showTip(event, 'fs236', 898)" class="i">px</span> <span class="o">&lt;</span> <span onmouseout="hideTip(event, 'fs22', 899)" onmouseover="showTip(event, 'fs22', 899)" class="i">x</span> <span class="o">+</span> <span class="n">13</span>) <span class="o">||</span>
       (<span onmouseout="hideTip(event, 'fs22', 900)" onmouseover="showTip(event, 'fs22', 900)" class="i">x</span> <span class="o">&lt;</span> <span onmouseout="hideTip(event, 'fs236', 901)" onmouseover="showTip(event, 'fs236', 901)" class="i">px</span> <span class="o">+</span> <span class="n">13</span> <span class="o">&amp;&amp;</span> <span onmouseout="hideTip(event, 'fs22', 902)" onmouseover="showTip(event, 'fs22', 902)" class="i">x</span> <span class="o">&gt;</span><span class="o">=</span> <span onmouseout="hideTip(event, 'fs236', 903)" onmouseover="showTip(event, 'fs236', 903)" class="i">px</span>)) <span class="o">&amp;&amp;</span>
      ((<span onmouseout="hideTip(event, 'fs237', 904)" onmouseover="showTip(event, 'fs237', 904)" class="i">py</span> <span class="o">&gt;</span><span class="o">=</span> <span onmouseout="hideTip(event, 'fs23', 905)" onmouseover="showTip(event, 'fs23', 905)" class="i">y</span> <span class="o">&amp;&amp;</span> <span onmouseout="hideTip(event, 'fs237', 906)" onmouseover="showTip(event, 'fs237', 906)" class="i">py</span> <span class="o">&lt;</span> <span onmouseout="hideTip(event, 'fs23', 907)" onmouseover="showTip(event, 'fs23', 907)" class="i">y</span> <span class="o">+</span> <span class="n">13</span>) <span class="o">||</span>
       (<span onmouseout="hideTip(event, 'fs23', 908)" onmouseover="showTip(event, 'fs23', 908)" class="i">y</span> <span class="o">&lt;</span> <span onmouseout="hideTip(event, 'fs237', 909)" onmouseover="showTip(event, 'fs237', 909)" class="i">py</span> <span class="o">+</span> <span class="n">13</span> <span class="o">&amp;&amp;</span> <span onmouseout="hideTip(event, 'fs23', 910)" onmouseover="showTip(event, 'fs23', 910)" class="i">y</span> <span class="o">&gt;</span><span class="o">=</span> <span onmouseout="hideTip(event, 'fs237', 911)" onmouseover="showTip(event, 'fs237', 911)" class="i">py</span>))
    )

  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs238', 912)" onmouseover="showTip(event, 'fs238', 912)" class="i">collisionDetection</span> () <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs239', 913)" onmouseover="showTip(event, 'fs239', 913)" class="i">touched</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs235', 914)" onmouseover="showTip(event, 'fs235', 914)" class="i">touchingGhosts</span> ()
    <span class="k">if</span> <span onmouseout="hideTip(event, 'fs239', 915)" onmouseover="showTip(event, 'fs239', 915)" class="i">touched</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs80', 916)" onmouseover="showTip(event, 'fs80', 916)" class="i">Length</span> <span class="o">&gt;</span> <span class="n">0</span>
    <span class="k">then</span> 
      <span class="k">if</span> <span class="o">!</span><span onmouseout="hideTip(event, 'fs221', 917)" onmouseover="showTip(event, 'fs221', 917)" class="i">powerCountdown</span> <span class="o">&gt;</span> <span class="n">0</span> <span class="k">then</span>
        <span onmouseout="hideTip(event, 'fs239', 918)" onmouseover="showTip(event, 'fs239', 918)" class="i">touched</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs51', 919)" onmouseover="showTip(event, 'fs51', 919)" class="i">Array</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs223', 920)" onmouseover="showTip(event, 'fs223', 920)" class="i">iter</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs109', 921)" onmouseover="showTip(event, 'fs109', 921)" class="i">ghost</span> <span class="k">-&gt;</span> 
          <span class="k">if</span> <span onmouseout="hideTip(event, 'fs30', 922)" onmouseover="showTip(event, 'fs30', 922)" class="i">not</span> <span onmouseout="hideTip(event, 'fs109', 923)" onmouseover="showTip(event, 'fs109', 923)" class="i">ghost</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs143', 924)" onmouseover="showTip(event, 'fs143', 924)" class="i">IsReturning</span> <span class="k">then</span>
            <span onmouseout="hideTip(event, 'fs193', 925)" onmouseover="showTip(event, 'fs193', 925)" class="i">sound</span> <span class="s">&quot;</span><span class="s">EatGhost</span><span class="s">.</span><span class="s">wav</span><span class="s">&quot;</span>
            <span onmouseout="hideTip(event, 'fs109', 926)" onmouseover="showTip(event, 'fs109', 926)" class="i">ghost</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs143', 927)" onmouseover="showTip(event, 'fs143', 927)" class="i">IsReturning</span> <span class="o">&lt;-</span> <span class="k">true</span>
            <span class="k">let</span> <span onmouseout="hideTip(event, 'fs240', 928)" onmouseover="showTip(event, 'fs240', 928)" class="i">added</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs49', 929)" onmouseover="showTip(event, 'fs49', 929)" class="i">int</span> (<span onmouseout="hideTip(event, 'fs4', 930)" onmouseover="showTip(event, 'fs4', 930)" class="i">ts</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs131', 931)" onmouseover="showTip(event, 'fs131', 931)" class="i">Math</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs241', 932)" onmouseover="showTip(event, 'fs241', 932)" class="i">pow</span>(<span class="n">2.</span>,<span onmouseout="hideTip(event, 'fs65', 933)" onmouseover="showTip(event, 'fs65', 933)" class="i">float</span> <span class="o">!</span><span onmouseout="hideTip(event, 'fs217', 934)" onmouseover="showTip(event, 'fs217', 934)" class="i">bonus</span>))
            <span onmouseout="hideTip(event, 'fs216', 935)" onmouseover="showTip(event, 'fs216', 935)" class="i">score</span> <span class="o">:=</span> <span class="o">!</span><span onmouseout="hideTip(event, 'fs216', 936)" onmouseover="showTip(event, 'fs216', 936)" class="i">score</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs240', 937)" onmouseover="showTip(event, 'fs240', 937)" class="i">added</span> <span class="o">*</span> <span class="n">200</span> 
            <span class="k">let</span> <span onmouseout="hideTip(event, 'fs99', 938)" onmouseover="showTip(event, 'fs99', 938)" class="i">image</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs205', 939)" onmouseover="showTip(event, 'fs205', 939)" class="i">bonusImages</span><span class="o">.</span>[<span class="o">!</span><span onmouseout="hideTip(event, 'fs217', 940)" onmouseover="showTip(event, 'fs217', 940)" class="i">bonus</span>]
            <span onmouseout="hideTip(event, 'fs218', 941)" onmouseover="showTip(event, 'fs218', 941)" class="i">bonuses</span> <span class="o">:=</span> (<span class="n">100</span>, (<span onmouseout="hideTip(event, 'fs99', 942)" onmouseover="showTip(event, 'fs99', 942)" class="i">image</span>, <span onmouseout="hideTip(event, 'fs109', 943)" onmouseover="showTip(event, 'fs109', 943)" class="i">ghost</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs138', 944)" onmouseover="showTip(event, 'fs138', 944)" class="i">X</span>, <span onmouseout="hideTip(event, 'fs109', 945)" onmouseover="showTip(event, 'fs109', 945)" class="i">ghost</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs139', 946)" onmouseover="showTip(event, 'fs139', 946)" class="i">Y</span>)) <span class="o">::</span> <span class="o">!</span><span onmouseout="hideTip(event, 'fs218', 947)" onmouseover="showTip(event, 'fs218', 947)" class="i">bonuses</span>
            <span onmouseout="hideTip(event, 'fs217', 948)" onmouseover="showTip(event, 'fs217', 948)" class="i">bonus</span> <span class="o">:=</span>  <span onmouseout="hideTip(event, 'fs242', 949)" onmouseover="showTip(event, 'fs242', 949)" class="i">min</span> <span class="n">3</span> (<span class="o">!</span><span onmouseout="hideTip(event, 'fs217', 950)" onmouseover="showTip(event, 'fs217', 950)" class="i">bonus</span> <span class="o">+</span> <span class="n">1</span>)
        )
      <span class="k">else</span>
        <span onmouseout="hideTip(event, 'fs234', 951)" onmouseover="showTip(event, 'fs234', 951)" class="i">decr</span> <span onmouseout="hideTip(event, 'fs219', 952)" onmouseover="showTip(event, 'fs219', 952)" class="i">energy</span>
        <span class="k">if</span> <span class="o">!</span><span onmouseout="hideTip(event, 'fs220', 953)" onmouseover="showTip(event, 'fs220', 953)" class="i">flashCountdown</span> <span class="o">=</span> <span class="n">0</span> <span class="k">then</span> <span onmouseout="hideTip(event, 'fs193', 954)" onmouseover="showTip(event, 'fs193', 954)" class="i">sound</span> <span class="s">&quot;</span><span class="s">Hurt</span><span class="s">.</span><span class="s">wav</span><span class="s">&quot;</span>
        <span onmouseout="hideTip(event, 'fs220', 955)" onmouseover="showTip(event, 'fs220', 955)" class="i">flashCountdown</span> <span class="o">:=</span> <span class="n">30</span>
    <span class="k">if</span> <span class="o">!</span><span onmouseout="hideTip(event, 'fs220', 956)" onmouseover="showTip(event, 'fs220', 956)" class="i">flashCountdown</span> <span class="o">&gt;</span> <span class="n">0</span> <span class="k">then</span> <span onmouseout="hideTip(event, 'fs234', 957)" onmouseover="showTip(event, 'fs234', 957)" class="i">decr</span> <span onmouseout="hideTip(event, 'fs220', 958)" onmouseover="showTip(event, 'fs220', 958)" class="i">flashCountdown</span> 
  
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs243', 959)" onmouseover="showTip(event, 'fs243', 959)" class="i">updateBonus</span> () <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs244', 960)" onmouseover="showTip(event, 'fs244', 960)" class="i">removals</span>,<span onmouseout="hideTip(event, 'fs245', 961)" onmouseover="showTip(event, 'fs245', 961)" class="i">remainders</span> <span class="o">=</span>
      <span class="o">!</span><span onmouseout="hideTip(event, 'fs218', 962)" onmouseover="showTip(event, 'fs218', 962)" class="i">bonuses</span> 
      <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs124', 963)" onmouseover="showTip(event, 'fs124', 963)" class="i">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs246', 964)" onmouseover="showTip(event, 'fs246', 964)" class="i">map</span> (<span class="k">fun</span> (<span onmouseout="hideTip(event, 'fs247', 965)" onmouseover="showTip(event, 'fs247', 965)" class="i">count</span>,<span onmouseout="hideTip(event, 'fs248', 966)" onmouseover="showTip(event, 'fs248', 966)" class="i">x</span>) <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs247', 967)" onmouseover="showTip(event, 'fs247', 967)" class="i">count</span><span class="o">-</span><span class="n">1</span>,<span onmouseout="hideTip(event, 'fs248', 968)" onmouseover="showTip(event, 'fs248', 968)" class="i">x</span>)
      <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs124', 969)" onmouseover="showTip(event, 'fs124', 969)" class="i">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs249', 970)" onmouseover="showTip(event, 'fs249', 970)" class="i">partition</span> (<span onmouseout="hideTip(event, 'fs147', 971)" onmouseover="showTip(event, 'fs147', 971)" class="i">fst</span> <span class="o">&gt;</span><span class="o">&gt;</span> (<span class="o">=</span>) <span class="n">0</span>)
    <span onmouseout="hideTip(event, 'fs218', 972)" onmouseover="showTip(event, 'fs218', 972)" class="i">bonuses</span> <span class="o">:=</span> <span onmouseout="hideTip(event, 'fs245', 973)" onmouseover="showTip(event, 'fs245', 973)" class="i">remainders</span>

  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs250', 974)" onmouseover="showTip(event, 'fs250', 974)" class="i">logic</span> () <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs222', 975)" onmouseover="showTip(event, 'fs222', 975)" class="i">moveGhosts</span>()
    <span onmouseout="hideTip(event, 'fs225', 976)" onmouseover="showTip(event, 'fs225', 976)" class="i">movePacman</span>()
    <span onmouseout="hideTip(event, 'fs231', 977)" onmouseover="showTip(event, 'fs231', 977)" class="i">eatPills</span> ()
    <span class="k">if</span> <span class="o">!</span><span onmouseout="hideTip(event, 'fs221', 978)" onmouseover="showTip(event, 'fs221', 978)" class="i">powerCountdown</span> <span class="o">&gt;</span> <span class="n">0</span> <span class="k">then</span> <span onmouseout="hideTip(event, 'fs234', 979)" onmouseover="showTip(event, 'fs234', 979)" class="i">decr</span> <span onmouseout="hideTip(event, 'fs221', 980)" onmouseover="showTip(event, 'fs221', 980)" class="i">powerCountdown</span>
    <span onmouseout="hideTip(event, 'fs238', 981)" onmouseover="showTip(event, 'fs238', 981)" class="i">collisionDetection</span>()
    <span onmouseout="hideTip(event, 'fs243', 982)" onmouseover="showTip(event, 'fs243', 982)" class="i">updateBonus</span> ()

  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs251', 983)" onmouseover="showTip(event, 'fs251', 983)" class="i">renderPacman</span> () <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs191', 984)" onmouseover="showTip(event, 'fs191', 984)" class="i">p</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs201', 985)" onmouseover="showTip(event, 'fs201', 985)" class="i">pacman</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs252', 986)" onmouseover="showTip(event, 'fs252', 986)" class="i">ImageAt</span>(<span onmouseout="hideTip(event, 'fs186', 987)" onmouseover="showTip(event, 'fs186', 987)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs187', 988)" onmouseover="showTip(event, 'fs187', 988)" class="i">y</span>,<span onmouseout="hideTip(event, 'fs188', 989)" onmouseover="showTip(event, 'fs188', 989)" class="i">v</span>)
    <span class="k">if</span> (<span class="o">!</span><span onmouseout="hideTip(event, 'fs220', 990)" onmouseover="showTip(event, 'fs220', 990)" class="i">flashCountdown</span> <span class="o">&gt;</span><span class="o">&gt;</span><span class="o">&gt;</span> <span class="n">1</span>) <span class="o">%</span> <span class="n">2</span> <span class="o">=</span> <span class="n">0</span>
    <span class="k">then</span> <span onmouseout="hideTip(event, 'fs57', 991)" onmouseover="showTip(event, 'fs57', 991)" class="i">context</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs253', 992)" onmouseover="showTip(event, 'fs253', 992)" class="i">drawImage</span>(<span onmouseout="hideTip(event, 'fs191', 993)" onmouseover="showTip(event, 'fs191', 993)" class="i">p</span>, <span onmouseout="hideTip(event, 'fs65', 994)" onmouseover="showTip(event, 'fs65', 994)" class="i">float</span> <span class="o">!</span><span onmouseout="hideTip(event, 'fs186', 995)" onmouseover="showTip(event, 'fs186', 995)" class="i">x</span>, <span onmouseout="hideTip(event, 'fs65', 996)" onmouseover="showTip(event, 'fs65', 996)" class="i">float</span> <span class="o">!</span><span onmouseout="hideTip(event, 'fs187', 997)" onmouseover="showTip(event, 'fs187', 997)" class="i">y</span>)

  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs254', 998)" onmouseover="showTip(event, 'fs254', 998)" class="i">renderEnergy</span> () <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs57', 999)" onmouseover="showTip(event, 'fs57', 999)" class="i">context</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs75', 1000)" onmouseover="showTip(event, 'fs75', 1000)" class="i">fillStyle</span> <span class="o">&lt;-</span> <span class="s">&quot;</span><span class="s">yellow</span><span class="s">&quot;</span>
    <span onmouseout="hideTip(event, 'fs57', 1001)" onmouseover="showTip(event, 'fs57', 1001)" class="i">context</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs76', 1002)" onmouseover="showTip(event, 'fs76', 1002)" class="i">fillRect</span>(<span class="n">120.</span>, <span class="n">250.</span>, <span onmouseout="hideTip(event, 'fs65', 1003)" onmouseover="showTip(event, 'fs65', 1003)" class="i">float</span> <span class="o">!</span><span onmouseout="hideTip(event, 'fs219', 1004)" onmouseover="showTip(event, 'fs219', 1004)" class="i">energy</span>, <span class="n">2.</span>)

  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs255', 1005)" onmouseover="showTip(event, 'fs255', 1005)" class="i">renderGhosts</span> () <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs211', 1006)" onmouseover="showTip(event, 'fs211', 1006)" class="i">ghosts</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs51', 1007)" onmouseover="showTip(event, 'fs51', 1007)" class="i">Array</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs223', 1008)" onmouseover="showTip(event, 'fs223', 1008)" class="i">iter</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs109', 1009)" onmouseover="showTip(event, 'fs109', 1009)" class="i">ghost</span> <span class="k">-&gt;</span>
      <span class="k">let</span> <span onmouseout="hideTip(event, 'fs99', 1010)" onmouseover="showTip(event, 'fs99', 1010)" class="i">image</span> <span class="o">=</span>
        <span class="k">if</span> <span onmouseout="hideTip(event, 'fs109', 1011)" onmouseover="showTip(event, 'fs109', 1011)" class="i">ghost</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs143', 1012)" onmouseover="showTip(event, 'fs143', 1012)" class="i">IsReturning</span> <span class="k">then</span> <span onmouseout="hideTip(event, 'fs213', 1013)" onmouseover="showTip(event, 'fs213', 1013)" class="i">eyed</span>
        <span class="k">else</span> 
          <span class="k">if</span> <span class="o">!</span><span onmouseout="hideTip(event, 'fs221', 1014)" onmouseover="showTip(event, 'fs221', 1014)" class="i">powerCountdown</span> <span class="o">=</span> <span class="n">0</span>
          <span class="k">then</span> <span onmouseout="hideTip(event, 'fs109', 1015)" onmouseover="showTip(event, 'fs109', 1015)" class="i">ghost</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs256', 1016)" onmouseover="showTip(event, 'fs256', 1016)" class="i">Image</span>
          <span class="k">elif</span> <span class="o">!</span><span onmouseout="hideTip(event, 'fs221', 1017)" onmouseover="showTip(event, 'fs221', 1017)" class="i">powerCountdown</span> <span class="o">&gt;</span> <span class="n">100</span> <span class="o">||</span> 
                ((<span class="o">!</span><span onmouseout="hideTip(event, 'fs221', 1018)" onmouseover="showTip(event, 'fs221', 1018)" class="i">powerCountdown</span> <span class="o">&gt;</span><span class="o">&gt;</span><span class="o">&gt;</span> <span class="n">3</span>) <span class="o">%</span> <span class="n">2</span>) <span class="o">&lt;&gt;</span> <span class="n">0</span> 
          <span class="k">then</span> <span onmouseout="hideTip(event, 'fs212', 1019)" onmouseover="showTip(event, 'fs212', 1019)" class="i">blue</span>
          <span class="k">else</span> <span onmouseout="hideTip(event, 'fs109', 1020)" onmouseover="showTip(event, 'fs109', 1020)" class="i">ghost</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs256', 1021)" onmouseover="showTip(event, 'fs256', 1021)" class="i">Image</span>
      <span onmouseout="hideTip(event, 'fs57', 1022)" onmouseover="showTip(event, 'fs57', 1022)" class="i">context</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs253', 1023)" onmouseover="showTip(event, 'fs253', 1023)" class="i">drawImage</span>(<span onmouseout="hideTip(event, 'fs99', 1024)" onmouseover="showTip(event, 'fs99', 1024)" class="i">image</span>, <span onmouseout="hideTip(event, 'fs65', 1025)" onmouseover="showTip(event, 'fs65', 1025)" class="i">float</span> <span onmouseout="hideTip(event, 'fs109', 1026)" onmouseover="showTip(event, 'fs109', 1026)" class="i">ghost</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs138', 1027)" onmouseover="showTip(event, 'fs138', 1027)" class="i">X</span>, <span onmouseout="hideTip(event, 'fs65', 1028)" onmouseover="showTip(event, 'fs65', 1028)" class="i">float</span> <span onmouseout="hideTip(event, 'fs109', 1029)" onmouseover="showTip(event, 'fs109', 1029)" class="i">ghost</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs139', 1030)" onmouseover="showTip(event, 'fs139', 1030)" class="i">Y</span>) 
    )

  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs257', 1031)" onmouseover="showTip(event, 'fs257', 1031)" class="i">renderScore</span> () <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs57', 1032)" onmouseover="showTip(event, 'fs57', 1032)" class="i">context</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs75', 1033)" onmouseover="showTip(event, 'fs75', 1033)" class="i">fillStyle</span> <span class="o">&lt;-</span> <span class="s">&quot;</span><span class="s">white</span><span class="s">&quot;</span>
    <span onmouseout="hideTip(event, 'fs57', 1034)" onmouseover="showTip(event, 'fs57', 1034)" class="i">context</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs258', 1035)" onmouseover="showTip(event, 'fs258', 1035)" class="i">font</span> <span class="o">&lt;-</span> <span class="s">&quot;</span><span class="s">bold</span><span class="s"> </span><span class="s">8</span><span class="s">px</span><span class="s">&quot;</span>;
    <span onmouseout="hideTip(event, 'fs57', 1036)" onmouseover="showTip(event, 'fs57', 1036)" class="i">context</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs259', 1037)" onmouseover="showTip(event, 'fs259', 1037)" class="i">fillText</span>(<span class="s">&quot;</span><span class="s">Score</span><span class="s"> </span><span class="s">&quot;</span> <span class="o">+</span> (<span class="o">!</span><span onmouseout="hideTip(event, 'fs216', 1038)" onmouseover="showTip(event, 'fs216', 1038)" class="i">score</span>)<span class="o">.</span><span class="i">ToString</span>(), <span class="n">0.</span>, <span class="n">255.</span>)

  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs260', 1039)" onmouseover="showTip(event, 'fs260', 1039)" class="i">renderBonus</span> () <span class="o">=</span>
    <span class="o">!</span><span onmouseout="hideTip(event, 'fs218', 1040)" onmouseover="showTip(event, 'fs218', 1040)" class="i">bonuses</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs124', 1041)" onmouseover="showTip(event, 'fs124', 1041)" class="i">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs126', 1042)" onmouseover="showTip(event, 'fs126', 1042)" class="i">iter</span> (<span class="k">fun</span> (_,(<span onmouseout="hideTip(event, 'fs99', 1043)" onmouseover="showTip(event, 'fs99', 1043)" class="i">image</span>,<span onmouseout="hideTip(event, 'fs22', 1044)" onmouseover="showTip(event, 'fs22', 1044)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs23', 1045)" onmouseover="showTip(event, 'fs23', 1045)" class="i">y</span>)) <span class="k">-&gt;</span> 
      <span onmouseout="hideTip(event, 'fs57', 1046)" onmouseover="showTip(event, 'fs57', 1046)" class="i">context</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs253', 1047)" onmouseover="showTip(event, 'fs253', 1047)" class="i">drawImage</span>(<span class="i">image</span>, <span onmouseout="hideTip(event, 'fs65', 1048)" onmouseover="showTip(event, 'fs65', 1048)" class="i">float</span> <span onmouseout="hideTip(event, 'fs22', 1049)" onmouseover="showTip(event, 'fs22', 1049)" class="i">x</span>, <span onmouseout="hideTip(event, 'fs65', 1050)" onmouseover="showTip(event, 'fs65', 1050)" class="i">float</span> <span onmouseout="hideTip(event, 'fs23', 1051)" onmouseover="showTip(event, 'fs23', 1051)" class="i">y</span>))

  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs261', 1052)" onmouseover="showTip(event, 'fs261', 1052)" class="i">render</span> () <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs57', 1053)" onmouseover="showTip(event, 'fs57', 1053)" class="i">context</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs253', 1054)" onmouseover="showTip(event, 'fs253', 1054)" class="i">drawImage</span>(<span onmouseout="hideTip(event, 'fs210', 1055)" onmouseover="showTip(event, 'fs210', 1055)" class="i">background</span>, <span class="n">0.</span>, <span class="n">0.</span>)
    <span onmouseout="hideTip(event, 'fs257', 1056)" onmouseover="showTip(event, 'fs257', 1056)" class="i">renderScore</span> ()
    <span onmouseout="hideTip(event, 'fs254', 1057)" onmouseover="showTip(event, 'fs254', 1057)" class="i">renderEnergy</span> ()
    <span onmouseout="hideTip(event, 'fs251', 1058)" onmouseover="showTip(event, 'fs251', 1058)" class="i">renderPacman</span>()
    <span onmouseout="hideTip(event, 'fs255', 1059)" onmouseover="showTip(event, 'fs255', 1059)" class="i">renderGhosts</span> ()
    <span onmouseout="hideTip(event, 'fs260', 1060)" onmouseover="showTip(event, 'fs260', 1060)" class="i">renderBonus</span> ()

  <span class="k">let</span> <span class="k">rec</span> <span onmouseout="hideTip(event, 'fs262', 1061)" onmouseover="showTip(event, 'fs262', 1061)" class="i">update</span> () <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs250', 1062)" onmouseover="showTip(event, 'fs250', 1062)" class="i">logic</span> ()
    <span onmouseout="hideTip(event, 'fs261', 1063)" onmouseover="showTip(event, 'fs261', 1063)" class="i">render</span> ()
    <span class="k">if</span> <span class="o">!</span><span onmouseout="hideTip(event, 'fs215', 1064)" onmouseover="showTip(event, 'fs215', 1064)" class="i">dotsLeft</span> <span class="o">=</span> <span class="n">0</span> <span class="k">then</span> <span onmouseout="hideTip(event, 'fs199', 1065)" onmouseover="showTip(event, 'fs199', 1065)" class="i">onLevelCompleted</span>()
    <span class="k">elif</span> <span class="o">!</span><span onmouseout="hideTip(event, 'fs219', 1066)" onmouseover="showTip(event, 'fs219', 1066)" class="i">energy</span> <span class="o">&lt;=</span> <span class="n">0</span> <span class="k">then</span> <span onmouseout="hideTip(event, 'fs200', 1067)" onmouseover="showTip(event, 'fs200', 1067)" class="i">onGameOver</span>()
    <span class="k">else</span> <span onmouseout="hideTip(event, 'fs4', 1068)" onmouseover="showTip(event, 'fs4', 1068)" class="i">ts</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs263', 1069)" onmouseover="showTip(event, 'fs263', 1069)" class="i">setTimeout</span>(<span onmouseout="hideTip(event, 'fs262', 1070)" onmouseover="showTip(event, 'fs262', 1070)" class="i">update</span>, <span class="n">1000.</span> <span class="o">/</span> <span class="n">60.</span>) <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs264', 1071)" onmouseover="showTip(event, 'fs264', 1071)" class="i">ignore</span>

  <span onmouseout="hideTip(event, 'fs262', 1072)" onmouseover="showTip(event, 'fs262', 1072)" class="i">update</span>()</pre>
</td>
</tr>
</table><h2>Main gaim entry point</h2>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
<span class="l">23: </span>
<span class="l">24: </span>
<span class="l">25: </span>
<span class="l">26: </span>
<span class="l">27: </span>
<span class="l">28: </span>
<span class="l">29: </span>
<span class="l">30: </span>
<span class="l">31: </span>
<span class="l">32: </span>
<span class="l">33: </span>
<span class="l">34: </span>
<span class="l">35: </span>
<span class="l">36: </span>
<span class="l">37: </span>
<span class="l">38: </span>
<span class="l">39: </span>
<span class="l">40: </span>
<span class="l">41: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">let</span> <span class="k">rec</span> <span onmouseout="hideTip(event, 'fs265', 1073)" onmouseover="showTip(event, 'fs265', 1073)" class="i">game</span> (<span onmouseout="hideTip(event, 'fs156', 1074)" onmouseover="showTip(event, 'fs156', 1074)" class="i">keys</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs152', 1075)" onmouseover="showTip(event, 'fs152', 1075)" class="i">Keys</span>) <span class="o">=</span>
  <span onmouseout="hideTip(event, 'fs156', 1076)" onmouseover="showTip(event, 'fs156', 1076)" class="i">keys</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs266', 1077)" onmouseover="showTip(event, 'fs266', 1077)" class="i">Reset</span>()
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs69', 1078)" onmouseover="showTip(event, 'fs69', 1078)" class="i">canv</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs4', 1079)" onmouseover="showTip(event, 'fs4', 1079)" class="i">ts</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs5', 1080)" onmouseover="showTip(event, 'fs5', 1080)" class="i">document</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs203', 1081)" onmouseover="showTip(event, 'fs203', 1081)" class="i">getElementById</span>(<span class="s">&quot;</span><span class="s">canvas</span><span class="s">&quot;</span>)
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs204', 1082)" onmouseover="showTip(event, 'fs204', 1082)" class="i">canvas</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs8', 1083)" onmouseover="showTip(event, 'fs8', 1083)" class="i">unbox</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs4', 1084)" onmouseover="showTip(event, 'fs4', 1084)" class="i">ts</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs71', 1085)" onmouseover="showTip(event, 'fs71', 1085)" class="i">HTMLCanvasElement</span><span class="o">&gt;</span>(<span onmouseout="hideTip(event, 'fs69', 1086)" onmouseover="showTip(event, 'fs69', 1086)" class="i">canv</span>)
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs57', 1087)" onmouseover="showTip(event, 'fs57', 1087)" class="i">context</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs204', 1088)" onmouseover="showTip(event, 'fs204', 1088)" class="i">canvas</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs74', 1089)" onmouseover="showTip(event, 'fs74', 1089)" class="i">getContext</span>(<span class="s">&quot;</span><span class="s">2</span><span class="s">d</span><span class="s">&quot;</span>)
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs267', 1090)" onmouseover="showTip(event, 'fs267', 1090)" class="i">drawText</span>(<span onmouseout="hideTip(event, 'fs268', 1091)" onmouseover="showTip(event, 'fs268', 1091)" class="i">text</span>,<span onmouseout="hideTip(event, 'fs269', 1092)" onmouseover="showTip(event, 'fs269', 1092)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs270', 1093)" onmouseover="showTip(event, 'fs270', 1093)" class="i">y</span>) <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs57', 1094)" onmouseover="showTip(event, 'fs57', 1094)" class="i">context</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs75', 1095)" onmouseover="showTip(event, 'fs75', 1095)" class="i">fillStyle</span> <span class="o">&lt;-</span> <span class="s">&quot;</span><span class="s">white</span><span class="s">&quot;</span>
    <span onmouseout="hideTip(event, 'fs57', 1096)" onmouseover="showTip(event, 'fs57', 1096)" class="i">context</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs258', 1097)" onmouseover="showTip(event, 'fs258', 1097)" class="i">font</span> <span class="o">&lt;-</span> <span class="s">&quot;</span><span class="s">bold</span><span class="s"> </span><span class="s">8</span><span class="s">px</span><span class="s">&quot;</span>;
    <span onmouseout="hideTip(event, 'fs57', 1098)" onmouseover="showTip(event, 'fs57', 1098)" class="i">context</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs259', 1099)" onmouseover="showTip(event, 'fs259', 1099)" class="i">fillText</span>(<span onmouseout="hideTip(event, 'fs268', 1100)" onmouseover="showTip(event, 'fs268', 1100)" class="i">text</span>, <span onmouseout="hideTip(event, 'fs269', 1101)" onmouseover="showTip(event, 'fs269', 1101)" class="i">x</span>, <span onmouseout="hideTip(event, 'fs270', 1102)" onmouseover="showTip(event, 'fs270', 1102)" class="i">y</span>)
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs271', 1103)" onmouseover="showTip(event, 'fs271', 1103)" class="i">levelCompleted</span> () <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs267', 1104)" onmouseover="showTip(event, 'fs267', 1104)" class="i">drawText</span>(<span class="s">&quot;</span><span class="s">COMPLETED</span><span class="s">&quot;</span>,<span class="n">96.</span>,<span class="n">96.</span>)
    <span onmouseout="hideTip(event, 'fs4', 1105)" onmouseover="showTip(event, 'fs4', 1105)" class="i">ts</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs263', 1106)" onmouseover="showTip(event, 'fs263', 1106)" class="i">setTimeout</span>((<span class="k">fun</span> () <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs265', 1107)" onmouseover="showTip(event, 'fs265', 1107)" class="i">game</span>(<span onmouseout="hideTip(event, 'fs156', 1108)" onmouseover="showTip(event, 'fs156', 1108)" class="i">keys</span>)),<span class="n">5000.</span>) <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs264', 1109)" onmouseover="showTip(event, 'fs264', 1109)" class="i">ignore</span> 
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs272', 1110)" onmouseover="showTip(event, 'fs272', 1110)" class="i">gameOver</span> () <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs267', 1111)" onmouseover="showTip(event, 'fs267', 1111)" class="i">drawText</span>(<span class="s">&quot;</span><span class="s">GAME</span><span class="s"> </span><span class="s">OVER</span><span class="s">&quot;</span>,<span class="n">96.</span>,<span class="n">96.</span>)
    <span onmouseout="hideTip(event, 'fs4', 1112)" onmouseover="showTip(event, 'fs4', 1112)" class="i">ts</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs263', 1113)" onmouseover="showTip(event, 'fs263', 1113)" class="i">setTimeout</span>((<span class="k">fun</span> () <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs265', 1114)" onmouseover="showTip(event, 'fs265', 1114)" class="i">game</span>(<span onmouseout="hideTip(event, 'fs156', 1115)" onmouseover="showTip(event, 'fs156', 1115)" class="i">keys</span>)),<span class="n">5000.</span>) <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs264', 1116)" onmouseover="showTip(event, 'fs264', 1116)" class="i">ignore</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs273', 1117)" onmouseover="showTip(event, 'fs273', 1117)" class="i">start</span> () <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs210', 1118)" onmouseover="showTip(event, 'fs210', 1118)" class="i">background</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs68', 1119)" onmouseover="showTip(event, 'fs68', 1119)" class="i">createBackground</span>()
    <span onmouseout="hideTip(event, 'fs57', 1120)" onmouseover="showTip(event, 'fs57', 1120)" class="i">context</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs253', 1121)" onmouseover="showTip(event, 'fs253', 1121)" class="i">drawImage</span>(<span onmouseout="hideTip(event, 'fs210', 1122)" onmouseover="showTip(event, 'fs210', 1122)" class="i">background</span>, <span class="n">0.</span>, <span class="n">0.</span>)
    <span onmouseout="hideTip(event, 'fs57', 1123)" onmouseover="showTip(event, 'fs57', 1123)" class="i">context</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs75', 1124)" onmouseover="showTip(event, 'fs75', 1124)" class="i">fillStyle</span> <span class="o">&lt;-</span> <span class="s">&quot;</span><span class="s">white</span><span class="s">&quot;</span>
    <span onmouseout="hideTip(event, 'fs57', 1125)" onmouseover="showTip(event, 'fs57', 1125)" class="i">context</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs258', 1126)" onmouseover="showTip(event, 'fs258', 1126)" class="i">font</span> <span class="o">&lt;-</span> <span class="s">&quot;</span><span class="s">bold</span><span class="s"> </span><span class="s">8</span><span class="s">px</span><span class="s">&quot;</span>;
    <span onmouseout="hideTip(event, 'fs267', 1127)" onmouseover="showTip(event, 'fs267', 1127)" class="i">drawText</span>(<span class="s">&quot;</span><span class="s">CLICK</span><span class="s"> </span><span class="s">TO</span><span class="s"> </span><span class="s">START</span><span class="s">&quot;</span>, <span class="n">88.</span>, <span class="n">96.</span>)
    <span onmouseout="hideTip(event, 'fs204', 1128)" onmouseover="showTip(event, 'fs204', 1128)" class="i">canvas</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs274', 1129)" onmouseover="showTip(event, 'fs274', 1129)" class="i">AsHTMLElement</span>()<span class="o">.</span><span class="i">onclick</span> <span class="o">&lt;-</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs275', 1130)" onmouseover="showTip(event, 'fs275', 1130)" class="i">e</span> <span class="k">-&gt;</span> 
      <span onmouseout="hideTip(event, 'fs204', 1131)" onmouseover="showTip(event, 'fs204', 1131)" class="i">canvas</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs274', 1132)" onmouseover="showTip(event, 'fs274', 1132)" class="i">AsHTMLElement</span>()<span class="o">.</span><span class="i">onclick</span> <span class="o">&lt;-</span> <span class="k">null</span>
      <span onmouseout="hideTip(event, 'fs198', 1133)" onmouseover="showTip(event, 'fs198', 1133)" class="i">playLevel</span> (<span onmouseout="hideTip(event, 'fs156', 1134)" onmouseover="showTip(event, 'fs156', 1134)" class="i">keys</span>, <span onmouseout="hideTip(event, 'fs271', 1135)" onmouseover="showTip(event, 'fs271', 1135)" class="i">levelCompleted</span>, <span onmouseout="hideTip(event, 'fs272', 1136)" onmouseover="showTip(event, 'fs272', 1136)" class="i">gameOver</span>)
      <span onmouseout="hideTip(event, 'fs276', 1137)" onmouseover="showTip(event, 'fs276', 1137)" class="i">box</span> <span class="k">true</span>
    )

  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs69', 1138)" onmouseover="showTip(event, 'fs69', 1138)" class="i">canv</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs4', 1139)" onmouseover="showTip(event, 'fs4', 1139)" class="i">ts</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs5', 1140)" onmouseover="showTip(event, 'fs5', 1140)" class="i">document</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs203', 1141)" onmouseover="showTip(event, 'fs203', 1141)" class="i">getElementById</span>(<span class="s">&quot;</span><span class="s">canvas</span><span class="s">&quot;</span>)
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs204', 1142)" onmouseover="showTip(event, 'fs204', 1142)" class="i">canvas</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs8', 1143)" onmouseover="showTip(event, 'fs8', 1143)" class="i">unbox</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs4', 1144)" onmouseover="showTip(event, 'fs4', 1144)" class="i">ts</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs71', 1145)" onmouseover="showTip(event, 'fs71', 1145)" class="i">HTMLCanvasElement</span><span class="o">&gt;</span>(<span onmouseout="hideTip(event, 'fs69', 1146)" onmouseover="showTip(event, 'fs69', 1146)" class="i">canv</span>)
  <span onmouseout="hideTip(event, 'fs204', 1147)" onmouseover="showTip(event, 'fs204', 1147)" class="i">canvas</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs72', 1148)" onmouseover="showTip(event, 'fs72', 1148)" class="i">width</span> <span class="o">&lt;-</span> <span class="n">256.</span>
  <span onmouseout="hideTip(event, 'fs204', 1149)" onmouseover="showTip(event, 'fs204', 1149)" class="i">canvas</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs73', 1150)" onmouseover="showTip(event, 'fs73', 1150)" class="i">height</span> <span class="o">&lt;-</span> <span class="n">256.</span>  
  <span onmouseout="hideTip(event, 'fs273', 1151)" onmouseover="showTip(event, 'fs273', 1151)" class="i">start</span>()
  
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs277', 1152)" onmouseover="showTip(event, 'fs277', 1152)" class="i">main</span> () <span class="o">=</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs156', 1153)" onmouseover="showTip(event, 'fs156', 1153)" class="i">keys</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs152', 1154)" onmouseover="showTip(event, 'fs152', 1154)" class="i">Keys</span>()
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs278', 1155)" onmouseover="showTip(event, 'fs278', 1155)" class="i">listener</span> (<span onmouseout="hideTip(event, 'fs279', 1156)" onmouseover="showTip(event, 'fs279', 1156)" class="i">f</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs280', 1157)" onmouseover="showTip(event, 'fs280', 1157)" class="i">obj</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs196', 1158)" onmouseover="showTip(event, 'fs196', 1158)" class="i">unit</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs8', 1159)" onmouseover="showTip(event, 'fs8', 1159)" class="i">unbox</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs4', 1160)" onmouseover="showTip(event, 'fs4', 1160)" class="i">ts</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs281', 1161)" onmouseover="showTip(event, 'fs281', 1161)" class="i">EventListener</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs279', 1162)" onmouseover="showTip(event, 'fs279', 1162)" class="i">f</span>
  <span onmouseout="hideTip(event, 'fs4', 1163)" onmouseover="showTip(event, 'fs4', 1163)" class="i">ts</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs282', 1164)" onmouseover="showTip(event, 'fs282', 1164)" class="i">addEventListener</span>(<span class="s">&quot;</span><span class="s">keydown</span><span class="s">&quot;</span>, <span onmouseout="hideTip(event, 'fs278', 1165)" onmouseover="showTip(event, 'fs278', 1165)" class="i">listener</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs283', 1166)" onmouseover="showTip(event, 'fs283', 1166)" class="i">e</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs156', 1167)" onmouseover="showTip(event, 'fs156', 1167)" class="i">keys</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs284', 1168)" onmouseover="showTip(event, 'fs284', 1168)" class="i">Update</span>(<span onmouseout="hideTip(event, 'fs283', 1169)" onmouseover="showTip(event, 'fs283', 1169)" class="i">e</span>, <span class="k">true</span>)))
  <span onmouseout="hideTip(event, 'fs4', 1170)" onmouseover="showTip(event, 'fs4', 1170)" class="i">ts</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs282', 1171)" onmouseover="showTip(event, 'fs282', 1171)" class="i">addEventListener</span>(<span class="s">&quot;</span><span class="s">keyup</span><span class="s">&quot;</span>, <span onmouseout="hideTip(event, 'fs278', 1172)" onmouseover="showTip(event, 'fs278', 1172)" class="i">listener</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs283', 1173)" onmouseover="showTip(event, 'fs283', 1173)" class="i">e</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs156', 1174)" onmouseover="showTip(event, 'fs156', 1174)" class="i">keys</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs284', 1175)" onmouseover="showTip(event, 'fs284', 1175)" class="i">Update</span>(<span onmouseout="hideTip(event, 'fs283', 1176)" onmouseover="showTip(event, 'fs283', 1176)" class="i">e</span>, <span class="k">false</span>)))  
  <span onmouseout="hideTip(event, 'fs265', 1177)" onmouseover="showTip(event, 'fs265', 1177)" class="i">game</span> (<span onmouseout="hideTip(event, 'fs156', 1178)" onmouseover="showTip(event, 'fs156', 1178)" class="i">keys</span>)  

<span class="k">do</span> <span class="i">Runtime</span><span class="o">.</span><span class="i">Run</span>(<span class="i">directory</span><span class="o">=</span><span class="s">&quot;</span><span class="s">Web</span><span class="s">&quot;</span>, <span class="i">components</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs285', 1179)" onmouseover="showTip(event, 'fs285', 1179)" class="i">Interop</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs286', 1180)" onmouseover="showTip(event, 'fs286', 1180)" class="i">Components</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs287', 1181)" onmouseover="showTip(event, 'fs287', 1181)" class="i">all</span>)</pre>
</td>
</tr>
</table>
      <div class="tip" id="fs1">val createImage : data:string -&gt; Api&lt;...&gt;.HTMLElement<br /><br />Full name: Program.createImage</div>
<div class="tip" id="fs2">val data : string</div>
<div class="tip" id="fs3">val img : Api&lt;...&gt;.HTMLElement</div>
<div class="tip" id="fs4">type ts = Api&lt;...&gt;<br /><br />Full name: Program.ts</div>
<div class="tip" id="fs5">property Api&lt;...&gt;.document: Api&lt;...&gt;.Document</div>
<div class="tip" id="fs6">Api&lt;...&gt;.Document.createElement(tagName: string) : Api&lt;...&gt;.HTMLElement</div>
<div class="tip" id="fs7">val image : Api&lt;...&gt;.HTMLImageElement</div>
<div class="tip" id="fs8">val unbox : value:obj -&gt; &#39;T<br /><br />Full name: Microsoft.FSharp.Core.Operators.unbox</div>
<div class="tip" id="fs9">type HTMLImageElement =<br />&#160;&#160;new : unit -&gt; HTMLImageElement<br />&#160;&#160;member AsDOML2DeprecatedAlignmentStyle_HTMLImageElement : unit -&gt; DOML2DeprecatedAlignmentStyle_HTMLImageElement<br />&#160;&#160;member AsDOML2DeprecatedBorderStyle : unit -&gt; DOML2DeprecatedBorderStyle<br />&#160;&#160;member AsDOML2DeprecatedMarginStyle : unit -&gt; DOML2DeprecatedMarginStyle<br />&#160;&#160;member AsElement : unit -&gt; Element<br />&#160;&#160;member AsElementCSSInlineStyle : unit -&gt; ElementCSSInlineStyle<br />&#160;&#160;member AsElementTraversal : unit -&gt; ElementTraversal<br />&#160;&#160;member AsEventTarget : unit -&gt; EventTarget<br />&#160;&#160;member AsHTMLElement : unit -&gt; HTMLElement<br />&#160;&#160;member AsMSDataBindingExtensions : unit -&gt; MSDataBindingExtensions<br />&#160;&#160;...<br /><br />Full name: FunScript.TypeScript.Api,files=&quot;../Typings/lib.d.ts&quot;.HTMLImageElement</div>
<div class="tip" id="fs10">property Api&lt;...&gt;.HTMLImageElement.src: string</div>
<div class="tip" id="fs11">type HTMLElement =<br />&#160;&#160;new : unit -&gt; HTMLElement<br />&#160;&#160;member AsElement : unit -&gt; Element<br />&#160;&#160;member AsElementCSSInlineStyle : unit -&gt; ElementCSSInlineStyle<br />&#160;&#160;member AsElementTraversal : unit -&gt; ElementTraversal<br />&#160;&#160;member AsEventTarget : unit -&gt; EventTarget<br />&#160;&#160;member AsMSElementCSSInlineStyleExtensions : unit -&gt; MSElementCSSInlineStyleExtensions<br />&#160;&#160;member AsMSElementExtensions : unit -&gt; MSElementExtensions<br />&#160;&#160;member AsMSEventAttachmentTarget : unit -&gt; MSEventAttachmentTarget<br />&#160;&#160;member AsMSHTMLElementExtensions : unit -&gt; MSHTMLElementExtensions<br />&#160;&#160;member AsMSHTMLElementRangeExtensions : unit -&gt; MSHTMLElementRangeExtensions<br />&#160;&#160;...<br /><br />Full name: FunScript.TypeScript.Api,files=&quot;../Typings/lib.d.ts&quot;.HTMLElement</div>
<div class="tip" id="fs12">val maze : string []<br /><br />Full name: Program.maze</div>
<div class="tip" id="fs13">&quot;\<br />##|.L--J.L---J.LJ.L---J.L--J.|##,\<br />##|..........................|##,\<br />##|./__7./7./______7./7./__7.|##,\<br />##|.L--J.|!.L--7/--J.|!.L--J.|##,\<br />##|......|!....|!....|!......|##,\<br />##L____7.|L__7 |! /__J!./____J##,\<br />#######!.|/--J LJ L--7!.|#######,\<br />#######!.|!      |!.|#######,\<br />#######!.|! /__==__7 |!.|#######,\<br />-------J.LJ |    ! LJ.L-------,\<br />########.   | **** !   .########,\<br />_______7./7 |    ! /7./_______,\<br />#######!.|! L______J |!.|#######,\<br />#######!.|!      |!.|#######,\<br />#######!.|! /______7 |!.|#######,\<br />##/----J.LJ L--7/--J LJ.L----7##,\<br />##|............|!............|##,\<br />##|./__7./___7.|!./___7./__7.|##,\<br />##|.L-7!.L---J.LJ.L---J.|/-J.|##,\<br />##|o..|!.......&lt;&gt;.......|!..o|##,\<br />##L_7.|!./7./______7./7.|!./_J##,\<br />##/-J.LJ.|!.L--7/--J.|!.LJ.L-7##,\<br />##|......|!....|!....|!......|##,\<br />###|./____JL__7.|!./__JL____7.|##,\<br />##|.L--------J.LJ.L--------J.|##,\<br />##|..........................|##,\<br />##L--------------------------J##&quot;</div>
<div class="tip" id="fs14">val tileBits : int [] []<br /><br />Full name: Program.tileBits</div>
<div class="tip" id="fs15">[|0b00000000;0b00000000;0b00000000;0b00000000;0b00000011;0b00000100;0b00001000;0b00001000|] // tl<br />&#160;&#160;[|0b00000000;0b00000000;0b00000000;0b00000000;0b11111111;0b00000000;0b00000000;0b00000000|] // top<br />&#160;&#160;[|0b00000000;0b00000000;0b00000000;0b00000000;0b11000000;0b00100000;0b00010000;0b00010000|] // tr<br />&#160;&#160;[|0b00001000;0b00001000;0b00001000;0b00001000;0b00001000;0b00001000;0b00001000;0b00001000|] // left<br />&#160;&#160;[|0b00010000;0b00010000;0b00010000;0b00010000;0b00010000;0b00010000;0b00010000;0b00010000|] // right<br />&#160;&#160;[|0b00001000;0b00001000;0b00000100;0b00000011;0b00000000;0b00000000;0b00000000;0b00000000|] // bl<br />&#160;&#160;[|0b00000000;0b00000000;0b00000000;0b11111111;0b00000000;0b00000000;0b00000000;0b00000000|] // bottom<br />&#160;&#160;[|0b00010000;0b00010000;0b00100000;0b11000000;0b00000000;0b00000000;0b00000000;0b00000000|] // br<br />&#160;&#160;[|0b00000000;0b00000000;0b00000000;0b00000000;0b11111111;0b00000000;0b00000000;0b00000000|] // door<br />&#160;&#160;[|0b00000000;0b00000000;0b00000000;0b00011000;0b00011000;0b00000000;0b00000000;0b00000000|] // pill<br />&#160;&#160;[|0b00000000;0b00011000;0b00111100;0b01111110;0b01111110;0b00111100;0b00011000;0b00000000|] // power</div>
<div class="tip" id="fs16">val blank : int []<br /><br />Full name: Program.blank</div>
<div class="tip" id="fs17">0b00000000;0b00000000;0b00000000;0b00000000;0b00000000;0b00000000;0b00000000;0b00000000</div>
<div class="tip" id="fs18">val isWall : c:char -&gt; bool<br /><br />Full name: Program.isWall</div>
<div class="tip" id="fs19">val c : char</div>
<div class="tip" id="fs20">Multiple items<br />val char : value:&#39;T -&gt; char (requires member op_Explicit)<br /><br />Full name: Microsoft.FSharp.Core.Operators.char<br /><br />--------------------<br />type char = System.Char<br /><br />Full name: Microsoft.FSharp.Core.char</div>
<div class="tip" id="fs21">val tileAt : x:int * y:int -&gt; char<br /><br />Full name: Program.tileAt</div>
<div class="tip" id="fs22">val x : int</div>
<div class="tip" id="fs23">val y : int</div>
<div class="tip" id="fs24">val isWallAt : x:int * y:int -&gt; bool<br /><br />Full name: Program.isWallAt</div>
<div class="tip" id="fs25">val noWall : x:int * y:int -&gt; ex:int * ey:int -&gt; bool<br /><br />Full name: Program.noWall</div>
<div class="tip" id="fs26">val ex : int</div>
<div class="tip" id="fs27">val ey : int</div>
<div class="tip" id="fs28">val bx : int</div>
<div class="tip" id="fs29">val by : int</div>
<div class="tip" id="fs30">val not : value:bool -&gt; bool<br /><br />Full name: Microsoft.FSharp.Core.Operators.not</div>
<div class="tip" id="fs31">val verticallyAligned : x:int * y:&#39;a -&gt; bool<br /><br />Full name: Program.verticallyAligned</div>
<div class="tip" id="fs32">val y : &#39;a</div>
<div class="tip" id="fs33">val horizontallyAligned : x:&#39;a * y:int -&gt; bool<br /><br />Full name: Program.horizontallyAligned</div>
<div class="tip" id="fs34">val x : &#39;a</div>
<div class="tip" id="fs35">val isAligned : n:int -&gt; bool<br /><br />Full name: Program.isAligned</div>
<div class="tip" id="fs36">val n : int</div>
<div class="tip" id="fs37">val canGoUp : x:int * y:int -&gt; bool<br /><br />Full name: Program.canGoUp</div>
<div class="tip" id="fs38">val canGoDown : x:int * y:int -&gt; bool<br /><br />Full name: Program.canGoDown</div>
<div class="tip" id="fs39">val canGoLeft : x:int * y:int -&gt; bool<br /><br />Full name: Program.canGoLeft</div>
<div class="tip" id="fs40">val canGoRight : x:int * y:int -&gt; bool<br /><br />Full name: Program.canGoRight</div>
<div class="tip" id="fs41">val tileColors : string<br /><br />Full name: Program.tileColors</div>
<div class="tip" id="fs42">val tileChars : string<br /><br />Full name: Program.tileChars</div>
<div class="tip" id="fs43">val toTile : c:char -&gt; int [] * char<br /><br />Full name: Program.toTile</div>
<div class="tip" id="fs44">val i : int</div>
<div class="tip" id="fs45">System.String.IndexOf(value: string) : int<br />System.String.IndexOf(value: char) : int<br />System.String.IndexOf(value: string, comparisonType: System.StringComparison) : int<br />System.String.IndexOf(value: string, startIndex: int) : int<br />System.String.IndexOf(value: char, startIndex: int) : int<br />System.String.IndexOf(value: string, startIndex: int, comparisonType: System.StringComparison) : int<br />System.String.IndexOf(value: string, startIndex: int, count: int) : int<br />System.String.IndexOf(value: char, startIndex: int, count: int) : int<br />System.String.IndexOf(value: string, startIndex: int, count: int, comparisonType: System.StringComparison) : int</div>
<div class="tip" id="fs46">val draw : f:(int * int -&gt; unit) -&gt; lines:int [] -&gt; unit<br /><br />Full name: Program.draw</div>
<div class="tip" id="fs47">val f : (int * int -&gt; unit)</div>
<div class="tip" id="fs48">val lines : int []</div>
<div class="tip" id="fs49">Multiple items<br />val int : value:&#39;T -&gt; int (requires member op_Explicit)<br /><br />Full name: Microsoft.FSharp.Core.Operators.int<br /><br />--------------------<br />type int = int32<br /><br />Full name: Microsoft.FSharp.Core.int<br /><br />--------------------<br />type int&lt;&#39;Measure&gt; = int<br /><br />Full name: Microsoft.FSharp.Core.int&lt;_&gt;</div>
<div class="tip" id="fs50">val width : int</div>
<div class="tip" id="fs51">module Array<br /><br />from Microsoft.FSharp.Collections</div>
<div class="tip" id="fs52">val iteri : action:(int -&gt; &#39;T -&gt; unit) -&gt; array:&#39;T [] -&gt; unit<br /><br />Full name: Microsoft.FSharp.Collections.Array.iteri</div>
<div class="tip" id="fs53">val line : int</div>
<div class="tip" id="fs54">val bit : int</div>
<div class="tip" id="fs55">val pattern : int</div>
<div class="tip" id="fs56">val createBrush : context:Api&lt;...&gt;.CanvasRenderingContext2D -&gt; r:int * g:int * b:int * a:int -&gt; Api&lt;...&gt;.ImageData<br /><br />Full name: Program.createBrush</div>
<div class="tip" id="fs57">val context : Api&lt;...&gt;.CanvasRenderingContext2D</div>
<div class="tip" id="fs58">type CanvasRenderingContext2D =<br />&#160;&#160;new : unit -&gt; CanvasRenderingContext2D<br />&#160;&#160;member arc : x: float * y: float * radius: float * startAngle: float * endAngle: float -&gt; Unit + 1 overload<br />&#160;&#160;member arcTo : x1: float * y1: float * x2: float * y2: float * radius: float -&gt; Unit<br />&#160;&#160;member beginPath : unit -&gt; Unit<br />&#160;&#160;member bezierCurveTo : cp1x: float * cp1y: float * cp2x: float * cp2y: float * x: float * y: float -&gt; Unit<br />&#160;&#160;member canvas : HTMLCanvasElement with get, set<br />&#160;&#160;member clearRect : x: float * y: float * w: float * h: float -&gt; Unit<br />&#160;&#160;member clip : unit -&gt; Unit<br />&#160;&#160;member closePath : unit -&gt; Unit<br />&#160;&#160;member createImageData : imageDataOrSw: obj -&gt; ImageData + 1 overload<br />&#160;&#160;...<br /><br />Full name: FunScript.TypeScript.Api,files=&quot;../Typings/lib.d.ts&quot;.CanvasRenderingContext2D</div>
<div class="tip" id="fs59">val r : int</div>
<div class="tip" id="fs60">val g : int</div>
<div class="tip" id="fs61">val b : int</div>
<div class="tip" id="fs62">val a : int</div>
<div class="tip" id="fs63">val id : Api&lt;...&gt;.ImageData</div>
<div class="tip" id="fs64">Api&lt;...&gt;.CanvasRenderingContext2D.createImageData(imageDataOrSw: obj) : Api&lt;...&gt;.ImageData<br />Api&lt;...&gt;.CanvasRenderingContext2D.createImageData(imageDataOrSw: obj, sh: float) : Api&lt;...&gt;.ImageData</div>
<div class="tip" id="fs65">Multiple items<br />val float : value:&#39;T -&gt; float (requires member op_Explicit)<br /><br />Full name: Microsoft.FSharp.Core.Operators.float<br /><br />--------------------<br />type float = System.Double<br /><br />Full name: Microsoft.FSharp.Core.float<br /><br />--------------------<br />type float&lt;&#39;Measure&gt; = float<br /><br />Full name: Microsoft.FSharp.Core.float&lt;_&gt;</div>
<div class="tip" id="fs66">val d : float []</div>
<div class="tip" id="fs67">property Api&lt;...&gt;.ImageData.data: float []</div>
<div class="tip" id="fs68">val createBackground : unit -&gt; Api&lt;...&gt;.HTMLElement<br /><br />Full name: Program.createBackground</div>
<div class="tip" id="fs69">val canv : Api&lt;...&gt;.HTMLElement</div>
<div class="tip" id="fs70">val background : Api&lt;...&gt;.HTMLCanvasElement</div>
<div class="tip" id="fs71">type HTMLCanvasElement =<br />&#160;&#160;new : unit -&gt; HTMLCanvasElement<br />&#160;&#160;member AsElement : unit -&gt; Element<br />&#160;&#160;member AsElementCSSInlineStyle : unit -&gt; ElementCSSInlineStyle<br />&#160;&#160;member AsElementTraversal : unit -&gt; ElementTraversal<br />&#160;&#160;member AsEventTarget : unit -&gt; EventTarget<br />&#160;&#160;member AsHTMLElement : unit -&gt; HTMLElement<br />&#160;&#160;member AsMSElementCSSInlineStyleExtensions : unit -&gt; MSElementCSSInlineStyleExtensions<br />&#160;&#160;member AsMSElementExtensions : unit -&gt; MSElementExtensions<br />&#160;&#160;member AsMSEventAttachmentTarget : unit -&gt; MSEventAttachmentTarget<br />&#160;&#160;member AsMSHTMLElementExtensions : unit -&gt; MSHTMLElementExtensions<br />&#160;&#160;...<br /><br />Full name: FunScript.TypeScript.Api,files=&quot;../Typings/lib.d.ts&quot;.HTMLCanvasElement</div>
<div class="tip" id="fs72">property Api&lt;...&gt;.HTMLCanvasElement.width: float</div>
<div class="tip" id="fs73">property Api&lt;...&gt;.HTMLCanvasElement.height: float</div>
<div class="tip" id="fs74">Api&lt;...&gt;.HTMLCanvasElement.getContext(contextId: string) : Api&lt;...&gt;.CanvasRenderingContext2D</div>
<div class="tip" id="fs75">property Api&lt;...&gt;.CanvasRenderingContext2D.fillStyle: obj</div>
<div class="tip" id="fs76">Api&lt;...&gt;.CanvasRenderingContext2D.fillRect(x: float, y: float, w: float, h: float) : Unit</div>
<div class="tip" id="fs77">val blue : Api&lt;...&gt;.ImageData</div>
<div class="tip" id="fs78">val yellow : Api&lt;...&gt;.ImageData</div>
<div class="tip" id="fs79">val lines : string []</div>
<div class="tip" id="fs80">property System.Array.Length: int</div>
<div class="tip" id="fs81">val line : string</div>
<div class="tip" id="fs82">property System.String.Length: int</div>
<div class="tip" id="fs83">val tile : int []</div>
<div class="tip" id="fs84">val color : char</div>
<div class="tip" id="fs85">val brush : Api&lt;...&gt;.ImageData</div>
<div class="tip" id="fs86">val f : (int * int -&gt; Unit)</div>
<div class="tip" id="fs87">val x&#39; : int</div>
<div class="tip" id="fs88">val y&#39; : int</div>
<div class="tip" id="fs89">Api&lt;...&gt;.CanvasRenderingContext2D.putImageData(imagedata: Api&lt;...&gt;.ImageData, dx: float, dy: float) : Unit<br />Api&lt;...&gt;.CanvasRenderingContext2D.putImageData(imagedata: Api&lt;...&gt;.ImageData, dx: float, dy: float, dirtyX: float) : Unit<br />Api&lt;...&gt;.CanvasRenderingContext2D.putImageData(imagedata: Api&lt;...&gt;.ImageData, dx: float, dy: float, dirtyX: float, dirtyY: float) : Unit<br />Api&lt;...&gt;.CanvasRenderingContext2D.putImageData(imagedata: Api&lt;...&gt;.ImageData, dx: float, dy: float, dirtyX: float, dirtyY: float, dirtyWidth: float) : Unit<br />Api&lt;...&gt;.CanvasRenderingContext2D.putImageData(imagedata: Api&lt;...&gt;.ImageData, dx: float, dy: float, dirtyX: float, dirtyY: float, dirtyWidth: float, dirtyHeight: float) : Unit</div>
<div class="tip" id="fs90">val countDots : unit -&gt; int<br /><br />Full name: Program.countDots</div>
<div class="tip" id="fs91">val sumBy : projection:(&#39;T -&gt; &#39;U) -&gt; array:&#39;T [] -&gt; &#39;U (requires member ( + ) and member get_Zero)<br /><br />Full name: Microsoft.FSharp.Collections.Array.sumBy</div>
<div class="tip" id="fs92">System.String.ToCharArray() : char []<br />System.String.ToCharArray(startIndex: int, length: int) : char []</div>
<div class="tip" id="fs93">val clearCell : background:&#39;a -&gt; x:int * y:int -&gt; Unit<br /><br />Full name: Program.clearCell</div>
<div class="tip" id="fs94">val background : &#39;a</div>
<div class="tip" id="fs95">val wrap : x:int * y:int -&gt; dx:int * dy:int -&gt; int * int<br /><br />Full name: Program.wrap</div>
<div class="tip" id="fs96">val dx : int</div>
<div class="tip" id="fs97">val dy : int</div>
<div class="tip" id="fs98">Multiple items<br />type Ghost =<br />&#160;&#160;new : image:HTMLElement * x:int * y:int * v:(int * int) -&gt; Ghost<br />&#160;&#160;member Move : v:(int * int) -&gt; unit<br />&#160;&#160;member Reset : unit -&gt; unit<br />&#160;&#160;member Image : HTMLElement<br />&#160;&#160;member IsReturning : bool<br />&#160;&#160;member V : int * int<br />&#160;&#160;member X : int<br />&#160;&#160;member Y : int<br />&#160;&#160;member IsReturning : bool with set<br /><br />Full name: Program.Ghost<br /><br />--------------------<br />new : image:Api&lt;...&gt;.HTMLElement * x:int * y:int * v:(int * int) -&gt; Ghost</div>
<div class="tip" id="fs99">val image : Api&lt;...&gt;.HTMLElement</div>
<div class="tip" id="fs100">val v : int * int</div>
<div class="tip" id="fs101">val mutable x&#39; : int</div>
<div class="tip" id="fs102">val mutable y&#39; : int</div>
<div class="tip" id="fs103">val mutable v&#39; : int * int</div>
<div class="tip" id="fs104">val set : elements:seq&lt;&#39;T&gt; -&gt; Set&lt;&#39;T&gt; (requires comparison)<br /><br />Full name: Microsoft.FSharp.Core.ExtraTopLevelOperators.set</div>
<div class="tip" id="fs105">member Ghost.X : int<br /><br />Full name: Program.Ghost.X</div>
<div class="tip" id="fs106">val __ : Ghost</div>
<div class="tip" id="fs107">member Ghost.Y : int<br /><br />Full name: Program.Ghost.Y</div>
<div class="tip" id="fs108">member Ghost.V : int * int<br /><br />Full name: Program.Ghost.V</div>
<div class="tip" id="fs109">val ghost : Ghost</div>
<div class="tip" id="fs110">member Ghost.Reset : unit -&gt; unit<br /><br />Full name: Program.Ghost.Reset</div>
<div class="tip" id="fs111">member Ghost.Move : v:(int * int) -&gt; unit<br /><br />Full name: Program.Ghost.Move</div>
<div class="tip" id="fs112">val createGhosts : context:&#39;a -&gt; Ghost []<br /><br />Full name: Program.createGhosts</div>
<div class="tip" id="fs113">val context : &#39;a</div>
<div class="tip" id="fs114">val redd : string<br /><br />Full name: Program.redd</div>
<div class="tip" id="fs115">val cyand : string<br /><br />Full name: Program.cyand</div>
<div class="tip" id="fs116">val pinkd : string<br /><br />Full name: Program.pinkd</div>
<div class="tip" id="fs117">val oranged : string<br /><br />Full name: Program.oranged</div>
<div class="tip" id="fs118">val map : mapping:(&#39;T -&gt; &#39;U) -&gt; array:&#39;T [] -&gt; &#39;U []<br /><br />Full name: Microsoft.FSharp.Collections.Array.map</div>
<div class="tip" id="fs119">val flood : canFill:(int * int -&gt; bool) -&gt; fill:(int * int * int -&gt; unit) -&gt; x:int * y:int -&gt; unit<br /><br />Full name: Program.flood</div>
<div class="tip" id="fs120">val canFill : (int * int -&gt; bool)</div>
<div class="tip" id="fs121">val fill : (int * int * int -&gt; unit)</div>
<div class="tip" id="fs122">val f : (int -&gt; (int * int) list -&gt; unit)</div>
<div class="tip" id="fs123">val ps : (int * int) list</div>
<div class="tip" id="fs124">Multiple items<br />module List<br /><br />from Microsoft.FSharp.Collections<br /><br />--------------------<br />type List&lt;&#39;T&gt; =<br />&#160;&#160;| ( [] )<br />&#160;&#160;| ( :: ) of &#39;T * &#39;T list<br />&#160;&#160;interface IEnumerable<br />&#160;&#160;interface IEnumerable&lt;&#39;T&gt;<br />&#160;&#160;member Head : &#39;T<br />&#160;&#160;member IsEmpty : bool<br />&#160;&#160;member Item : index:int -&gt; &#39;T with get<br />&#160;&#160;member Length : int<br />&#160;&#160;member Tail : &#39;T list<br />&#160;&#160;static member Cons : head:&#39;T * tail:&#39;T list -&gt; &#39;T list<br />&#160;&#160;static member Empty : &#39;T list<br /><br />Full name: Microsoft.FSharp.Collections.List&lt;_&gt;</div>
<div class="tip" id="fs125">val filter : predicate:(&#39;T -&gt; bool) -&gt; list:&#39;T list -&gt; &#39;T list<br /><br />Full name: Microsoft.FSharp.Collections.List.filter</div>
<div class="tip" id="fs126">val iter : action:(&#39;T -&gt; unit) -&gt; list:&#39;T list -&gt; unit<br /><br />Full name: Microsoft.FSharp.Collections.List.iter</div>
<div class="tip" id="fs127">val collect : mapping:(&#39;T -&gt; &#39;U list) -&gt; list:&#39;T list -&gt; &#39;U list<br /><br />Full name: Microsoft.FSharp.Collections.List.collect</div>
<div class="tip" id="fs128">val route_home : int [] []<br /><br />Full name: Program.route_home</div>
<div class="tip" id="fs129">val numbers : int [] []</div>
<div class="tip" id="fs130">val fillValue : x:int * y:int -&gt; ex:int * ey:int -&gt; int<br /><br />Full name: Program.fillValue</div>
<div class="tip" id="fs131">Multiple items<br />property Api&lt;...&gt;.Math: Api&lt;...&gt;.Math<br /><br />--------------------<br />type Math =<br />&#160;&#160;new : unit -&gt; Math<br />&#160;&#160;member E : float with get, set<br />&#160;&#160;member LN10 : float with get, set<br />&#160;&#160;member LN2 : float with get, set<br />&#160;&#160;member LOG10E : float with get, set<br />&#160;&#160;member LOG2E : float with get, set<br />&#160;&#160;member PI : float with get, set<br />&#160;&#160;member SQRT1_2 : float with get, set<br />&#160;&#160;member SQRT2 : float with get, set<br />&#160;&#160;member abs : x: float -&gt; float<br />&#160;&#160;...<br /><br />Full name: FunScript.TypeScript.Api,files=&quot;../Typings/lib.d.ts&quot;.Math</div>
<div class="tip" id="fs132">Api&lt;...&gt;.Math.floor(x: float) : float</div>
<div class="tip" id="fs133">val fillUp : x:int * y:int -&gt; int<br /><br />Full name: Program.fillUp</div>
<div class="tip" id="fs134">val fillDown : x:int * y:int -&gt; int<br /><br />Full name: Program.fillDown</div>
<div class="tip" id="fs135">val fillLeft : x:int * y:int -&gt; int<br /><br />Full name: Program.fillLeft</div>
<div class="tip" id="fs136">val fillRight : x:int * y:int -&gt; int<br /><br />Full name: Program.fillRight</div>
<div class="tip" id="fs137">val chooseDirection : ghost:Ghost -&gt; int * int<br /><br />Full name: Program.chooseDirection</div>
<div class="tip" id="fs138">property Ghost.X: int</div>
<div class="tip" id="fs139">property Ghost.Y: int</div>
<div class="tip" id="fs140">property Ghost.V: int * int</div>
<div class="tip" id="fs141">val isBackwards : (int * int -&gt; bool)</div>
<div class="tip" id="fs142">val directions : ((int * int) * int) []</div>
<div class="tip" id="fs143">property Ghost.IsReturning: bool</div>
<div class="tip" id="fs144">val sortBy : projection:(&#39;T -&gt; &#39;Key) -&gt; array:&#39;T [] -&gt; &#39;T [] (requires comparison)<br /><br />Full name: Microsoft.FSharp.Collections.Array.sortBy</div>
<div class="tip" id="fs145">val snd : tuple:(&#39;T1 * &#39;T2) -&gt; &#39;T2<br /><br />Full name: Microsoft.FSharp.Core.Operators.snd</div>
<div class="tip" id="fs146">val xs : ((int * int) * int) []</div>
<div class="tip" id="fs147">val fst : tuple:(&#39;T1 * &#39;T2) -&gt; &#39;T1<br /><br />Full name: Microsoft.FSharp.Core.Operators.fst</div>
<div class="tip" id="fs148">val filter : predicate:(&#39;T -&gt; bool) -&gt; array:&#39;T [] -&gt; &#39;T []<br /><br />Full name: Microsoft.FSharp.Collections.Array.filter</div>
<div class="tip" id="fs149">val xs : (int * int) []</div>
<div class="tip" id="fs150">val i : float</div>
<div class="tip" id="fs151">Api&lt;...&gt;.Math.random() : float</div>
<div class="tip" id="fs152">Multiple items<br />type Keys =<br />&#160;&#160;new : unit -&gt; Keys<br />&#160;&#160;member IsPressed : keyCode:int -&gt; bool<br />&#160;&#160;member Reset : unit -&gt; unit<br />&#160;&#160;member Update : e:&#39;a * pressed:bool -&gt; unit<br /><br />Full name: Program.Keys<br /><br />--------------------<br />new : unit -&gt; Keys</div>
<div class="tip" id="fs153">val mutable keysPressed : Set&lt;int&gt;</div>
<div class="tip" id="fs154">Multiple items<br />module Set<br /><br />from Microsoft.FSharp.Collections<br /><br />--------------------<br />type Set&lt;&#39;T (requires comparison)&gt; =<br />&#160;&#160;interface IComparable<br />&#160;&#160;interface IEnumerable<br />&#160;&#160;interface IEnumerable&lt;&#39;T&gt;<br />&#160;&#160;interface ICollection&lt;&#39;T&gt;<br />&#160;&#160;new : elements:seq&lt;&#39;T&gt; -&gt; Set&lt;&#39;T&gt;<br />&#160;&#160;member Add : value:&#39;T -&gt; Set&lt;&#39;T&gt;<br />&#160;&#160;member Contains : value:&#39;T -&gt; bool<br />&#160;&#160;override Equals : obj -&gt; bool<br />&#160;&#160;member IsProperSubsetOf : otherSet:Set&lt;&#39;T&gt; -&gt; bool<br />&#160;&#160;member IsProperSupersetOf : otherSet:Set&lt;&#39;T&gt; -&gt; bool<br />&#160;&#160;...<br /><br />Full name: Microsoft.FSharp.Collections.Set&lt;_&gt;<br /><br />--------------------<br />new : elements:seq&lt;&#39;T&gt; -&gt; Set&lt;&#39;T&gt;</div>
<div class="tip" id="fs155">val empty&lt;&#39;T (requires comparison)&gt; : Set&lt;&#39;T&gt; (requires comparison)<br /><br />Full name: Microsoft.FSharp.Collections.Set.empty</div>
<div class="tip" id="fs156">val keys : Keys</div>
<div class="tip" id="fs157">member Keys.Reset : unit -&gt; unit<br /><br />Full name: Program.Keys.Reset</div>
<div class="tip" id="fs158">member Keys.IsPressed : keyCode:int -&gt; bool<br /><br />Full name: Program.Keys.IsPressed</div>
<div class="tip" id="fs159">val keyCode : int</div>
<div class="tip" id="fs160">val contains : element:&#39;T -&gt; set:Set&lt;&#39;T&gt; -&gt; bool (requires comparison)<br /><br />Full name: Microsoft.FSharp.Collections.Set.contains</div>
<div class="tip" id="fs161">member Keys.Update : e:&#39;a * pressed:bool -&gt; unit<br /><br />Full name: Program.Keys.Update</div>
<div class="tip" id="fs162">val e : &#39;a</div>
<div class="tip" id="fs163">val pressed : bool</div>
<div class="tip" id="fs164">val e : Api&lt;...&gt;.KeyboardEventExtensions</div>
<div class="tip" id="fs165">type KeyboardEventExtensions =<br />&#160;&#160;new : unit -&gt; KeyboardEventExtensions<br />&#160;&#160;member charCode : float with get, set<br />&#160;&#160;member keyCode : float with get, set<br />&#160;&#160;member which : float with get, set<br /><br />Full name: FunScript.TypeScript.Api,files=&quot;../Typings/lib.d.ts&quot;.KeyboardEventExtensions</div>
<div class="tip" id="fs166">property Api&lt;...&gt;.KeyboardEventExtensions.keyCode: float</div>
<div class="tip" id="fs167">val op : (int -&gt; Set&lt;int&gt; -&gt; Set&lt;int&gt;)</div>
<div class="tip" id="fs168">val add : value:&#39;T -&gt; set:Set&lt;&#39;T&gt; -&gt; Set&lt;&#39;T&gt; (requires comparison)<br /><br />Full name: Microsoft.FSharp.Collections.Set.add</div>
<div class="tip" id="fs169">val remove : value:&#39;T -&gt; set:Set&lt;&#39;T&gt; -&gt; Set&lt;&#39;T&gt; (requires comparison)<br /><br />Full name: Microsoft.FSharp.Collections.Set.remove</div>
<div class="tip" id="fs170">Multiple items<br />type Pacman =<br />&#160;&#160;new : unit -&gt; Pacman<br />&#160;&#160;member ImageAt : x:int ref * y:int ref * v:(int * int) ref -&gt; HTMLElement<br /><br />Full name: Program.Pacman<br /><br />--------------------<br />new : unit -&gt; Pacman</div>
<div class="tip" id="fs171">val pu1 : Api&lt;...&gt;.HTMLElement</div>
<div class="tip" id="fs172">val pu2 : Api&lt;...&gt;.HTMLElement</div>
<div class="tip" id="fs173">val pu1 : string<br /><br />Full name: Program.pu1</div>
<div class="tip" id="fs174">val pd1 : Api&lt;...&gt;.HTMLElement</div>
<div class="tip" id="fs175">val pd2 : Api&lt;...&gt;.HTMLElement</div>
<div class="tip" id="fs176">val pd1 : string<br /><br />Full name: Program.pd1</div>
<div class="tip" id="fs177">val pl1 : Api&lt;...&gt;.HTMLElement</div>
<div class="tip" id="fs178">val pl2 : Api&lt;...&gt;.HTMLElement</div>
<div class="tip" id="fs179">val pl1 : string<br /><br />Full name: Program.pl1</div>
<div class="tip" id="fs180">val pr1 : Api&lt;...&gt;.HTMLElement</div>
<div class="tip" id="fs181">val pr2 : Api&lt;...&gt;.HTMLElement</div>
<div class="tip" id="fs182">val pr1 : string<br /><br />Full name: Program.pr1</div>
<div class="tip" id="fs183">val lastp : Api&lt;...&gt;.HTMLElement ref</div>
<div class="tip" id="fs184">Multiple items<br />val ref : value:&#39;T -&gt; &#39;T ref<br /><br />Full name: Microsoft.FSharp.Core.Operators.ref<br /><br />--------------------<br />type &#39;T ref = Ref&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Core.ref&lt;_&gt;</div>
<div class="tip" id="fs185">member Pacman.ImageAt : x:int ref * y:int ref * v:(int * int) ref -&gt; Api&lt;...&gt;.HTMLElement<br /><br />Full name: Program.Pacman.ImageAt</div>
<div class="tip" id="fs186">val x : int ref</div>
<div class="tip" id="fs187">val y : int ref</div>
<div class="tip" id="fs188">val v : (int * int) ref</div>
<div class="tip" id="fs189">val p1 : Api&lt;...&gt;.HTMLElement</div>
<div class="tip" id="fs190">val p2 : Api&lt;...&gt;.HTMLElement</div>
<div class="tip" id="fs191">val p : Api&lt;...&gt;.HTMLElement</div>
<div class="tip" id="fs192">Multiple items<br />type JSEmitAttribute =<br />&#160;&#160;inherit Attribute<br />&#160;&#160;new : emit:string -&gt; JSEmitAttribute<br />&#160;&#160;member Emit : string<br /><br />Full name: FunScript.JSEmitAttribute<br /><br />--------------------<br />new : emit:string -&gt; JSEmitAttribute</div>
<div class="tip" id="fs193">val sound : file:string -&gt; unit<br /><br />Full name: Program.sound</div>
<div class="tip" id="fs194">val file : string</div>
<div class="tip" id="fs195">Multiple items<br />val string : value:&#39;T -&gt; string<br /><br />Full name: Microsoft.FSharp.Core.Operators.string<br /><br />--------------------<br />type string = System.String<br /><br />Full name: Microsoft.FSharp.Core.string</div>
<div class="tip" id="fs196">type unit = Unit<br /><br />Full name: Microsoft.FSharp.Core.unit</div>
<div class="tip" id="fs197">val failwith : message:string -&gt; &#39;T<br /><br />Full name: Microsoft.FSharp.Core.Operators.failwith</div>
<div class="tip" id="fs198">val playLevel : keys:Keys * onLevelCompleted:(unit -&gt; unit) * onGameOver:(unit -&gt; unit) -&gt; unit<br /><br />Full name: Program.playLevel</div>
<div class="tip" id="fs199">val onLevelCompleted : (unit -&gt; unit)</div>
<div class="tip" id="fs200">val onGameOver : (unit -&gt; unit)</div>
<div class="tip" id="fs201">val pacman : Pacman</div>
<div class="tip" id="fs202">val pills : char [] []</div>
<div class="tip" id="fs203">Api&lt;...&gt;.Document.getElementById(elementId: string) : Api&lt;...&gt;.HTMLElement</div>
<div class="tip" id="fs204">val canvas : Api&lt;...&gt;.HTMLCanvasElement</div>
<div class="tip" id="fs205">val bonusImages : Api&lt;...&gt;.HTMLElement []</div>
<div class="tip" id="fs206">val _200 : string<br /><br />Full name: Program._200</div>
<div class="tip" id="fs207">val _400 : string<br /><br />Full name: Program._400</div>
<div class="tip" id="fs208">val _800 : string<br /><br />Full name: Program._800</div>
<div class="tip" id="fs209">val _1600 : string<br /><br />Full name: Program._1600</div>
<div class="tip" id="fs210">val background : Api&lt;...&gt;.HTMLElement</div>
<div class="tip" id="fs211">val ghosts : Ghost []</div>
<div class="tip" id="fs212">val blue : Api&lt;...&gt;.HTMLElement</div>
<div class="tip" id="fs213">val eyed : Api&lt;...&gt;.HTMLElement</div>
<div class="tip" id="fs214">val blue : string<br /><br />Full name: Program.blue</div>
<div class="tip" id="fs215">val dotsLeft : int ref</div>
<div class="tip" id="fs216">val score : int ref</div>
<div class="tip" id="fs217">val bonus : int ref</div>
<div class="tip" id="fs218">val bonuses : (int * (Api&lt;...&gt;.HTMLElement * int * int)) list ref</div>
<div class="tip" id="fs219">val energy : int ref</div>
<div class="tip" id="fs220">val flashCountdown : int ref</div>
<div class="tip" id="fs221">val powerCountdown : int ref</div>
<div class="tip" id="fs222">val moveGhosts : (unit -&gt; unit)</div>
<div class="tip" id="fs223">val iter : action:(&#39;T -&gt; unit) -&gt; array:&#39;T [] -&gt; unit<br /><br />Full name: Microsoft.FSharp.Collections.Array.iter</div>
<div class="tip" id="fs224">member Ghost.Move : v:(int * int) -&gt; unit</div>
<div class="tip" id="fs225">val movePacman : (unit -&gt; unit)</div>
<div class="tip" id="fs226">val inputs : (bool * (int * int)) []</div>
<div class="tip" id="fs227">member Keys.IsPressed : keyCode:int -&gt; bool</div>
<div class="tip" id="fs228">val canGoForward : bool</div>
<div class="tip" id="fs229">val availableDirections : (int * int) []</div>
<div class="tip" id="fs230">val v&#39; : int * int</div>
<div class="tip" id="fs231">val eatPills : (unit -&gt; unit)</div>
<div class="tip" id="fs232">val tx : int</div>
<div class="tip" id="fs233">val ty : int</div>
<div class="tip" id="fs234">val decr : cell:int ref -&gt; unit<br /><br />Full name: Microsoft.FSharp.Core.Operators.decr</div>
<div class="tip" id="fs235">val touchingGhosts : (unit -&gt; Ghost [])</div>
<div class="tip" id="fs236">val px : int</div>
<div class="tip" id="fs237">val py : int</div>
<div class="tip" id="fs238">val collisionDetection : (unit -&gt; unit)</div>
<div class="tip" id="fs239">val touched : Ghost []</div>
<div class="tip" id="fs240">val added : int</div>
<div class="tip" id="fs241">Api&lt;...&gt;.Math.pow(x: float, y: float) : float</div>
<div class="tip" id="fs242">val min : e1:&#39;T -&gt; e2:&#39;T -&gt; &#39;T (requires comparison)<br /><br />Full name: Microsoft.FSharp.Core.Operators.min</div>
<div class="tip" id="fs243">val updateBonus : (unit -&gt; unit)</div>
<div class="tip" id="fs244">val removals : (int * (Api&lt;...&gt;.HTMLElement * int * int)) list</div>
<div class="tip" id="fs245">val remainders : (int * (Api&lt;...&gt;.HTMLElement * int * int)) list</div>
<div class="tip" id="fs246">val map : mapping:(&#39;T -&gt; &#39;U) -&gt; list:&#39;T list -&gt; &#39;U list<br /><br />Full name: Microsoft.FSharp.Collections.List.map</div>
<div class="tip" id="fs247">val count : int</div>
<div class="tip" id="fs248">val x : Api&lt;...&gt;.HTMLElement * int * int</div>
<div class="tip" id="fs249">val partition : predicate:(&#39;T -&gt; bool) -&gt; list:&#39;T list -&gt; &#39;T list * &#39;T list<br /><br />Full name: Microsoft.FSharp.Collections.List.partition</div>
<div class="tip" id="fs250">val logic : (unit -&gt; unit)</div>
<div class="tip" id="fs251">val renderPacman : (unit -&gt; unit)</div>
<div class="tip" id="fs252">member Pacman.ImageAt : x:int ref * y:int ref * v:(int * int) ref -&gt; Api&lt;...&gt;.HTMLElement</div>
<div class="tip" id="fs253">Api&lt;...&gt;.CanvasRenderingContext2D.drawImage(image: Api&lt;...&gt;.HTMLElement, offsetX: float, offsetY: float) : Unit<br />Api&lt;...&gt;.CanvasRenderingContext2D.drawImage(image: Api&lt;...&gt;.HTMLElement, offsetX: float, offsetY: float, width: float) : Unit<br />Api&lt;...&gt;.CanvasRenderingContext2D.drawImage(image: Api&lt;...&gt;.HTMLElement, offsetX: float, offsetY: float, width: float, height: float) : Unit<br />Api&lt;...&gt;.CanvasRenderingContext2D.drawImage(image: Api&lt;...&gt;.HTMLElement, offsetX: float, offsetY: float, width: float, height: float, canvasOffsetX: float) : Unit<br />Api&lt;...&gt;.CanvasRenderingContext2D.drawImage(image: Api&lt;...&gt;.HTMLElement, offsetX: float, offsetY: float, width: float, height: float, canvasOffsetX: float, canvasOffsetY: float) : Unit<br />Api&lt;...&gt;.CanvasRenderingContext2D.drawImage(image: Api&lt;...&gt;.HTMLElement, offsetX: float, offsetY: float, width: float, height: float, canvasOffsetX: float, canvasOffsetY: float, canvasImageWidth: float) : Unit<br />Api&lt;...&gt;.CanvasRenderingContext2D.drawImage(image: Api&lt;...&gt;.HTMLElement, offsetX: float, offsetY: float, width: float, height: float, canvasOffsetX: float, canvasOffsetY: float, canvasImageWidth: float, canvasImageHeight: float) : Unit</div>
<div class="tip" id="fs254">val renderEnergy : (unit -&gt; Unit)</div>
<div class="tip" id="fs255">val renderGhosts : (unit -&gt; unit)</div>
<div class="tip" id="fs256">property Ghost.Image: Api&lt;...&gt;.HTMLElement</div>
<div class="tip" id="fs257">val renderScore : (unit -&gt; Unit)</div>
<div class="tip" id="fs258">property Api&lt;...&gt;.CanvasRenderingContext2D.font: string</div>
<div class="tip" id="fs259">Api&lt;...&gt;.CanvasRenderingContext2D.fillText(text: string, x: float, y: float) : Unit<br />Api&lt;...&gt;.CanvasRenderingContext2D.fillText(text: string, x: float, y: float, maxWidth: float) : Unit</div>
<div class="tip" id="fs260">val renderBonus : (unit -&gt; unit)</div>
<div class="tip" id="fs261">val render : (unit -&gt; unit)</div>
<div class="tip" id="fs262">val update : (unit -&gt; unit)</div>
<div class="tip" id="fs263">Api&lt;...&gt;.setTimeout(expression: obj) : float<br />Api&lt;...&gt;.setTimeout(expression: obj, language: obj) : float<br />Api&lt;...&gt;.setTimeout(expression: obj, msec: float) : float<br />Api&lt;...&gt;.setTimeout(expression: obj, msec: float, language: obj) : float</div>
<div class="tip" id="fs264">val ignore : value:&#39;T -&gt; unit<br /><br />Full name: Microsoft.FSharp.Core.Operators.ignore</div>
<div class="tip" id="fs265">val game : keys:Keys -&gt; unit<br /><br />Full name: Program.game</div>
<div class="tip" id="fs266">member Keys.Reset : unit -&gt; unit</div>
<div class="tip" id="fs267">val drawText : (string * float * float -&gt; Unit)</div>
<div class="tip" id="fs268">val text : string</div>
<div class="tip" id="fs269">val x : float</div>
<div class="tip" id="fs270">val y : float</div>
<div class="tip" id="fs271">val levelCompleted : (unit -&gt; unit)</div>
<div class="tip" id="fs272">val gameOver : (unit -&gt; unit)</div>
<div class="tip" id="fs273">val start : (unit -&gt; unit)</div>
<div class="tip" id="fs274">Api&lt;...&gt;.HTMLCanvasElement.AsHTMLElement() : Api&lt;...&gt;.HTMLElement</div>
<div class="tip" id="fs275">val e : Api&lt;...&gt;.MouseEvent</div>
<div class="tip" id="fs276">val box : value:&#39;T -&gt; obj<br /><br />Full name: Microsoft.FSharp.Core.Operators.box</div>
<div class="tip" id="fs277">val main : unit -&gt; unit<br /><br />Full name: Program.main</div>
<div class="tip" id="fs278">val listener : ((obj -&gt; unit) -&gt; Api&lt;...&gt;.EventListener)</div>
<div class="tip" id="fs279">val f : (obj -&gt; unit)</div>
<div class="tip" id="fs280">type obj = System.Object<br /><br />Full name: Microsoft.FSharp.Core.obj</div>
<div class="tip" id="fs281">type EventListener =<br />&#160;&#160;new : unit -&gt; EventListener<br />&#160;&#160;member Invoke : evt: Event -&gt; Unit<br />&#160;&#160;member set_Invoke : replacement: Func&lt;Event,Unit&gt; -&gt; unit<br /><br />Full name: FunScript.TypeScript.Api,files=&quot;../Typings/lib.d.ts&quot;.EventListener</div>
<div class="tip" id="fs282">Api&lt;...&gt;.addEventListener(type: string, listener: Api&lt;...&gt;.EventListener) : Unit<br />Api&lt;...&gt;.addEventListener(type: string, listener: Api&lt;...&gt;.EventListener, useCapture: bool) : Unit</div>
<div class="tip" id="fs283">val e : obj</div>
<div class="tip" id="fs284">member Keys.Update : e:&#39;a * pressed:bool -&gt; unit</div>
<div class="tip" id="fs285">namespace FunScript.Interop</div>
<div class="tip" id="fs286">module Components<br /><br />from FunScript.Interop</div>
<div class="tip" id="fs287">val all : InternalCompiler.CompilerComponent list<br /><br />Full name: FunScript.Interop.Components.all</div>

    </div>
    <div class="large-3 columns">

      <h3>Live demo</h3>
      <p>Click here to open the sample live, running using JavaScript in a dialog window.</p>

      <div style="margin-left:auto;margin-right:auto;text-align:center;">
      <div id="run-button">
			  <a data-reveal-id="sampleDialog" href="#" class="success button">Open sample</a>
  		</div>
      </div>

      <p>To look at the generated JavaScript, view the source of this web page
        and scroll to the end of the file.</p>

      <h3>Tutorials</h3>
      <p>Learn FunScript from the following introductory tutorials</p>
      <ul>
        <li><a href="../tutorial/index.html">Getting started tutorial</a></li>
        <li><a href="../mario/index.html">Mario Game using HTML5</a></li>
        <li><a href="../simpleasync/index.html">Asynchornous computations</a></li>
        <li><a href="../canvas/index.html">Using HTML5 canvas</a></li>
      </ul>

      <h3>Samples</h3>
      <p>Browse other amazing samples created with FunScript</p>
      <ul>
        <li><a href="../pacman/index.html">Pacman using HTML5 Canvas</a></li>
        <li><a href="../worldbank/index.html">Visualizing World Bank data</a></li>
        <li><a href="../moviedatabase/index.html">Calling The Movie Database</a></li>
      </ul>
    </div>
	</div>

  <div class="row"><div class="large-12 columns" id="footer">
    FunScript is open-source project available under Apache 2.0 &#160; | &#160;  <a href="http://fsharp.org">The F# Software Foundation</a>
  </div></div>

  <!-- Fork me on GitHub link -->
  <a href="https://github.com/ZachBray/FunScript"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"></a>
   

  
  <script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-36398955-2', 'funscript.info');
	  ga('send', 'pageview');
  </script>

  <!-- JavaScript code from the sample goes here... -->
  <script type="text/javascript">
    $(document).ready(function () {
var list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__NilTuple_2_Int32__Tuple_3_Object__Int32__Int32_, list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__ConsTuple_2_Int32__Tuple_3_Object__Int32__Int32_, list_1_Tuple_2_Int32__Int32__NilTuple_2_Int32__Int32_, list_1_Tuple_2_Int32__Int32__ConsTuple_2_Int32__Int32_, UnfoldEnumerator_2_Tuple_2_IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32__IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32__Tuple_2_Tuple_2_Int32__Int32__Int32___ctor$Tuple_2_IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32__IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32__Tuple_2_Tuple_2_Int32__Int32__Int32_, UnfoldEnumerator_2_Tuple_2_IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__Tuple_2_Boolean__Tuple_2_Int32__Int32___ctor$Tuple_2_IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__Tuple_2_Boolean__Tuple_2_Int32__Int32_, UnfoldEnumerator_2_Int32__String_____ctor$Int32_String___, UnfoldEnumerator_2_FSharpOption_1_Tuple_2_Tuple_2_Int32__Int32__Int32__Tuple_2_Tuple_2_Int32__Int32__Int32___ctor$FSharpOption_1_Tuple_2_Tuple_2_Int32__Int32__Int32__Tuple_2_Tuple_2_Int32__Int32__Int32_, UnfoldEnumerator_2_FSharpOption_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__Tuple_2_Boolean__Tuple_2_Int32__Int32___ctor$FSharpOption_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__Tuple_2_Boolean__Tuple_2_Int32__Int32_, UnfoldEnumerator_2_Boolean__Tuple_2_Tuple_2_Int32__Int32__Int32___ctor$Boolean_Tuple_2_Tuple_2_Int32__Int32__Int32_, UnfoldEnumerator_2_Boolean__Tuple_2_Boolean__Tuple_2_Int32__Int32___ctor$Boolean_Tuple_2_Boolean__Tuple_2_Int32__Int32_, Tuplelist_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32_, TupleTuple_2_Tuple_2_Int32__Int32__Int32__Tuple_2_IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32__IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32_, TupleTuple_2_Tuple_2_Int32__Int32__Int32__FSharpOption_1_Tuple_2_Tuple_2_Int32__Int32__Int32_, TupleTuple_2_Int32__Int32__Int32, TupleTuple_2_Boolean__Tuple_2_Int32__Int32__Tuple_2_IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32_, TupleTuple_2_Boolean__Tuple_2_Int32__Int32__FSharpOption_1_Tuple_2_Boolean__Tuple_2_Int32__Int32_, TupleString____Int32, TupleString_Tuple_2_Int32__Int32__Tuple_2_Int32__Int32_, TupleString_Double_Double, TupleSetTree_1_Int32__SetTree_1_Int32_, TupleObject__Object_, TupleObject__Int32_Int32, TupleInt32____Char, TupleInt32_Tuple_3_Object__Int32__Int32_, TupleInt32_SetTree_1_Int32_, TupleInt32_Int32_Int32, TupleInt32_Int32, TupleIEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32__IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32_, TupleIEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32_, TupleFSharpRef_1_Int32__FSharpRef_1_Int32_, TupleBoolean_Tuple_2_Int32__Int32_, String__splitSingle$, String__ToCharArray$, String__Split$, String__Length$, String__IndexOf$, String__CharAt$, Set__Remove$Int32_Int32, Set__Empty$Int32_Int32, Set__Contains$Int32_Int32, Set__Add$Int32_Int32, Set_1_Int32__get_Tree$Int32, Set_1_Int32__get_Empty$Int32, Set_1_Int32__get_Comparer$Int32, Set_1_Int32___ctor$Int32, Set_1_Int32__Remove$Int32, Set_1_Int32__Contains$Int32, Set_1_Int32__Add$Int32, SetTree_1_Int32__SetOneInt32, SetTree_1_Int32__SetNodeInt32, SetTree_1_Int32__SetEmptyInt32, SetTreeModule__spliceOutSuccessor$Int32_Int32, SetTreeModule__remove$Int32_Int32, SetTreeModule__rebalance$Int32_Int32, SetTreeModule__mk$Int32_Int32, SetTreeModule__mem$Int32_Int32, SetTreeModule__height$Int32_Int32, SetTreeModule__get_tolerance$, SetTreeModule__add$Int32_Int32, SetTreeModule__SetOne$Int32_Int32, SetTreeModule__SetNode$Int32_Int32, Seq__Unfold$Tuple_2_IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32__IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32__Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32__IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32__Tuple_2_Tuple_2_Int32__Int32__Int32_, Seq__Unfold$Tuple_2_IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__Tuple_2_Boolean__Tuple_2_Int32__Int32_, Seq__Unfold$Int32__String___Int32_String___, Seq__Unfold$FSharpOption_1_Tuple_2_Tuple_2_Int32__Int32__Int32__Tuple_2_Tuple_2_Int32__Int32__Int32_FSharpOption_1_Tuple_2_Tuple_2_Int32__Int32__Int32__Tuple_2_Tuple_2_Int32__Int32__Int32_, Seq__Unfold$FSharpOption_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__Tuple_2_Boolean__Tuple_2_Int32__Int32_FSharpOption_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__Tuple_2_Boolean__Tuple_2_Int32__Int32_, Seq__Unfold$Boolean__Tuple_2_Tuple_2_Int32__Int32__Int32_Boolean_Tuple_2_Tuple_2_Int32__Int32__Int32_, Seq__Unfold$Boolean__Tuple_2_Boolean__Tuple_2_Int32__Int32_Boolean_Tuple_2_Boolean__Tuple_2_Int32__Int32_, Seq__ToArray$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_, Seq__ToArray$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_, Seq__ToArray$String___String___, Seq__Singleton$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_, Seq__Singleton$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_, Seq__OfArray$String___String___, Seq__IterateIndexed$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_, Seq__IterateIndexed$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_, Seq__IterateIndexed$String___String___, Seq__FromFactory$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_, Seq__FromFactory$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_, Seq__FromFactory$String___String___, Seq__FoldIndexedAux$Unit__Tuple_2_Tuple_2_Int32__Int32__Int32_Unit__Tuple_2_Tuple_2_Int32__Int32__Int32_, Seq__FoldIndexedAux$Unit__Tuple_2_Boolean__Tuple_2_Int32__Int32_Unit__Tuple_2_Boolean__Tuple_2_Int32__Int32_, Seq__FoldIndexedAux$Unit__String___Unit__String___, Seq__FoldIndexed$Tuple_2_Tuple_2_Int32__Int32__Int32__Unit_Tuple_2_Tuple_2_Int32__Int32__Int32__Unit_, Seq__FoldIndexed$Tuple_2_Boolean__Tuple_2_Int32__Int32__Unit_Tuple_2_Boolean__Tuple_2_Int32__Int32__Unit_, Seq__FoldIndexed$String____Unit_String____Unit_, Seq__Enumerator$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_, Seq__Enumerator$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_, Seq__Enumerator$String___String___, Seq__Empty$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_, Seq__Empty$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_, Seq__Delay$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_, Seq__Delay$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_, Seq__Append$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_, Seq__Append$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_, Program__wrap$, Program__tileBits, Program__sound$, Program__playLevel$, Program__maze, Program__main$, Program__get_tileBits$, Program__get_redd$, Program__get_pu2$, Program__get_pu1$, Program__get_pr2$, Program__get_pr1$, Program__get_pl2$, Program__get_pl1$, Program__get_pinkd$, Program__get_pd2$, Program__get_pd1$, Program__get_oranged$, Program__get_maze$, Program__get_eyed$, Program__get_cyand$, Program__get_blue$, Program__get_blank$, Program__get__800$, Program__get__400$, Program__get__200$, Program__get__1600$, Program__game$, Program__createImage$, Program__createGhosts$Object_Object_, Program__blank, Pacman___ctor$, Pacman__ImageAt$, Option__IsSome$Tuple_2_IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32__IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32__IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32_, Option__IsSome$Tuple_2_IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32_, Option__IsSome$Int32_Int32, Option__IsSome$FSharpOption_1_Tuple_2_Tuple_2_Int32__Int32__Int32_FSharpOption_1_Tuple_2_Tuple_2_Int32__Int32__Int32_, Option__IsSome$FSharpOption_1_Tuple_2_Boolean__Tuple_2_Int32__Int32_FSharpOption_1_Tuple_2_Boolean__Tuple_2_Int32__Int32_, Option__IsSome$Boolean_Boolean, Maze__tileAt$, Maze__noWall$, Maze__isWallAt$, Maze__isWall$, Maze__isAligned$, Maze__canGoUp$, Maze__canGoRight$, Maze__canGoLeft$, Maze__canGoDown$, List__Reverse$Tuple_2_Int32__Tuple_3_Object__Int32__Int32_Tuple_2_Int32__Tuple_3_Object__Int32__Int32_, List__Reverse$Tuple_2_Int32__Int32_Tuple_2_Int32__Int32_, List__Partition$Tuple_2_Int32__Tuple_3_Object__Int32__Int32_Tuple_2_Int32__Tuple_3_Object__Int32__Int32_, List__Map$Tuple_2_Int32__Tuple_3_Object__Int32__Int32__Tuple_2_Int32__Tuple_3_Object__Int32__Int32_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__Tuple_2_Int32__Tuple_3_Object__Int32__Int32_, List__Iterate$Tuple_2_Int32__Tuple_3_Object__Int32__Int32_Tuple_2_Int32__Tuple_3_Object__Int32__Int32_, List__Iterate$Tuple_2_Int32__Int32_Tuple_2_Int32__Int32_, List__FoldIndexedAux$list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__Tuple_2_Int32__Tuple_3_Object__Int32__Int32_list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__Tuple_2_Int32__Tuple_3_Object__Int32__Int32_, List__FoldIndexedAux$list_1_Tuple_2_Int32__Int32__Tuple_2_Int32__Int32_list_1_Tuple_2_Int32__Int32__Tuple_2_Int32__Int32_, List__FoldIndexedAux$Unit__Tuple_2_Int32__Tuple_3_Object__Int32__Int32_Unit__Tuple_2_Int32__Tuple_3_Object__Int32__Int32_, List__FoldIndexedAux$Unit__Tuple_2_Int32__Int32_Unit__Tuple_2_Int32__Int32_, List__FoldIndexedAux$Tuple_2_list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__Tuple_2_Int32__Tuple_3_Object__Int32__Int32_Tuple_2_list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__Tuple_2_Int32__Tuple_3_Object__Int32__Int32_, List__FoldIndexed$Tuple_2_Int32__Tuple_3_Object__Int32__Int32__list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32_, List__FoldIndexed$Tuple_2_Int32__Tuple_3_Object__Int32__Int32__Unit_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__Unit_, List__FoldIndexed$Tuple_2_Int32__Tuple_3_Object__Int32__Int32__Tuple_2_list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__Tuple_2_list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32_, List__FoldIndexed$Tuple_2_Int32__Int32__list_1_Tuple_2_Int32__Int32_Tuple_2_Int32__Int32__list_1_Tuple_2_Int32__Int32_, List__FoldIndexed$Tuple_2_Int32__Int32__Unit_Tuple_2_Int32__Int32__Unit_, List__Fold$Tuple_2_Int32__Tuple_3_Object__Int32__Int32__list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32_, List__Fold$Tuple_2_Int32__Tuple_3_Object__Int32__Int32__Unit_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__Unit_, List__Fold$Tuple_2_Int32__Tuple_3_Object__Int32__Int32__Tuple_2_list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__Tuple_2_list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32_, List__Fold$Tuple_2_Int32__Int32__list_1_Tuple_2_Int32__Int32_Tuple_2_Int32__Int32__list_1_Tuple_2_Int32__Int32_, List__Fold$Tuple_2_Int32__Int32__Unit_Tuple_2_Int32__Int32__Unit_, List__Filter$Tuple_2_Int32__Int32_Tuple_2_Int32__Int32_, List__Empty$Tuple_2_Int32__Tuple_3_Object__Int32__Int32_Tuple_2_Int32__Tuple_3_Object__Int32__Int32_, List__Empty$Tuple_2_Int32__Int32_Tuple_2_Int32__Int32_, List__CreateCons$Tuple_2_Int32__Tuple_3_Object__Int32__Int32_Tuple_2_Int32__Tuple_3_Object__Int32__Int32_, List__CreateCons$Tuple_2_Int32__Int32_Tuple_2_Int32__Int32_, List__Collect$Tuple_2_Int32__Int32__Tuple_2_Int32__Int32_Tuple_2_Int32__Int32__Tuple_2_Int32__Int32_, List__Append$Tuple_2_Int32__Int32_Tuple_2_Int32__Int32_, Keys___ctor$, Keys__Update$Object_Object_, Keys__Reset$, Keys__IsPressed$, Ghost__set_IsReturning$, Ghost__get_Y$, Ghost__get_X$, Ghost__get_V$, Ghost__get_IsReturning$, Ghost__get_Image$, Ghost___ctor$, Ghost__Move$, GhostMovement__route_home, GhostMovement__get_route_home$, GhostMovement__flood$, GhostMovement__fillValue$, GhostMovement__fillUp$, GhostMovement__fillRight$, GhostMovement__fillLeft$, GhostMovement__fillDown$, GhostMovement__chooseDirection$, GenericConstants__Zero$Int32_Int32, GenericComparer_1_Int32___ctor$Int32, CreateEnumerable_1_Tuple_2_Tuple_2_Int32__Int32__Int32___ctor$Tuple_2_Tuple_2_Int32__Int32__Int32_, CreateEnumerable_1_Tuple_2_Boolean__Tuple_2_Int32__Int32___ctor$Tuple_2_Boolean__Tuple_2_Int32__Int32_, CreateEnumerable_1_String_____ctor$String___, Background__toTile$, Background__get_tileColors$, Background__get_tileChars$, Background__draw$, Background__createBrush$, Background__createBackground$, Background__countDots$, Background__clearCell$Object_Object_, Array__ZeroCreate$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_, Array__ZeroCreate$Tuple_2_Int32__Int32_Tuple_2_Int32__Int32_, Array__ZeroCreate$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_, Array__ZeroCreate$String___String___, Array__ZeroCreate$Int32___Int32___, Array__ZeroCreate$Int32_Int32, Array__ZeroCreate$Ghost_Ghost_, Array__ZeroCreate$Char___Char___, Array__ZeroCreate$Char_Char, Array__SumBy$String_1_Int32_String_Int32, Array__SumBy$Char__Int32_Char_Int32, Array__SortInPlaceWith$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_, Array__SortInPlaceWith$Tuple_2_Int32__Int32_Tuple_2_Int32__Int32_, Array__SortInPlaceBy$Tuple_2_Tuple_2_Int32__Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32__Int32, Array__SortInPlaceBy$Tuple_2_Int32__Int32__Boolean_Tuple_2_Int32__Int32__Boolean, Array__SortBy$Tuple_2_Tuple_2_Int32__Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32__Int32, Array__SortBy$Tuple_2_Int32__Int32__Boolean_Tuple_2_Int32__Int32__Boolean, Array__MapIndexed$Tuple_3_String__Tuple_2_Int32__Int32__Tuple_2_Int32__Int32__Ghost_Tuple_3_String__Tuple_2_Int32__Int32__Tuple_2_Int32__Int32__Ghost_, Array__MapIndexed$Tuple_2_Tuple_2_Int32__Int32__Int32__Tuple_2_Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32__Tuple_2_Int32__Int32_, Array__MapIndexed$Tuple_2_Boolean__Tuple_2_Int32__Int32__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32__Tuple_2_Int32__Int32_, Array__MapIndexed$String_1_String___String_String___, Array__MapIndexed$String_1_Int32___String_Int32___, Array__MapIndexed$String_1_Char___String_Char___, Array__MapIndexed$Char__Int32_Char_Int32, Array__MapIndexed$Char__Char_Char_Char, Array__Map$Tuple_3_String__Tuple_2_Int32__Int32__Tuple_2_Int32__Int32__Ghost_Tuple_3_String__Tuple_2_Int32__Int32__Tuple_2_Int32__Int32__Ghost_, Array__Map$Tuple_2_Tuple_2_Int32__Int32__Int32__Tuple_2_Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32__Tuple_2_Int32__Int32_, Array__Map$Tuple_2_Boolean__Tuple_2_Int32__Int32__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32__Tuple_2_Int32__Int32_, Array__Map$String_1_String___String_String___, Array__Map$String_1_Int32___String_Int32___, Array__Map$String_1_Char___String_Char___, Array__Map$Char__Int32_Char_Int32, Array__Map$Char__Char_Char_Char, Array__Length$Tuple_3_String__Tuple_2_Int32__Int32__Tuple_2_Int32__Int32_Tuple_3_String__Tuple_2_Int32__Int32__Tuple_2_Int32__Int32_, Array__Length$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_, Array__Length$Tuple_2_Int32__Int32_Tuple_2_Int32__Int32_, Array__Length$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_, Array__Length$String_1String, Array__Length$Int32_Int32, Array__Length$Ghost_Ghost_, Array__Length$Char_Char, Array__IterateIndexed$Int32_Int32, Array__Iterate$Ghost_Ghost_, Array__FoldIndexed$Unit__Int32_Unit__Int32, Array__FoldIndexed$Unit__Ghost_Unit__Ghost_, Array__FoldIndexed$String____String_1String____String, Array__FoldIndexed$Int32__String_1Int32_String, Array__FoldIndexed$Int32__Char_Int32_Char, Array__Fold$String_1_String___String_String___, Array__Fold$String_1_Int32_String_Int32, Array__Fold$Ghost__Unit_Ghost__Unit_, Array__Fold$Char__Int32_Char_Int32, Array__Filter$Tuple_2_Int32__Int32_Tuple_2_Int32__Int32_, Array__Filter$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_, Array__Filter$Ghost_Ghost_, Array__Copy$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_, Array__Copy$Tuple_2_Int32__Int32_Tuple_2_Int32__Int32_, Array__ConcatImpl$String_1String, Array__Concat$String_1String, Array__BoxedLength$;
  Array__BoxedLength$ = (function (xs)
  {
    return xs.length;
  });
  Array__Concat$String_1String = (function (xs)
  {
    var _585;
    _585 = (function (xss)
    {
      var _586;
      _586 = xss;
      return Array__ConcatImpl$String_1String(_586);
    });
    var _587;
    var _588;
    _588 = (function (source)
    {
      var _589;
      var _590;
      _590 = source;
      _589 = _590;
      return Seq__ToArray$String___String___(_589);
    });
    var _629;
    _629 = xs;
    _587 = _588(_629);
    return _585(_587);
  });
  Array__ConcatImpl$String_1String = (function (xss)
  {
    return [].concat.apply([], xss);
  });
  Array__Copy$Tuple_2_Int32__Int32_Tuple_2_Int32__Int32_ = (function (xs)
  {
    return xs.slice(0);
  });
  Array__Copy$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_ = (function (xs)
  {
    return xs.slice(0);
  });
  Array__Filter$Ghost_Ghost_ = (function (f, xs)
  {
    var _3134;
    var _3135;
    _3135 = 0;
    _3134 = Array__ZeroCreate$Ghost_Ghost_(_3135);
    var ys = _3134;
    var _3136;
    _3136 = 0;
    var j = _3136;
    var _3137;
    _3137 = 0;
    var _3138;
    var _3139;
    var _3140;
    _3140 = xs;
    _3139 = Array__Length$Ghost_Ghost_(_3140);
    var _3141;
    _3141 = 1;
    _3138 = (_3139 - _3141);
    for (var i = _3137; i <= _3138; i++)
    {
      var _3142;
      var _3143;
      _3143 = f;
      var _3144;
      var _3145;
      _3145 = xs;
      var _3146;
      _3146 = i;
      _3144 = _3145[_3146];
      _3142 = _3143(_3144);
      if (_3142) 
      {
        var _3147;
        _3147 = ys;
        var _3148;
        _3148 = j;
        var _3149;
        var _3150;
        _3150 = xs;
        var _3151;
        _3151 = i;
        _3149 = _3150[_3151];
        _3147[_3148] = _3149;
        null;
        var _3152;
        var _3153;
        _3153 = j;
        var _3154;
        _3154 = 1;
        _3152 = (_3153 + _3154);
        j = _3152;
        null;
      }
      else
      {
        ;
      };
    };
    return ys;
  });
  Array__Filter$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_ = (function (f, xs)
  {
    var _2865;
    var _2866;
    _2866 = 0;
    _2865 = Array__ZeroCreate$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_(_2866);
    var ys = _2865;
    var _2867;
    _2867 = 0;
    var j = _2867;
    var _2868;
    _2868 = 0;
    var _2869;
    var _2870;
    var _2871;
    _2871 = xs;
    _2870 = Array__Length$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_(_2871);
    var _2872;
    _2872 = 1;
    _2869 = (_2870 - _2872);
    for (var i = _2868; i <= _2869; i++)
    {
      var _2873;
      var _2874;
      _2874 = f;
      var _2875;
      var _2876;
      _2876 = xs;
      var _2877;
      _2877 = i;
      _2875 = _2876[_2877];
      _2873 = _2874(_2875);
      if (_2873) 
      {
        var _2878;
        _2878 = ys;
        var _2879;
        _2879 = j;
        var _2880;
        var _2881;
        _2881 = xs;
        var _2882;
        _2882 = i;
        _2880 = _2881[_2882];
        _2878[_2879] = _2880;
        null;
        var _2883;
        var _2884;
        _2884 = j;
        var _2885;
        _2885 = 1;
        _2883 = (_2884 + _2885);
        j = _2883;
        null;
      }
      else
      {
        ;
      };
    };
    return ys;
  });
  Array__Filter$Tuple_2_Int32__Int32_Tuple_2_Int32__Int32_ = (function (f, xs)
  {
    var _2194;
    var _2195;
    _2195 = 0;
    _2194 = Array__ZeroCreate$Tuple_2_Int32__Int32_Tuple_2_Int32__Int32_(_2195);
    var ys = _2194;
    var _2196;
    _2196 = 0;
    var j = _2196;
    var _2197;
    _2197 = 0;
    var _2198;
    var _2199;
    var _2200;
    _2200 = xs;
    _2199 = Array__Length$Tuple_2_Int32__Int32_Tuple_2_Int32__Int32_(_2200);
    var _2201;
    _2201 = 1;
    _2198 = (_2199 - _2201);
    for (var i = _2197; i <= _2198; i++)
    {
      var _2202;
      var _2203;
      _2203 = f;
      var _2204;
      var _2205;
      _2205 = xs;
      var _2206;
      _2206 = i;
      _2204 = _2205[_2206];
      _2202 = _2203(_2204);
      if (_2202) 
      {
        var _2207;
        _2207 = ys;
        var _2208;
        _2208 = j;
        var _2209;
        var _2210;
        _2210 = xs;
        var _2211;
        _2211 = i;
        _2209 = _2210[_2211];
        _2207[_2208] = _2209;
        null;
        var _2212;
        var _2213;
        _2213 = j;
        var _2214;
        _2214 = 1;
        _2212 = (_2213 + _2214);
        j = _2212;
        null;
      }
      else
      {
        ;
      };
    };
    return ys;
  });
  Array__Fold$Char__Int32_Char_Int32 = (function (f, seed, xs)
  {
    var _1218;
    _1218 = (function (_arg1)
    {
      return (function (acc)
      {
        return (function (x)
        {
          var _1219;
          var _1220;
          _1220 = f;
          var _1221;
          _1221 = acc;
          _1219 = _1220(_1221);
          var _1222;
          _1222 = x;
          return _1219(_1222);
        });
      });
    });
    var _1223;
    _1223 = seed;
    var _1224;
    _1224 = xs;
    return Array__FoldIndexed$Int32__Char_Int32_Char(_1218, _1223, _1224);
  });
  Array__Fold$Ghost__Unit_Ghost__Unit_ = (function (f, seed, xs)
  {
    var _2304;
    _2304 = (function (_arg1)
    {
      return (function (acc)
      {
        return (function (x)
        {
          var _2305;
          var _2306;
          _2306 = f;
          var _2307;
          _2307 = acc;
          _2305 = _2306(_2307);
          var _2308;
          _2308 = x;
          return _2305(_2308);
        });
      });
    });
    var _2309;
    _2309 = seed;
    var _2310;
    _2310 = xs;
    return Array__FoldIndexed$Unit__Ghost_Unit__Ghost_(_2304, _2309, _2310);
  });
  Array__Fold$String_1_Int32_String_Int32 = (function (f, seed, xs)
  {
    var _1254;
    _1254 = (function (_arg1)
    {
      return (function (acc)
      {
        return (function (x)
        {
          var _1255;
          var _1256;
          _1256 = f;
          var _1257;
          _1257 = acc;
          _1255 = _1256(_1257);
          var _1258;
          _1258 = x;
          return _1255(_1258);
        });
      });
    });
    var _1259;
    _1259 = seed;
    var _1260;
    _1260 = xs;
    return Array__FoldIndexed$Int32__String_1Int32_String(_1254, _1259, _1260);
  });
  Array__Fold$String_1_String___String_String___ = (function (f, seed, xs)
  {
    var _669;
    _669 = (function (_arg1)
    {
      return (function (acc)
      {
        return (function (x)
        {
          var _670;
          var _671;
          _671 = f;
          var _672;
          _672 = acc;
          _670 = _671(_672);
          var _673;
          _673 = x;
          return _670(_673);
        });
      });
    });
    var _674;
    _674 = seed;
    var _675;
    _675 = xs;
    return Array__FoldIndexed$String____String_1String____String(_669, _674, _675);
  });
  Array__FoldIndexed$Int32__Char_Int32_Char = (function (f, seed, xs)
  {
    var _1225;
    _1225 = seed;
    var acc = _1225;
    var _1226;
    _1226 = 0;
    var _1227;
    var _1228;
    var _1229;
    _1229 = xs;
    _1228 = Array__Length$Char_Char(_1229);
    var _1230;
    _1230 = 1;
    _1227 = (_1228 - _1230);
    for (var i = _1226; i <= _1227; i++)
    {
      var _1231;
      var _1232;
      var _1233;
      var _1234;
      _1234 = f;
      var _1235;
      _1235 = i;
      _1233 = _1234(_1235);
      var _1236;
      _1236 = acc;
      _1232 = _1233(_1236);
      var _1237;
      var _1238;
      _1238 = xs;
      var _1239;
      _1239 = i;
      _1237 = _1238[_1239];
      _1231 = _1232(_1237);
      acc = _1231;
      null;
    };
    return acc;
  });
  Array__FoldIndexed$Int32__String_1Int32_String = (function (f, seed, xs)
  {
    var _1261;
    _1261 = seed;
    var acc = _1261;
    var _1262;
    _1262 = 0;
    var _1263;
    var _1264;
    var _1265;
    _1265 = xs;
    _1264 = Array__Length$String_1String(_1265);
    var _1266;
    _1266 = 1;
    _1263 = (_1264 - _1266);
    for (var i = _1262; i <= _1263; i++)
    {
      var _1267;
      var _1268;
      var _1269;
      var _1270;
      _1270 = f;
      var _1271;
      _1271 = i;
      _1269 = _1270(_1271);
      var _1272;
      _1272 = acc;
      _1268 = _1269(_1272);
      var _1273;
      var _1274;
      _1274 = xs;
      var _1275;
      _1275 = i;
      _1273 = _1274[_1275];
      _1267 = _1268(_1273);
      acc = _1267;
      null;
    };
    return acc;
  });
  Array__FoldIndexed$String____String_1String____String = (function (f, seed, xs)
  {
    var _676;
    _676 = seed;
    var acc = _676;
    var _677;
    _677 = 0;
    var _678;
    var _679;
    var _680;
    _680 = xs;
    _679 = Array__Length$String_1String(_680);
    var _681;
    _681 = 1;
    _678 = (_679 - _681);
    for (var i = _677; i <= _678; i++)
    {
      var _682;
      var _683;
      var _684;
      var _685;
      _685 = f;
      var _686;
      _686 = i;
      _684 = _685(_686);
      var _687;
      _687 = acc;
      _683 = _684(_687);
      var _688;
      var _689;
      _689 = xs;
      var _690;
      _690 = i;
      _688 = _689[_690];
      _682 = _683(_688);
      acc = _682;
      null;
    };
    return acc;
  });
  Array__FoldIndexed$Unit__Ghost_Unit__Ghost_ = (function (f, seed, xs)
  {
    var _2311;
    _2311 = seed;
    var acc = _2311;
    var _2312;
    _2312 = 0;
    var _2313;
    var _2314;
    var _2315;
    _2315 = xs;
    _2314 = Array__Length$Ghost_Ghost_(_2315);
    var _2316;
    _2316 = 1;
    _2313 = (_2314 - _2316);
    for (var i = _2312; i <= _2313; i++)
    {
      var _2317;
      var _2318;
      var _2319;
      var _2320;
      _2320 = f;
      var _2321;
      _2321 = i;
      _2319 = _2320(_2321);
      var _2322;
      _2322 = acc;
      _2318 = _2319(_2322);
      var _2323;
      var _2324;
      _2324 = xs;
      var _2325;
      _2325 = i;
      _2323 = _2324[_2325];
      _2317 = _2318(_2323);
      acc = _2317;
      null;
    };
    return acc;
  });
  Array__FoldIndexed$Unit__Int32_Unit__Int32 = (function (f, seed, xs)
  {
    var _903;
    _903 = seed;
    var acc = _903;
    var _904;
    _904 = 0;
    var _905;
    var _906;
    var _907;
    _907 = xs;
    _906 = Array__Length$Int32_Int32(_907);
    var _908;
    _908 = 1;
    _905 = (_906 - _908);
    for (var i = _904; i <= _905; i++)
    {
      var _909;
      var _910;
      var _911;
      var _912;
      _912 = f;
      var _913;
      _913 = i;
      _911 = _912(_913);
      var _914;
      _914 = acc;
      _910 = _911(_914);
      var _915;
      var _916;
      _916 = xs;
      var _917;
      _917 = i;
      _915 = _916[_917];
      _909 = _910(_915);
      acc = _909;
      null;
    };
    return acc;
  });
  Array__Iterate$Ghost_Ghost_ = (function (f, xs)
  {
    var _2299;
    _2299 = (function (unitVar0)
    {
      return (function (x)
      {
        var _2300;
        _2300 = f;
        var _2301;
        _2301 = x;
        return _2300(_2301);
      });
    });
    var _2302;
    var _2303;
    _2303 = xs;
    return Array__Fold$Ghost__Unit_Ghost__Unit_(_2299, _2302, _2303);
  });
  Array__IterateIndexed$Int32_Int32 = (function (f, xs)
  {
    var _896;
    _896 = (function (i)
    {
      return (function (unitVar1)
      {
        return (function (x)
        {
          var _897;
          var _898;
          _898 = f;
          var _899;
          _899 = i;
          _897 = _898(_899);
          var _900;
          _900 = x;
          return _897(_900);
        });
      });
    });
    var _901;
    var _902;
    _902 = xs;
    return Array__FoldIndexed$Unit__Int32_Unit__Int32(_896, _901, _902);
  });
  Array__Length$Char_Char = (function (xs)
  {
    return xs.length;
  });
  Array__Length$Ghost_Ghost_ = (function (xs)
  {
    return xs.length;
  });
  Array__Length$Int32_Int32 = (function (xs)
  {
    return xs.length;
  });
  Array__Length$String_1String = (function (xs)
  {
    return xs.length;
  });
  Array__Length$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_ = (function (xs)
  {
    return xs.length;
  });
  Array__Length$Tuple_2_Int32__Int32_Tuple_2_Int32__Int32_ = (function (xs)
  {
    return xs.length;
  });
  Array__Length$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_ = (function (xs)
  {
    return xs.length;
  });
  Array__Length$Tuple_3_String__Tuple_2_Int32__Int32__Tuple_2_Int32__Int32_Tuple_3_String__Tuple_2_Int32__Int32__Tuple_2_Int32__Int32_ = (function (xs)
  {
    return xs.length;
  });
  Array__Map$Char__Char_Char_Char = (function (f, xs)
  {
    var _1007;
    _1007 = (function (_arg1)
    {
      return (function (x)
      {
        var _1008;
        _1008 = f;
        var _1009;
        _1009 = x;
        return _1008(_1009);
      });
    });
    var _1010;
    _1010 = xs;
    return Array__MapIndexed$Char__Char_Char_Char(_1007, _1010);
  });
  Array__Map$Char__Int32_Char_Int32 = (function (f, xs)
  {
    var _1467;
    _1467 = (function (_arg1)
    {
      return (function (x)
      {
        var _1468;
        _1468 = f;
        var _1469;
        _1469 = x;
        return _1468(_1469);
      });
    });
    var _1470;
    _1470 = xs;
    return Array__MapIndexed$Char__Int32_Char_Int32(_1467, _1470);
  });
  Array__Map$String_1_Char___String_Char___ = (function (f, xs)
  {
    var _1035;
    _1035 = (function (_arg1)
    {
      return (function (x)
      {
        var _1036;
        _1036 = f;
        var _1037;
        _1037 = x;
        return _1036(_1037);
      });
    });
    var _1038;
    _1038 = xs;
    return Array__MapIndexed$String_1_Char___String_Char___(_1035, _1038);
  });
  Array__Map$String_1_Int32___String_Int32___ = (function (f, xs)
  {
    var _1495;
    _1495 = (function (_arg1)
    {
      return (function (x)
      {
        var _1496;
        _1496 = f;
        var _1497;
        _1497 = x;
        return _1496(_1497);
      });
    });
    var _1498;
    _1498 = xs;
    return Array__MapIndexed$String_1_Int32___String_Int32___(_1495, _1498);
  });
  Array__Map$String_1_String___String_String___ = (function (f, xs)
  {
    var _639;
    _639 = (function (_arg1)
    {
      return (function (x)
      {
        var _640;
        _640 = f;
        var _641;
        _641 = x;
        return _640(_641);
      });
    });
    var _642;
    _642 = xs;
    return Array__MapIndexed$String_1_String___String_String___(_639, _642);
  });
  Array__Map$Tuple_2_Boolean__Tuple_2_Int32__Int32__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32__Tuple_2_Int32__Int32_ = (function (f, xs)
  {
    var _2836;
    _2836 = (function (_arg1)
    {
      return (function (x)
      {
        var _2837;
        _2837 = f;
        var _2838;
        _2838 = x;
        return _2837(_2838);
      });
    });
    var _2839;
    _2839 = xs;
    return Array__MapIndexed$Tuple_2_Boolean__Tuple_2_Int32__Int32__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32__Tuple_2_Int32__Int32_(_2836, _2839);
  });
  Array__Map$Tuple_2_Tuple_2_Int32__Int32__Int32__Tuple_2_Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32__Tuple_2_Int32__Int32_ = (function (f, xs)
  {
    var _2223;
    _2223 = (function (_arg1)
    {
      return (function (x)
      {
        var _2224;
        _2224 = f;
        var _2225;
        _2225 = x;
        return _2224(_2225);
      });
    });
    var _2226;
    _2226 = xs;
    return Array__MapIndexed$Tuple_2_Tuple_2_Int32__Int32__Int32__Tuple_2_Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32__Tuple_2_Int32__Int32_(_2223, _2226);
  });
  Array__Map$Tuple_3_String__Tuple_2_Int32__Int32__Tuple_2_Int32__Int32__Ghost_Tuple_3_String__Tuple_2_Int32__Int32__Tuple_2_Int32__Int32__Ghost_ = (function (f, xs)
  {
    var _1132;
    _1132 = (function (_arg1)
    {
      return (function (x)
      {
        var _1133;
        _1133 = f;
        var _1134;
        _1134 = x;
        return _1133(_1134);
      });
    });
    var _1135;
    _1135 = xs;
    return Array__MapIndexed$Tuple_3_String__Tuple_2_Int32__Int32__Tuple_2_Int32__Int32__Ghost_Tuple_3_String__Tuple_2_Int32__Int32__Tuple_2_Int32__Int32__Ghost_(_1132, _1135);
  });
  Array__MapIndexed$Char__Char_Char_Char = (function (f, xs)
  {
    var _1011;
    var _1012;
    var _1013;
    _1013 = xs;
    _1012 = Array__Length$Char_Char(_1013);
    _1011 = Array__ZeroCreate$Char_Char(_1012);
    var ys = _1011;
    var _1014;
    _1014 = 0;
    var _1015;
    var _1016;
    var _1017;
    _1017 = xs;
    _1016 = Array__Length$Char_Char(_1017);
    var _1018;
    _1018 = 1;
    _1015 = (_1016 - _1018);
    for (var i = _1014; i <= _1015; i++)
    {
      var _1019;
      _1019 = ys;
      var _1020;
      _1020 = i;
      var _1021;
      var _1022;
      var _1023;
      _1023 = f;
      var _1024;
      _1024 = i;
      _1022 = _1023(_1024);
      var _1025;
      var _1026;
      _1026 = xs;
      var _1027;
      _1027 = i;
      _1025 = _1026[_1027];
      _1021 = _1022(_1025);
      _1019[_1020] = _1021;
      null;
    };
    return ys;
  });
  Array__MapIndexed$Char__Int32_Char_Int32 = (function (f, xs)
  {
    var _1471;
    var _1472;
    var _1473;
    _1473 = xs;
    _1472 = Array__Length$Char_Char(_1473);
    _1471 = Array__ZeroCreate$Int32_Int32(_1472);
    var ys = _1471;
    var _1474;
    _1474 = 0;
    var _1475;
    var _1476;
    var _1477;
    _1477 = xs;
    _1476 = Array__Length$Char_Char(_1477);
    var _1478;
    _1478 = 1;
    _1475 = (_1476 - _1478);
    for (var i = _1474; i <= _1475; i++)
    {
      var _1479;
      _1479 = ys;
      var _1480;
      _1480 = i;
      var _1481;
      var _1482;
      var _1483;
      _1483 = f;
      var _1484;
      _1484 = i;
      _1482 = _1483(_1484);
      var _1485;
      var _1486;
      _1486 = xs;
      var _1487;
      _1487 = i;
      _1485 = _1486[_1487];
      _1481 = _1482(_1485);
      _1479[_1480] = _1481;
      null;
    };
    return ys;
  });
  Array__MapIndexed$String_1_Char___String_Char___ = (function (f, xs)
  {
    var _1039;
    var _1040;
    var _1041;
    _1041 = xs;
    _1040 = Array__Length$String_1String(_1041);
    _1039 = Array__ZeroCreate$Char___Char___(_1040);
    var ys = _1039;
    var _1042;
    _1042 = 0;
    var _1043;
    var _1044;
    var _1045;
    _1045 = xs;
    _1044 = Array__Length$String_1String(_1045);
    var _1046;
    _1046 = 1;
    _1043 = (_1044 - _1046);
    for (var i = _1042; i <= _1043; i++)
    {
      var _1047;
      _1047 = ys;
      var _1048;
      _1048 = i;
      var _1049;
      var _1050;
      var _1051;
      _1051 = f;
      var _1052;
      _1052 = i;
      _1050 = _1051(_1052);
      var _1053;
      var _1054;
      _1054 = xs;
      var _1055;
      _1055 = i;
      _1053 = _1054[_1055];
      _1049 = _1050(_1053);
      _1047[_1048] = _1049;
      null;
    };
    return ys;
  });
  Array__MapIndexed$String_1_Int32___String_Int32___ = (function (f, xs)
  {
    var _1499;
    var _1500;
    var _1501;
    _1501 = xs;
    _1500 = Array__Length$String_1String(_1501);
    _1499 = Array__ZeroCreate$Int32___Int32___(_1500);
    var ys = _1499;
    var _1502;
    _1502 = 0;
    var _1503;
    var _1504;
    var _1505;
    _1505 = xs;
    _1504 = Array__Length$String_1String(_1505);
    var _1506;
    _1506 = 1;
    _1503 = (_1504 - _1506);
    for (var i = _1502; i <= _1503; i++)
    {
      var _1507;
      _1507 = ys;
      var _1508;
      _1508 = i;
      var _1509;
      var _1510;
      var _1511;
      _1511 = f;
      var _1512;
      _1512 = i;
      _1510 = _1511(_1512);
      var _1513;
      var _1514;
      _1514 = xs;
      var _1515;
      _1515 = i;
      _1513 = _1514[_1515];
      _1509 = _1510(_1513);
      _1507[_1508] = _1509;
      null;
    };
    return ys;
  });
  Array__MapIndexed$String_1_String___String_String___ = (function (f, xs)
  {
    var _643;
    var _644;
    var _645;
    _645 = xs;
    _644 = Array__Length$String_1String(_645);
    _643 = Array__ZeroCreate$String___String___(_644);
    var ys = _643;
    var _646;
    _646 = 0;
    var _647;
    var _648;
    var _649;
    _649 = xs;
    _648 = Array__Length$String_1String(_649);
    var _650;
    _650 = 1;
    _647 = (_648 - _650);
    for (var i = _646; i <= _647; i++)
    {
      var _651;
      _651 = ys;
      var _652;
      _652 = i;
      var _653;
      var _654;
      var _655;
      _655 = f;
      var _656;
      _656 = i;
      _654 = _655(_656);
      var _657;
      var _658;
      _658 = xs;
      var _659;
      _659 = i;
      _657 = _658[_659];
      _653 = _654(_657);
      _651[_652] = _653;
      null;
    };
    return ys;
  });
  Array__MapIndexed$Tuple_2_Boolean__Tuple_2_Int32__Int32__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32__Tuple_2_Int32__Int32_ = (function (f, xs)
  {
    var _2840;
    var _2841;
    var _2842;
    _2842 = xs;
    _2841 = Array__Length$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_(_2842);
    _2840 = Array__ZeroCreate$Tuple_2_Int32__Int32_Tuple_2_Int32__Int32_(_2841);
    var ys = _2840;
    var _2843;
    _2843 = 0;
    var _2844;
    var _2845;
    var _2846;
    _2846 = xs;
    _2845 = Array__Length$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_(_2846);
    var _2847;
    _2847 = 1;
    _2844 = (_2845 - _2847);
    for (var i = _2843; i <= _2844; i++)
    {
      var _2848;
      _2848 = ys;
      var _2849;
      _2849 = i;
      var _2850;
      var _2851;
      var _2852;
      _2852 = f;
      var _2853;
      _2853 = i;
      _2851 = _2852(_2853);
      var _2854;
      var _2855;
      _2855 = xs;
      var _2856;
      _2856 = i;
      _2854 = _2855[_2856];
      _2850 = _2851(_2854);
      _2848[_2849] = _2850;
      null;
    };
    return ys;
  });
  Array__MapIndexed$Tuple_2_Tuple_2_Int32__Int32__Int32__Tuple_2_Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32__Tuple_2_Int32__Int32_ = (function (f, xs)
  {
    var _2227;
    var _2228;
    var _2229;
    _2229 = xs;
    _2228 = Array__Length$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_(_2229);
    _2227 = Array__ZeroCreate$Tuple_2_Int32__Int32_Tuple_2_Int32__Int32_(_2228);
    var ys = _2227;
    var _2230;
    _2230 = 0;
    var _2231;
    var _2232;
    var _2233;
    _2233 = xs;
    _2232 = Array__Length$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_(_2233);
    var _2234;
    _2234 = 1;
    _2231 = (_2232 - _2234);
    for (var i = _2230; i <= _2231; i++)
    {
      var _2235;
      _2235 = ys;
      var _2236;
      _2236 = i;
      var _2237;
      var _2238;
      var _2239;
      _2239 = f;
      var _2240;
      _2240 = i;
      _2238 = _2239(_2240);
      var _2241;
      var _2242;
      _2242 = xs;
      var _2243;
      _2243 = i;
      _2241 = _2242[_2243];
      _2237 = _2238(_2241);
      _2235[_2236] = _2237;
      null;
    };
    return ys;
  });
  Array__MapIndexed$Tuple_3_String__Tuple_2_Int32__Int32__Tuple_2_Int32__Int32__Ghost_Tuple_3_String__Tuple_2_Int32__Int32__Tuple_2_Int32__Int32__Ghost_ = (function (f, xs)
  {
    var _1136;
    var _1137;
    var _1138;
    _1138 = xs;
    _1137 = Array__Length$Tuple_3_String__Tuple_2_Int32__Int32__Tuple_2_Int32__Int32_Tuple_3_String__Tuple_2_Int32__Int32__Tuple_2_Int32__Int32_(_1138);
    _1136 = Array__ZeroCreate$Ghost_Ghost_(_1137);
    var ys = _1136;
    var _1139;
    _1139 = 0;
    var _1140;
    var _1141;
    var _1142;
    _1142 = xs;
    _1141 = Array__Length$Tuple_3_String__Tuple_2_Int32__Int32__Tuple_2_Int32__Int32_Tuple_3_String__Tuple_2_Int32__Int32__Tuple_2_Int32__Int32_(_1142);
    var _1143;
    _1143 = 1;
    _1140 = (_1141 - _1143);
    for (var i = _1139; i <= _1140; i++)
    {
      var _1144;
      _1144 = ys;
      var _1145;
      _1145 = i;
      var _1146;
      var _1147;
      var _1148;
      _1148 = f;
      var _1149;
      _1149 = i;
      _1147 = _1148(_1149);
      var _1150;
      var _1151;
      _1151 = xs;
      var _1152;
      _1152 = i;
      _1150 = _1151[_1152];
      _1146 = _1147(_1150);
      _1144[_1145] = _1146;
      null;
    };
    return ys;
  });
  Array__SortBy$Tuple_2_Int32__Int32__Boolean_Tuple_2_Int32__Int32__Boolean = (function (f, xs)
  {
    var _2814;
    var _2815;
    _2815 = xs;
    _2814 = Array__Copy$Tuple_2_Int32__Int32_Tuple_2_Int32__Int32_(_2815);
    var ys = _2814;
    var _2816;
    _2816 = f;
    var _2817;
    _2817 = ys;
    Array__SortInPlaceBy$Tuple_2_Int32__Int32__Boolean_Tuple_2_Int32__Int32__Boolean(_2816, _2817);
    return ys;
  });
  Array__SortBy$Tuple_2_Tuple_2_Int32__Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32__Int32 = (function (f, xs)
  {
    var _2154;
    var _2155;
    _2155 = xs;
    _2154 = Array__Copy$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_(_2155);
    var ys = _2154;
    var _2156;
    _2156 = f;
    var _2157;
    _2157 = ys;
    Array__SortInPlaceBy$Tuple_2_Tuple_2_Int32__Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32__Int32(_2156, _2157);
    return ys;
  });
  Array__SortInPlaceBy$Tuple_2_Int32__Int32__Boolean_Tuple_2_Int32__Int32__Boolean = (function (f, xs)
  {
    var _2818;
    _2818 = (function (x)
    {
      return (function (y)
      {
        var _2819;
        var _2820;
        _2820 = f;
        var _2821;
        _2821 = x;
        _2819 = _2820(_2821);
        var _x = _2819;
        var _2822;
        var _2823;
        _2823 = f;
        var _2824;
        _2824 = y;
        _2822 = _2823(_2824);
        var _y = _2822;
        var _2825;
        _2825 = _x;
        var _2826;
        _2826 = _y;
        var diff = 0.000000;
        diff = ((_2825 < _2826) ? -1.000000 : ((_2825 == _2826) ? 0.000000 : 1.000000));
        return diff;
      });
    });
    var _2827;
    _2827 = xs;
    return Array__SortInPlaceWith$Tuple_2_Int32__Int32_Tuple_2_Int32__Int32_(_2818, _2827);
  });
  Array__SortInPlaceBy$Tuple_2_Tuple_2_Int32__Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32__Int32 = (function (f, xs)
  {
    var _2158;
    _2158 = (function (x)
    {
      return (function (y)
      {
        var _2159;
        var _2160;
        _2160 = f;
        var _2161;
        _2161 = x;
        _2159 = _2160(_2161);
        var _x = _2159;
        var _2162;
        var _2163;
        _2163 = f;
        var _2164;
        _2164 = y;
        _2162 = _2163(_2164);
        var _y = _2162;
        var _2165;
        _2165 = _x;
        var _2166;
        _2166 = _y;
        var diff = 0.000000;
        diff = ((_2165 < _2166) ? -1.000000 : ((_2165 == _2166) ? 0.000000 : 1.000000));
        return diff;
      });
    });
    var _2167;
    _2167 = xs;
    return Array__SortInPlaceWith$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_(_2158, _2167);
  });
  Array__SortInPlaceWith$Tuple_2_Int32__Int32_Tuple_2_Int32__Int32_ = (function (f, xs)
  {
    xs.sort(function(a,b) { return f(a)(b); });
  });
  Array__SortInPlaceWith$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_ = (function (f, xs)
  {
    xs.sort(function(a,b) { return f(a)(b); });
  });
  Array__SumBy$Char__Int32_Char_Int32 = (function (f, xs)
  {
    var _1211;
    _1211 = (function (acc)
    {
      return (function (x)
      {
        var _1212;
        _1212 = acc;
        var _1213;
        var _1214;
        _1214 = f;
        var _1215;
        _1215 = x;
        _1213 = _1214(_1215);
        return (_1212 + _1213);
      });
    });
    var _1216;
    _1216 = GenericConstants__Zero$Int32_Int32();
    var _1217;
    _1217 = xs;
    return Array__Fold$Char__Int32_Char_Int32(_1211, _1216, _1217);
  });
  Array__SumBy$String_1_Int32_String_Int32 = (function (f, xs)
  {
    var _1247;
    _1247 = (function (acc)
    {
      return (function (x)
      {
        var _1248;
        _1248 = acc;
        var _1249;
        var _1250;
        _1250 = f;
        var _1251;
        _1251 = x;
        _1249 = _1250(_1251);
        return (_1248 + _1249);
      });
    });
    var _1252;
    _1252 = GenericConstants__Zero$Int32_Int32();
    var _1253;
    _1253 = xs;
    return Array__Fold$String_1_Int32_String_Int32(_1247, _1252, _1253);
  });
  Array__ZeroCreate$Char_Char = (function (size)
  {
    return new Array(size);
  });
  Array__ZeroCreate$Char___Char___ = (function (size)
  {
    return new Array(size);
  });
  Array__ZeroCreate$Ghost_Ghost_ = (function (size)
  {
    return new Array(size);
  });
  Array__ZeroCreate$Int32_Int32 = (function (size)
  {
    return new Array(size);
  });
  Array__ZeroCreate$Int32___Int32___ = (function (size)
  {
    return new Array(size);
  });
  Array__ZeroCreate$String___String___ = (function (size)
  {
    return new Array(size);
  });
  Array__ZeroCreate$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_ = (function (size)
  {
    return new Array(size);
  });
  Array__ZeroCreate$Tuple_2_Int32__Int32_Tuple_2_Int32__Int32_ = (function (size)
  {
    return new Array(size);
  });
  Array__ZeroCreate$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_ = (function (size)
  {
    return new Array(size);
  });
  Background__clearCell$Object_Object_ = (function (background, x, y)
  {
    var _2989;
    var _2990;
    _2990 = background;
    _2989 = _2990;
    var _background = _2989;
    var _2991;
    var _2992;
    _2992 = _background;
    var _2993;
    _2993 = "2d";
    _2991 = _2992.getContext(_2993);
    var context = _2991;
    var _2994;
    _2994 = context;
    var _2995;
    _2995 = "rgb(0,0,0)";
    _2994.fillStyle = _2995;
    null;
    var _2996;
    _2996 = context;
    var _2997;
    var _2998;
    var _2999;
    _2999 = x;
    var _3000;
    _3000 = 8;
    _2998 = (_2999 * _3000);
    _2997 = _2998;
    var _3001;
    var _3002;
    var _3003;
    _3003 = y;
    var _3004;
    _3004 = 8;
    _3002 = (_3003 * _3004);
    _3001 = _3002;
    var _3005;
    _3005 = 8.000000;
    var _3006;
    _3006 = 8.000000;
    return _2996.fillRect(_2997, _3001, _3005, _3006);
  });
  Background__countDots$ = (function (unitVar0)
  {
    var _1197;
    var _1198;
    _1198 = (function (line)
    {
      var _1199;
      var _1200;
      _1200 = (function (_arg1)
      {
        var _1201;
        var _1202;
        _1202 = _arg1;
        var _1203;
        _1203 = ".";
        _1201 = (_1202 == _1203);
        if (_1201) 
        {
          return 1;
        }
        else
        {
          var _1204;
          var _1205;
          _1205 = _arg1;
          var _1206;
          _1206 = "o";
          _1204 = (_1205 == _1206);
          if (_1204) 
          {
            return 1;
          }
          else
          {
            return 0;
          };
        };
      });
      var projection = _1200;
      _1199 = (function (array)
      {
        var _1207;
        var _1208;
        _1208 = projection;
        _1207 = _1208;
        var _1209;
        var _1210;
        _1210 = array;
        _1209 = _1210;
        return Array__SumBy$Char__Int32_Char_Int32(_1207, _1209);
      });
      var _1240;
      var _1241;
      var _1242;
      _1242 = line;
      _1241 = _1242;
      _1240 = String__ToCharArray$(_1241);
      return _1199(_1240);
    });
    var projection = _1198;
    _1197 = (function (array)
    {
      var _1243;
      var _1244;
      _1244 = projection;
      _1243 = _1244;
      var _1245;
      var _1246;
      _1246 = array;
      _1245 = _1246;
      return Array__SumBy$String_1_Int32_String_Int32(_1243, _1245);
    });
    var _1276;
    _1276 = Program__maze;
    return _1197(_1276);
  });
  Background__createBackground$ = (function (unitVar0)
  {
    var _434;
    var _435;
    var _436;
    _436 = document;
    var _437;
    _437 = "canvas";
    _435 = _436.createElement(_437);
    _434 = _435;
    var background = _434;
    var _438;
    _438 = background;
    var _439;
    _439 = 256.000000;
    _438.width = _439;
    null;
    var _440;
    _440 = background;
    var _441;
    _441 = 256.000000;
    _440.height = _441;
    null;
    var _442;
    var _443;
    _443 = background;
    var _444;
    _444 = "2d";
    _442 = _443.getContext(_444);
    var context = _442;
    var _445;
    _445 = context;
    var _446;
    _446 = "rgb(0,0,0)";
    _445.fillStyle = _446;
    null;
    var _447;
    _447 = context;
    var _448;
    _448 = 0.000000;
    var _449;
    _449 = 0.000000;
    var _450;
    _450 = 256.000000;
    var _451;
    _451 = 256.000000;
    _447.fillRect(_448, _449, _450, _451);
    var _452;
    var _453;
    _453 = context;
    var _454;
    _454 = 63;
    var _455;
    _455 = 63;
    var _456;
    _456 = 255;
    var _457;
    _457 = 255;
    _452 = Background__createBrush$(_453, _454, _455, _456, _457);
    var blue = _452;
    var _482;
    var _483;
    _483 = context;
    var _484;
    _484 = 255;
    var _485;
    _485 = 255;
    var _486;
    _486 = 0;
    var _487;
    _487 = 255;
    _482 = Background__createBrush$(_483, _484, _485, _486, _487);
    var yellow = _482;
    var _488;
    _488 = Program__maze;
    var lines = _488;
    var _692;
    _692 = 0;
    var _693;
    var _694;
    var _695;
    var _696;
    _696 = lines;
    _695 = _696;
    _694 = Array__BoxedLength$(_695);
    var _697;
    _697 = 1;
    _693 = (_694 - _697);
    for (var _920 = _692; _920 <= _693; _920++)
    {
      (function (y)
      {
        var _698;
        var _699;
        _699 = lines;
        var _700;
        _700 = y;
        _698 = _699[_700];
        var line = _698;
        var _701;
        _701 = 0;
        var _702;
        var _703;
        var _704;
        var _705;
        _705 = line;
        _704 = _705;
        _703 = String__Length$(_704);
        var _706;
        _706 = 1;
        _702 = (_703 - _706);
        for (var _919 = _701; _919 <= _702; _919++)
        {
          (function (x)
          {
            var _707;
            var _708;
            var _709;
            _709 = line;
            _708 = _709;
            var _710;
            var _711;
            _711 = x;
            _710 = _711;
            _707 = String__CharAt$(_708, _710);
            var c = _707;
            var _712;
            var _713;
            _713 = c;
            _712 = Background__toTile$(_713);
            var patternInput = _712;
            var _839;
            var _840;
            _840 = patternInput;
            _839 = _840.Items[0.000000];
            var tile = _839;
            var _841;
            var _842;
            _842 = patternInput;
            _841 = _842.Items[1.000000];
            var color = _841;
            var _843;
            var _844;
            var _845;
            _845 = color;
            var _846;
            _846 = "Y";
            _844 = (_845 == _846);
            if (_844) 
            {
              _843 = yellow;
            }
            else
            {
              _843 = blue;
            };
            var brush = _843;
            var _847;
            _847 = (function (tupledArg)
            {
              var _848;
              var _849;
              _849 = tupledArg;
              _848 = _849.Items[0.000000];
              var x_ = _848;
              var _850;
              var _851;
              _851 = tupledArg;
              _850 = _851.Items[1.000000];
              var y_ = _850;
              var _852;
              _852 = context;
              var _853;
              _853 = brush;
              var _854;
              var _855;
              var _856;
              var _857;
              _857 = x;
              var _858;
              _858 = 8;
              _856 = (_857 * _858);
              var _859;
              _859 = x_;
              _855 = (_856 + _859);
              _854 = _855;
              var _860;
              var _861;
              var _862;
              var _863;
              _863 = y;
              var _864;
              _864 = 8;
              _862 = (_863 * _864);
              var _865;
              _865 = y_;
              _861 = (_862 + _865);
              _860 = _861;
              return _852.putImageData(_853, _854, _860);
            });
            var f = _847;
            var _866;
            _866 = f;
            var _867;
            _867 = tile;
            Background__draw$(_866, _867);
          })(_919);
        };
      })(_920);
    };
    var _921;
    _921 = background;
    return _921;
  });
  Background__createBrush$ = (function (context, r, g, b, a)
  {
    var _458;
    var _459;
    _459 = context;
    var _460;
    var _461;
    _461 = 1;
    _460 = _461;
    var _462;
    var _463;
    _463 = 1;
    _462 = _463;
    _458 = _459.createImageData(_460, _462);
    var id = _458;
    var _464;
    var _465;
    _465 = id;
    _464 = _465.data;
    var d = _464;
    var _466;
    _466 = d;
    var _467;
    _467 = 0;
    var _468;
    var _469;
    _469 = r;
    _468 = _469;
    _466[_467] = _468;
    null;
    var _470;
    _470 = d;
    var _471;
    _471 = 1;
    var _472;
    var _473;
    _473 = g;
    _472 = _473;
    _470[_471] = _472;
    null;
    var _474;
    _474 = d;
    var _475;
    _475 = 2;
    var _476;
    var _477;
    _477 = b;
    _476 = _477;
    _474[_475] = _476;
    null;
    var _478;
    _478 = d;
    var _479;
    _479 = 3;
    var _480;
    var _481;
    _481 = a;
    _480 = _481;
    _478[_479] = _480;
    null;
    return id;
  });
  Background__draw$ = (function (f, lines)
  {
    var _868;
    _868 = 8;
    var width = _868;
    var _869;
    var _870;
    _870 = (function (y)
    {
      return (function (line)
      {
        var _871;
        _871 = 0;
        var _872;
        var _873;
        _873 = width;
        var _874;
        _874 = 1;
        _872 = (_873 - _874);
        for (var x = _871; x <= _872; x++)
        {
          var _875;
          var _876;
          _876 = 1;
          var _877;
          var _878;
          var _879;
          _879 = width;
          var _880;
          _880 = 1;
          _878 = (_879 - _880);
          var _881;
          _881 = x;
          _877 = (_878 - _881);
          _875 = (_876 << _877);
          var bit = _875;
          var _882;
          var _883;
          _883 = line;
          var _884;
          _884 = bit;
          _882 = (_883 & _884);
          var pattern = _882;
          var _885;
          var _886;
          _886 = pattern;
          var _887;
          _887 = 0;
          _885 = (_886 != _887);
          if (_885) 
          {
            var _888;
            _888 = f;
            var _889;
            var _890;
            _890 = x;
            var _891;
            _891 = y;
            _889 = (new TupleInt32_Int32(_890, _891));
            _888(_889);
          }
          else
          {
            ;
          };
        };
      });
    });
    var action = _870;
    _869 = (function (array)
    {
      var _892;
      var _893;
      _893 = action;
      _892 = _893;
      var _894;
      var _895;
      _895 = array;
      _894 = _895;
      return Array__IterateIndexed$Int32_Int32(_892, _894);
    });
    var _918;
    _918 = lines;
    return _869(_918);
  });
  Background__get_tileChars$ = (function ()
  {
    return "/_7|!L-J=.o";
  });
  Background__get_tileColors$ = (function ()
  {
    return "BBBBBBBBBYY";
  });
  Background__toTile$ = (function (c)
  {
    var _714;
    var _715;
    var _716;
    _716 = Background__get_tileChars$();
    _715 = _716;
    var _717;
    var _718;
    _718 = c;
    _717 = _718;
    _714 = String__IndexOf$(_715, _717);
    var i = _714;
    var _719;
    var _720;
    _720 = i;
    var _721;
    _721 = -1;
    _719 = (_720 == _721);
    if (_719) 
    {
      var _722;
      _722 = Program__blank;
      var _731;
      _731 = "B";
      return (new TupleInt32____Char(_722, _731));
    }
    else
    {
      var _732;
      var _733;
      _733 = Program__tileBits;
      var _833;
      _833 = i;
      _732 = _733[_833];
      var _834;
      var _835;
      var _836;
      _836 = Background__get_tileColors$();
      _835 = _836;
      var _837;
      var _838;
      _838 = i;
      _837 = _838;
      _834 = String__CharAt$(_835, _837);
      return (new TupleInt32____Char(_732, _834));
    };
  });
  CreateEnumerable_1_String_____ctor$String___ = (function (factory)
  {
    var _582;
    _582 = this;
    var _583;
    _583 = factory;
    _582.factory = _583;
  });
  CreateEnumerable_1_Tuple_2_Boolean__Tuple_2_Int32__Int32___ctor$Tuple_2_Boolean__Tuple_2_Int32__Int32_ = (function (factory)
  {
    var _2478;
    _2478 = this;
    var _2479;
    _2479 = factory;
    _2478.factory = _2479;
  });
  CreateEnumerable_1_Tuple_2_Tuple_2_Int32__Int32__Int32___ctor$Tuple_2_Tuple_2_Int32__Int32__Int32_ = (function (factory)
  {
    var _1837;
    _1837 = this;
    var _1838;
    _1838 = factory;
    _1837.factory = _1838;
  });
  GenericComparer_1_Int32___ctor$Int32 = (function (unitVar0)
  {
    ;
  });
  GenericConstants__Zero$Int32_Int32 = (function ()
  {
    return 0;
  });
  GhostMovement__chooseDirection$ = (function (ghost)
  {
    var _1316;
    var _1317;
    var _1318;
    _1318 = ghost;
    _1317 = Ghost__get_X$(_1318);
    var _1320;
    var _1321;
    _1321 = ghost;
    _1320 = Ghost__get_Y$(_1321);
    _1316 = (new TupleInt32_Int32(_1317, _1320));
    var patternInput = _1316;
    var _1323;
    var _1324;
    _1324 = patternInput;
    _1323 = _1324.Items[1.000000];
    var y = _1323;
    var _1325;
    var _1326;
    _1326 = patternInput;
    _1325 = _1326.Items[0.000000];
    var x = _1325;
    var _1327;
    var _1328;
    _1328 = ghost;
    _1327 = Ghost__get_V$(_1328);
    var _patternInput = _1327;
    var _1330;
    var _1331;
    _1331 = _patternInput;
    _1330 = _1331.Items[1.000000];
    var dy = _1330;
    var _1332;
    var _1333;
    _1333 = _patternInput;
    _1332 = _1333.Items[0.000000];
    var dx = _1332;
    var _1334;
    _1334 = (function (tupledArg)
    {
      var _1335;
      var _1336;
      _1336 = tupledArg;
      _1335 = _1336.Items[0.000000];
      var a = _1335;
      var _1337;
      var _1338;
      _1338 = tupledArg;
      _1337 = _1338.Items[1.000000];
      var b = _1337;
      var _1339;
      var _1340;
      var _1341;
      _1341 = a;
      var _1342;
      _1342 = 0;
      _1340 = (_1341 != _1342);
      _1339 = (_1340 && (function ()
      {
        var _1343;
        _1343 = a;
        var _1344;
        var _1345;
        _1345 = dx;
        _1344 = (-_1345);
        return (_1343 == _1344);
      })());
      return (_1339 || (function ()
      {
        var _1346;
        var _1347;
        _1347 = b;
        var _1348;
        _1348 = 0;
        _1346 = (_1347 != _1348);
        return (_1346 && (function ()
        {
          var _1349;
          _1349 = b;
          var _1350;
          var _1351;
          _1351 = dy;
          _1350 = (-_1351);
          return (_1349 == _1350);
        })());
      })());
    });
    var isBackwards = _1334;
    var _1352;
    var _1353;
    var _1354;
    var _1355;
    var _1356;
    var _1357;
    _1357 = (function (unitVar)
    {
      var _1358;
      var _1359;
      var _1360;
      var _1361;
      _1361 = x;
      var _1362;
      _1362 = y;
      _1360 = Maze__canGoLeft$(_1361, _1362);
      if (_1360) 
      {
        var _1420;
        var _1421;
        var _1422;
        var _1423;
        _1423 = -1;
        var _1424;
        _1424 = 0;
        _1422 = (new TupleInt32_Int32(_1423, _1424));
        var _1425;
        var _1426;
        _1426 = x;
        var _1427;
        _1427 = y;
        _1425 = GhostMovement__fillLeft$(_1426, _1427);
        _1421 = (new TupleTuple_2_Int32__Int32__Int32(_1422, _1425));
        _1420 = _1421;
        _1359 = Seq__Singleton$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_(_1420);
      }
      else
      {
        _1359 = Seq__Empty$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_();
      };
      _1358 = _1359;
      var _1902;
      var _1903;
      var _1904;
      var _1905;
      _1905 = (function (_unitVar)
      {
        var _1906;
        var _1907;
        var _1908;
        var _1909;
        _1909 = x;
        var _1910;
        _1910 = y;
        _1908 = Maze__canGoDown$(_1909, _1910);
        if (_1908) 
        {
          var _1917;
          var _1918;
          var _1919;
          var _1920;
          _1920 = 0;
          var _1921;
          _1921 = 1;
          _1919 = (new TupleInt32_Int32(_1920, _1921));
          var _1922;
          var _1923;
          _1923 = x;
          var _1924;
          _1924 = y;
          _1922 = GhostMovement__fillDown$(_1923, _1924);
          _1918 = (new TupleTuple_2_Int32__Int32__Int32(_1919, _1922));
          _1917 = _1918;
          _1907 = Seq__Singleton$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_(_1917);
        }
        else
        {
          _1907 = Seq__Empty$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_();
        };
        _1906 = _1907;
        var _1929;
        var _1930;
        var _1931;
        var _1932;
        _1932 = (function (__unitVar)
        {
          var _1933;
          var _1934;
          var _1935;
          var _1936;
          _1936 = x;
          var _1937;
          _1937 = y;
          _1935 = Maze__canGoRight$(_1936, _1937);
          if (_1935) 
          {
            var _1944;
            var _1945;
            var _1946;
            var _1947;
            _1947 = 1;
            var _1948;
            _1948 = 0;
            _1946 = (new TupleInt32_Int32(_1947, _1948));
            var _1949;
            var _1950;
            _1950 = x;
            var _1951;
            _1951 = y;
            _1949 = GhostMovement__fillRight$(_1950, _1951);
            _1945 = (new TupleTuple_2_Int32__Int32__Int32(_1946, _1949));
            _1944 = _1945;
            _1934 = Seq__Singleton$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_(_1944);
          }
          else
          {
            _1934 = Seq__Empty$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_();
          };
          _1933 = _1934;
          var _1956;
          var _1957;
          var _1958;
          var _1959;
          _1959 = (function (___unitVar)
          {
            var _1960;
            var _1961;
            _1961 = x;
            var _1962;
            _1962 = y;
            _1960 = Maze__canGoUp$(_1961, _1962);
            if (_1960) 
            {
              var _1969;
              var _1970;
              var _1971;
              var _1972;
              _1972 = 0;
              var _1973;
              _1973 = -1;
              _1971 = (new TupleInt32_Int32(_1972, _1973));
              var _1974;
              var _1975;
              _1975 = x;
              var _1976;
              _1976 = y;
              _1974 = GhostMovement__fillUp$(_1975, _1976);
              _1970 = (new TupleTuple_2_Int32__Int32__Int32(_1971, _1974));
              _1969 = _1970;
              return Seq__Singleton$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_(_1969);
            }
            else
            {
              return Seq__Empty$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_();
            };
          });
          _1958 = _1959;
          _1957 = Seq__Delay$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_(_1958);
          _1956 = _1957;
          return Seq__Append$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_(_1933, _1956);
        });
        _1931 = _1932;
        _1930 = Seq__Delay$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_(_1931);
        _1929 = _1930;
        return Seq__Append$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_(_1906, _1929);
      });
      _1904 = _1905;
      _1903 = Seq__Delay$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_(_1904);
      _1902 = _1903;
      return Seq__Append$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_(_1358, _1902);
    });
    _1356 = _1357;
    _1355 = Seq__Delay$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_(_1356);
    _1354 = _1355;
    _1353 = _1354;
    _1352 = Seq__ToArray$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_(_1353);
    var directions = _1352;
    var _2127;
    var _2128;
    var _2129;
    _2129 = ghost;
    _2128 = Ghost__get_IsReturning$(_2129);
    if (_2128) 
    {
      var _2131;
      _2131 = (function (xs)
      {
        var _2132;
        var _2133;
        _2133 = xs;
        var _2134;
        _2134 = 0;
        _2132 = _2133[_2134];
        var __patternInput = _2132;
        var _2135;
        var _2136;
        _2136 = __patternInput;
        _2135 = _2136.Items[0.000000];
        var v = _2135;
        var _2137;
        var _2138;
        _2138 = __patternInput;
        _2137 = _2138.Items[1.000000];
        var n = _2137;
        var _2139;
        var _2140;
        _2140 = n;
        var _2141;
        _2141 = 0;
        _2139 = (_2140 == _2141);
        if (_2139) 
        {
          var _2142;
          _2142 = ghost;
          var _2143;
          _2143 = false;
          Ghost__set_IsReturning$(_2142, _2143);
        }
        else
        {
          ;
        };
        return v;
      });
      var _2146;
      var _2147;
      var _2148;
      _2148 = (function (tuple)
      {
        var _2149;
        _2149 = tuple;
        return _2149.Items[1.000000];
      });
      var projection = _2148;
      _2147 = (function (array)
      {
        var _2150;
        var _2151;
        _2151 = projection;
        _2150 = _2151;
        var _2152;
        var _2153;
        _2153 = array;
        _2152 = _2153;
        return Array__SortBy$Tuple_2_Tuple_2_Int32__Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32__Int32(_2150, _2152);
      });
      var _2168;
      _2168 = directions;
      _2146 = _2147(_2168);
      _2127 = _2131(_2146);
    }
    else
    {
      var _2169;
      _2169 = (function (xs)
      {
        var _2170;
        var _2171;
        var _2172;
        _2172 = Math;
        var _2173;
        var _2174;
        var _2175;
        _2175 = Math;
        _2174 = _2175.random();
        var _2176;
        var _2177;
        var _2178;
        var _2179;
        _2179 = xs;
        _2178 = _2179;
        _2177 = Array__BoxedLength$(_2178);
        _2176 = _2177;
        _2173 = (_2174 * _2176);
        _2171 = _2172.floor(_2173);
        _2170 = _2171;
        var i = _2170;
        var _2180;
        _2180 = xs;
        var _2181;
        _2181 = i;
        return _2180[_2181];
      });
      var _2182;
      var _2183;
      var _2184;
      _2184 = (function (_x)
      {
        var _2185;
        _2185 = (function (value)
        {
          var _2186;
          _2186 = value;
          return (!_2186);
        });
        var _2187;
        var _2188;
        _2188 = isBackwards;
        var _2189;
        _2189 = _x;
        _2187 = _2188(_2189);
        return _2185(_2187);
      });
      var predicate = _2184;
      _2183 = (function (array)
      {
        var _2190;
        var _2191;
        _2191 = predicate;
        _2190 = _2191;
        var _2192;
        var _2193;
        _2193 = array;
        _2192 = _2193;
        return Array__Filter$Tuple_2_Int32__Int32_Tuple_2_Int32__Int32_(_2190, _2192);
      });
      var _2215;
      var _2216;
      var _2217;
      _2217 = (function (tuple)
      {
        var _2218;
        _2218 = tuple;
        return _2218.Items[0.000000];
      });
      var mapping = _2217;
      _2216 = (function (array)
      {
        var _2219;
        var _2220;
        _2220 = mapping;
        _2219 = _2220;
        var _2221;
        var _2222;
        _2222 = array;
        _2221 = _2222;
        return Array__Map$Tuple_2_Tuple_2_Int32__Int32__Int32__Tuple_2_Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32__Tuple_2_Int32__Int32_(_2219, _2221);
      });
      var _2244;
      _2244 = directions;
      _2215 = _2216(_2244);
      _2182 = _2183(_2215);
      _2127 = _2169(_2182);
    };
    var __patternInput = _2127;
    var _2245;
    var _2246;
    _2246 = __patternInput;
    _2245 = _2246.Items[1.000000];
    var _dy = _2245;
    var _2247;
    var _2248;
    _2248 = __patternInput;
    _2247 = _2248.Items[0.000000];
    var _dx = _2247;
    var _2249;
    _2249 = _dx;
    var _2250;
    _2250 = _dy;
    return (new TupleInt32_Int32(_2249, _2250));
  });
  GhostMovement__fillDown$ = (function (x, y)
  {
    var _1925;
    _1925 = x;
    var _1926;
    _1926 = y;
    var _1927;
    _1927 = 0;
    var _1928;
    _1928 = 5;
    return GhostMovement__fillValue$(_1925, _1926, _1927, _1928);
  });
  GhostMovement__fillLeft$ = (function (x, y)
  {
    var _1428;
    _1428 = x;
    var _1429;
    _1429 = y;
    var _1430;
    _1430 = -4;
    var _1431;
    _1431 = 0;
    return GhostMovement__fillValue$(_1428, _1429, _1430, _1431);
  });
  GhostMovement__fillRight$ = (function (x, y)
  {
    var _1952;
    _1952 = x;
    var _1953;
    _1953 = y;
    var _1954;
    _1954 = 5;
    var _1955;
    _1955 = 0;
    return GhostMovement__fillValue$(_1952, _1953, _1954, _1955);
  });
  GhostMovement__fillUp$ = (function (x, y)
  {
    var _1977;
    _1977 = x;
    var _1978;
    _1978 = y;
    var _1979;
    _1979 = 0;
    var _1980;
    _1980 = -4;
    return GhostMovement__fillValue$(_1977, _1978, _1979, _1980);
  });
  GhostMovement__fillValue$ = (function (x, y, ex, ey)
  {
    var _1432;
    var _1433;
    var _1434;
    _1434 = Math;
    var _1435;
    var _1436;
    var _1437;
    var _1438;
    var _1439;
    _1439 = x;
    var _1440;
    _1440 = 6;
    _1438 = (_1439 + _1440);
    var _1441;
    _1441 = ex;
    _1437 = (_1438 + _1441);
    var _1442;
    _1442 = 8;
    _1436 = (_1437 / _1442);
    _1435 = _1436;
    _1433 = _1434.floor(_1435);
    _1432 = _1433;
    var bx = _1432;
    var _1443;
    var _1444;
    var _1445;
    _1445 = Math;
    var _1446;
    var _1447;
    var _1448;
    var _1449;
    var _1450;
    _1450 = y;
    var _1451;
    _1451 = 6;
    _1449 = (_1450 + _1451);
    var _1452;
    _1452 = ey;
    _1448 = (_1449 + _1452);
    var _1453;
    _1453 = 8;
    _1447 = (_1448 / _1453);
    _1446 = _1447;
    _1444 = _1445.floor(_1446);
    _1443 = _1444;
    var by = _1443;
    var _1454;
    var _1455;
    _1455 = GhostMovement__route_home;
    var _1757;
    _1757 = by;
    _1454 = _1455[_1757];
    var _1758;
    _1758 = bx;
    return _1454[_1758];
  });
  GhostMovement__flood$ = (function (canFill, fill, x, y)
  {
    var f;
    var _1578;
    _1578 = (function (n)
    {
      return (function (_arg1)
      {
        var _1579;
        var _1580;
        _1580 = _arg1;
        _1579 = (_1580.Tag == 0.000000);
        if (_1579) 
        {
          ;
        }
        else
        {
          var _1581;
          _1581 = _arg1;
          var ps = _1581;
          var _1582;
          var _1583;
          var _1584;
          _1584 = (function (tupledArg)
          {
            var _1585;
            var _1586;
            _1586 = tupledArg;
            _1585 = _1586.Items[0.000000];
            var _x = _1585;
            var _1587;
            var _1588;
            _1588 = tupledArg;
            _1587 = _1588.Items[1.000000];
            var _y = _1587;
            var _1589;
            _1589 = canFill;
            var _1590;
            var _1591;
            _1591 = _x;
            var _1592;
            _1592 = _y;
            _1590 = (new TupleInt32_Int32(_1591, _1592));
            return _1589(_1590);
          });
          var predicate = _1584;
          _1583 = (function (list)
          {
            var _1593;
            var _1594;
            _1594 = predicate;
            _1593 = _1594;
            var _1595;
            var _1596;
            _1596 = list;
            _1595 = _1596;
            return List__Filter$Tuple_2_Int32__Int32_Tuple_2_Int32__Int32_(_1593, _1595);
          });
          var _1636;
          _1636 = ps;
          _1582 = _1583(_1636);
          var _ps = _1582;
          var _1637;
          var _1638;
          _1638 = (function (tupledArg)
          {
            var _1639;
            var _1640;
            _1640 = tupledArg;
            _1639 = _1640.Items[0.000000];
            var _x = _1639;
            var _1641;
            var _1642;
            _1642 = tupledArg;
            _1641 = _1642.Items[1.000000];
            var _y = _1641;
            var _1643;
            _1643 = fill;
            var _1644;
            var _1645;
            _1645 = _x;
            var _1646;
            _1646 = _y;
            var _1647;
            _1647 = n;
            _1644 = (new TupleInt32_Int32_Int32(_1645, _1646, _1647));
            return _1643(_1644);
          });
          var action = _1638;
          _1637 = (function (list)
          {
            var _1648;
            var _1649;
            _1649 = action;
            _1648 = _1649;
            var _1650;
            var _1651;
            _1651 = list;
            _1650 = _1651;
            return List__Iterate$Tuple_2_Int32__Int32_Tuple_2_Int32__Int32_(_1648, _1650);
          });
          var _1688;
          _1688 = _ps;
          _1637(_1688);
          var _1689;
          var _1690;
          _1690 = f;
          var _1691;
          var _1692;
          _1692 = n;
          var _1693;
          _1693 = 1;
          _1691 = (_1692 + _1693);
          _1689 = _1690(_1691);
          var _1694;
          var _1695;
          var _1696;
          _1696 = (function (tupledArg)
          {
            var _1697;
            var _1698;
            _1698 = tupledArg;
            _1697 = _1698.Items[0.000000];
            var _x = _1697;
            var _1699;
            var _1700;
            _1700 = tupledArg;
            _1699 = _1700.Items[1.000000];
            var _y = _1699;
            var _1701;
            var _1702;
            var _1703;
            var _1704;
            _1704 = _x;
            var _1705;
            _1705 = 1;
            _1703 = (_1704 - _1705);
            var _1706;
            _1706 = _y;
            _1702 = (new TupleInt32_Int32(_1703, _1706));
            _1701 = _1702;
            var _1707;
            var _1708;
            var _1709;
            var _1710;
            var _1711;
            var _1712;
            _1712 = _x;
            var _1713;
            _1713 = 1;
            _1711 = (_1712 + _1713);
            var _1714;
            _1714 = _y;
            _1710 = (new TupleInt32_Int32(_1711, _1714));
            _1709 = _1710;
            var _1715;
            var _1716;
            var _1717;
            var _1718;
            var _1719;
            _1719 = _x;
            var _1720;
            var _1721;
            _1721 = _y;
            var _1722;
            _1722 = 1;
            _1720 = (_1721 - _1722);
            _1718 = (new TupleInt32_Int32(_1719, _1720));
            _1717 = _1718;
            var _1723;
            var _1724;
            var _1725;
            var _1726;
            var _1727;
            _1727 = _x;
            var _1728;
            var _1729;
            _1729 = _y;
            var _1730;
            _1730 = 1;
            _1728 = (_1729 + _1730);
            _1726 = (new TupleInt32_Int32(_1727, _1728));
            _1725 = _1726;
            var _1731;
            var _1732;
            _1732 = List__Empty$Tuple_2_Int32__Int32_Tuple_2_Int32__Int32_();
            _1731 = _1732;
            _1724 = List__CreateCons$Tuple_2_Int32__Int32_Tuple_2_Int32__Int32_(_1725, _1731);
            _1723 = _1724;
            _1716 = List__CreateCons$Tuple_2_Int32__Int32_Tuple_2_Int32__Int32_(_1717, _1723);
            _1715 = _1716;
            _1708 = List__CreateCons$Tuple_2_Int32__Int32_Tuple_2_Int32__Int32_(_1709, _1715);
            _1707 = _1708;
            return List__CreateCons$Tuple_2_Int32__Int32_Tuple_2_Int32__Int32_(_1701, _1707);
          });
          var mapping = _1696;
          _1695 = (function (list)
          {
            var _1733;
            var _1734;
            _1734 = mapping;
            _1733 = _1734;
            var _1735;
            var _1736;
            _1736 = list;
            _1735 = _1736;
            return List__Collect$Tuple_2_Int32__Int32__Tuple_2_Int32__Int32_Tuple_2_Int32__Int32__Tuple_2_Int32__Int32_(_1733, _1735);
          });
          var _1756;
          _1756 = _ps;
          _1694 = _1695(_1756);
          return _1689(_1694);
        };
      });
    });
    f = _1578;
    var _1566;
    var _1567;
    _1567 = f;
    var _1568;
    _1568 = 0;
    _1566 = _1567(_1568);
    var _1569;
    var _1570;
    var _1571;
    var _1572;
    _1572 = x;
    var _1573;
    _1573 = y;
    _1571 = (new TupleInt32_Int32(_1572, _1573));
    _1570 = _1571;
    var _1574;
    var _1575;
    _1575 = List__Empty$Tuple_2_Int32__Int32_Tuple_2_Int32__Int32_();
    _1574 = _1575;
    _1569 = List__CreateCons$Tuple_2_Int32__Int32_Tuple_2_Int32__Int32_(_1570, _1574);
    return _1566(_1569);
  });
  GhostMovement__get_route_home$ = (function ()
  {
    var _1456;
    var _1457;
    var _1458;
    _1458 = (function (line)
    {
      var _1459;
      var _1460;
      _1460 = (function (c)
      {
        var _1461;
        var _1462;
        _1462 = c;
        _1461 = Maze__isWall$(_1462);
        if (_1461) 
        {
          return 999;
        }
        else
        {
          return -1;
        };
      });
      var mapping = _1460;
      _1459 = (function (array)
      {
        var _1463;
        var _1464;
        _1464 = mapping;
        _1463 = _1464;
        var _1465;
        var _1466;
        _1466 = array;
        _1465 = _1466;
        return Array__Map$Char__Int32_Char_Int32(_1463, _1465);
      });
      var _1488;
      var _1489;
      var _1490;
      _1490 = line;
      _1489 = _1490;
      _1488 = String__ToCharArray$(_1489);
      return _1459(_1488);
    });
    var mapping = _1458;
    _1457 = (function (array)
    {
      var _1491;
      var _1492;
      _1492 = mapping;
      _1491 = _1492;
      var _1493;
      var _1494;
      _1494 = array;
      _1493 = _1494;
      return Array__Map$String_1_Int32___String_Int32___(_1491, _1493);
    });
    var _1516;
    _1516 = Program__maze;
    _1456 = _1457(_1516);
    var numbers = _1456;
    var _1517;
    _1517 = (function (tupledArg)
    {
      var _1518;
      var _1519;
      _1519 = tupledArg;
      _1518 = _1519.Items[0.000000];
      var x = _1518;
      var _1520;
      var _1521;
      _1521 = tupledArg;
      _1520 = _1521.Items[1.000000];
      var y = _1520;
      var _1522;
      var _1523;
      var _1524;
      var _1525;
      var _1526;
      _1526 = y;
      var _1527;
      _1527 = 0;
      _1525 = (_1526 >= _1527);
      _1524 = (_1525 && (function ()
      {
        var _1528;
        _1528 = y;
        var _1529;
        var _1530;
        var _1531;
        var _1532;
        _1532 = numbers;
        _1531 = _1532;
        _1530 = Array__BoxedLength$(_1531);
        var _1533;
        _1533 = 1;
        _1529 = (_1530 - _1533);
        return (_1528 < _1529);
      })());
      _1523 = (_1524 && (function ()
      {
        var _1534;
        _1534 = x;
        var _1535;
        _1535 = 0;
        return (_1534 >= _1535);
      })());
      _1522 = (_1523 && (function ()
      {
        var _1536;
        _1536 = x;
        var _1537;
        var _1538;
        var _1539;
        var _1540;
        var _1541;
        _1541 = numbers;
        var _1542;
        _1542 = y;
        _1540 = _1541[_1542];
        _1539 = _1540;
        _1538 = Array__BoxedLength$(_1539);
        var _1543;
        _1543 = 1;
        _1537 = (_1538 - _1543);
        return (_1536 < _1537);
      })());
      return (_1522 && (function ()
      {
        var _1544;
        var _1545;
        var _1546;
        _1546 = numbers;
        var _1547;
        _1547 = y;
        _1545 = _1546[_1547];
        var _1548;
        _1548 = x;
        _1544 = _1545[_1548];
        var _1549;
        _1549 = -1;
        return (_1544 == _1549);
      })());
    });
    var canFill = _1517;
    var _1550;
    _1550 = (function (tupledArg)
    {
      var _1551;
      var _1552;
      _1552 = tupledArg;
      _1551 = _1552.Items[0.000000];
      var x = _1551;
      var _1553;
      var _1554;
      _1554 = tupledArg;
      _1553 = _1554.Items[1.000000];
      var y = _1553;
      var _1555;
      var _1556;
      _1556 = tupledArg;
      _1555 = _1556.Items[2.000000];
      var n = _1555;
      var _1557;
      var _1558;
      _1558 = numbers;
      var _1559;
      _1559 = y;
      _1557 = _1558[_1559];
      var _1560;
      _1560 = x;
      var _1561;
      _1561 = n;
      _1557[_1560] = _1561;
      return null;
    });
    var fill = _1550;
    var _1562;
    _1562 = canFill;
    var _1563;
    _1563 = fill;
    var _1564;
    _1564 = 16;
    var _1565;
    _1565 = 15;
    GhostMovement__flood$(_1562, _1563, _1564, _1565);
    return numbers;
  });
  Ghost__Move$ = (function (ghost, v)
  {
    var _2251;
    _2251 = ghost;
    var _2252;
    _2252 = v;
    _2251.v_ = _2252;
    var _2253;
    var _2254;
    _2254 = v;
    _2253 = _2254.Items[1.000000];
    var dy = _2253;
    var _2255;
    var _2256;
    _2256 = v;
    _2255 = _2256.Items[0.000000];
    var dx = _2255;
    var _2257;
    var _2258;
    var _2259;
    _2259 = ghost;
    _2258 = _2259.x_;
    var _2260;
    var _2261;
    _2261 = ghost;
    _2260 = _2261.y_;
    var _2262;
    _2262 = dx;
    var _2263;
    _2263 = dy;
    _2257 = Program__wrap$(_2258, _2260, _2262, _2263);
    var patternInput = _2257;
    var _2287;
    var _2288;
    _2288 = patternInput;
    _2287 = _2288.Items[1.000000];
    var y = _2287;
    var _2289;
    var _2290;
    _2290 = patternInput;
    _2289 = _2290.Items[0.000000];
    var x = _2289;
    var _2291;
    _2291 = ghost;
    var _2292;
    _2292 = x;
    _2291.x_ = _2292;
    var _2293;
    _2293 = ghost;
    var _2294;
    _2294 = y;
    _2293.y_ = _2294;
  });
  Ghost___ctor$ = (function (image, x, y, v)
  {
    var _1112;
    _1112 = this;
    var _1113;
    _1113 = x;
    _1112.x = _1113;
    var _1114;
    _1114 = this;
    var _1115;
    _1115 = y;
    _1114.y = _1115;
    var _1116;
    _1116 = this;
    var _1117;
    var _1118;
    _1118 = this;
    _1117 = _1118.x;
    _1116.x_ = _1117;
    var _1119;
    _1119 = this;
    var _1120;
    var _1121;
    _1121 = this;
    _1120 = _1121.y;
    _1119.y_ = _1120;
    var _1122;
    _1122 = this;
    var _1123;
    _1123 = v;
    _1122.v_ = _1123;
    var _1124;
    _1124 = this;
    var _1125;
    _1125 = image;
    _1124.Image_ = _1125;
    var _1126;
    _1126 = this;
    var _1127;
    _1127 = false;
    _1126.IsReturning_ = _1127;
  });
  Ghost__get_Image$ = (function (__, unitVar1)
  {
    var _3654;
    _3654 = __;
    return _3654.Image_;
  });
  Ghost__get_IsReturning$ = (function (__, unitVar1)
  {
    var _2130;
    _2130 = __;
    return _2130.IsReturning_;
  });
  Ghost__get_V$ = (function (__, unitVar1)
  {
    var _1329;
    _1329 = __;
    return _1329.v_;
  });
  Ghost__get_X$ = (function (__, unitVar1)
  {
    var _1319;
    _1319 = __;
    return _1319.x_;
  });
  Ghost__get_Y$ = (function (__, unitVar1)
  {
    var _1322;
    _1322 = __;
    return _1322.y_;
  });
  Ghost__set_IsReturning$ = (function (__, v)
  {
    var _2144;
    _2144 = __;
    var _2145;
    _2145 = v;
    _2144.IsReturning_ = _2145;
  });
  Keys__IsPressed$ = (function (keys, keyCode)
  {
    var _2339;
    var _2340;
    _2340 = keyCode;
    _2339 = _2340;
    var _2341;
    var _2342;
    var _2343;
    _2343 = keys;
    _2342 = _2343.keysPressed;
    _2341 = _2342;
    return Set__Contains$Int32_Int32(_2339, _2341);
  });
  Keys__Reset$ = (function (keys, unitVar1)
  {
    var _384;
    _384 = keys;
    var _385;
    _385 = Set__Empty$Int32_Int32();
    _384.keysPressed = _385;
  });
  Keys__Update$Object_Object_ = (function (keys, e, pressed)
  {
    var _21;
    var _22;
    _22 = e;
    _21 = _22;
    var _e = _21;
    var _23;
    var _24;
    var _25;
    _25 = _e;
    _24 = _25.keyCode;
    _23 = _24;
    var keyCode = _23;
    var _26;
    var _27;
    _27 = pressed;
    if (_27) 
    {
      _26 = (function (value)
      {
        return (function (set)
        {
          var _28;
          var _29;
          _29 = value;
          _28 = _29;
          var _30;
          var _31;
          _31 = set;
          _30 = _31;
          return Set__Add$Int32_Int32(_28, _30);
        });
      });
    }
    else
    {
      _26 = (function (value)
      {
        return (function (set)
        {
          var _258;
          var _259;
          _259 = value;
          _258 = _259;
          var _260;
          var _261;
          _261 = set;
          _260 = _261;
          return Set__Remove$Int32_Int32(_258, _260);
        });
      });
    };
    var op = _26;
    var _369;
    _369 = keys;
    var _370;
    var _371;
    var _372;
    _372 = op;
    var _373;
    _373 = keyCode;
    _371 = _372(_373);
    var _374;
    var _375;
    _375 = keys;
    _374 = _375.keysPressed;
    _370 = _371(_374);
    _369.keysPressed = _370;
  });
  Keys___ctor$ = (function (unitVar0)
  {
    var _2;
    _2 = this;
    var _3;
    _3 = Set__Empty$Int32_Int32();
    _2.keysPressed = _3;
  });
  List__Append$Tuple_2_Int32__Int32_Tuple_2_Int32__Int32_ = (function (xs, ys)
  {
    var _1742;
    _1742 = (function (acc)
    {
      return (function (x)
      {
        var _1743;
        _1743 = x;
        var _1744;
        _1744 = acc;
        return (new list_1_Tuple_2_Int32__Int32__ConsTuple_2_Int32__Int32_(_1743, _1744));
      });
    });
    var _1745;
    _1745 = ys;
    var _1746;
    var _1747;
    _1747 = xs;
    _1746 = List__Reverse$Tuple_2_Int32__Int32_Tuple_2_Int32__Int32_(_1747);
    return List__Fold$Tuple_2_Int32__Int32__list_1_Tuple_2_Int32__Int32_Tuple_2_Int32__Int32__list_1_Tuple_2_Int32__Int32_(_1742, _1745, _1746);
  });
  List__Collect$Tuple_2_Int32__Int32__Tuple_2_Int32__Int32_Tuple_2_Int32__Int32__Tuple_2_Int32__Int32_ = (function (f, xs)
  {
    var _1737;
    _1737 = (function (acc)
    {
      return (function (x)
      {
        var _1738;
        var _1739;
        _1739 = f;
        var _1740;
        _1740 = x;
        _1738 = _1739(_1740);
        var _1741;
        _1741 = acc;
        return List__Append$Tuple_2_Int32__Int32_Tuple_2_Int32__Int32_(_1738, _1741);
      });
    });
    var _1753;
    _1753 = (new list_1_Tuple_2_Int32__Int32__NilTuple_2_Int32__Int32_());
    var _1754;
    var _1755;
    _1755 = xs;
    _1754 = List__Reverse$Tuple_2_Int32__Int32_Tuple_2_Int32__Int32_(_1755);
    return List__Fold$Tuple_2_Int32__Int32__list_1_Tuple_2_Int32__Int32_Tuple_2_Int32__Int32__list_1_Tuple_2_Int32__Int32_(_1737, _1753, _1754);
  });
  List__CreateCons$Tuple_2_Int32__Int32_Tuple_2_Int32__Int32_ = (function (x, xs)
  {
    var _1576;
    _1576 = x;
    var _1577;
    _1577 = xs;
    return (new list_1_Tuple_2_Int32__Int32__ConsTuple_2_Int32__Int32_(_1576, _1577));
  });
  List__CreateCons$Tuple_2_Int32__Tuple_3_Object__Int32__Int32_Tuple_2_Int32__Tuple_3_Object__Int32__Int32_ = (function (x, xs)
  {
    var _3228;
    _3228 = x;
    var _3229;
    _3229 = xs;
    return (new list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__ConsTuple_2_Int32__Tuple_3_Object__Int32__Int32_(_3228, _3229));
  });
  List__Empty$Tuple_2_Int32__Int32_Tuple_2_Int32__Int32_ = (function ()
  {
    return (new list_1_Tuple_2_Int32__Int32__NilTuple_2_Int32__Int32_());
  });
  List__Empty$Tuple_2_Int32__Tuple_3_Object__Int32__Int32_Tuple_2_Int32__Tuple_3_Object__Int32__Int32_ = (function ()
  {
    return (new list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__NilTuple_2_Int32__Tuple_3_Object__Int32__Int32_());
  });
  List__Filter$Tuple_2_Int32__Int32_Tuple_2_Int32__Int32_ = (function (f, xs)
  {
    var _1597;
    _1597 = (function (acc)
    {
      return (function (x)
      {
        var _1598;
        var _1599;
        _1599 = f;
        var _1600;
        _1600 = x;
        _1598 = _1599(_1600);
        if (_1598) 
        {
          var _1601;
          _1601 = x;
          var _1602;
          _1602 = acc;
          return (new list_1_Tuple_2_Int32__Int32__ConsTuple_2_Int32__Int32_(_1601, _1602));
        }
        else
        {
          return acc;
        };
      });
    });
    var _1603;
    _1603 = (new list_1_Tuple_2_Int32__Int32__NilTuple_2_Int32__Int32_());
    var _1604;
    _1604 = xs;
    return List__Fold$Tuple_2_Int32__Int32__list_1_Tuple_2_Int32__Int32_Tuple_2_Int32__Int32__list_1_Tuple_2_Int32__Int32_(_1597, _1603, _1604);
  });
  List__Fold$Tuple_2_Int32__Int32__Unit_Tuple_2_Int32__Int32__Unit_ = (function (f, seed, xs)
  {
    var _1657;
    _1657 = (function (_arg1)
    {
      return (function (acc)
      {
        return (function (x)
        {
          var _1658;
          var _1659;
          _1659 = f;
          var _1660;
          _1660 = acc;
          _1658 = _1659(_1660);
          var _1661;
          _1661 = x;
          return _1658(_1661);
        });
      });
    });
    var _1662;
    _1662 = seed;
    var _1663;
    _1663 = xs;
    return List__FoldIndexed$Tuple_2_Int32__Int32__Unit_Tuple_2_Int32__Int32__Unit_(_1657, _1662, _1663);
  });
  List__Fold$Tuple_2_Int32__Int32__list_1_Tuple_2_Int32__Int32_Tuple_2_Int32__Int32__list_1_Tuple_2_Int32__Int32_ = (function (f, seed, xs)
  {
    var _1605;
    _1605 = (function (_arg1)
    {
      return (function (acc)
      {
        return (function (x)
        {
          var _1606;
          var _1607;
          _1607 = f;
          var _1608;
          _1608 = acc;
          _1606 = _1607(_1608);
          var _1609;
          _1609 = x;
          return _1606(_1609);
        });
      });
    });
    var _1610;
    _1610 = seed;
    var _1611;
    _1611 = xs;
    return List__FoldIndexed$Tuple_2_Int32__Int32__list_1_Tuple_2_Int32__Int32_Tuple_2_Int32__Int32__list_1_Tuple_2_Int32__Int32_(_1605, _1610, _1611);
  });
  List__Fold$Tuple_2_Int32__Tuple_3_Object__Int32__Int32__Tuple_2_list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__Tuple_2_list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32_ = (function (f, seed, xs)
  {
    var _3351;
    _3351 = (function (_arg1)
    {
      return (function (acc)
      {
        return (function (x)
        {
          var _3352;
          var _3353;
          _3353 = f;
          var _3354;
          _3354 = acc;
          _3352 = _3353(_3354);
          var _3355;
          _3355 = x;
          return _3352(_3355);
        });
      });
    });
    var _3356;
    _3356 = seed;
    var _3357;
    _3357 = xs;
    return List__FoldIndexed$Tuple_2_Int32__Tuple_3_Object__Int32__Int32__Tuple_2_list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__Tuple_2_list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32_(_3351, _3356, _3357);
  });
  List__Fold$Tuple_2_Int32__Tuple_3_Object__Int32__Int32__Unit_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__Unit_ = (function (f, seed, xs)
  {
    var _3726;
    _3726 = (function (_arg1)
    {
      return (function (acc)
      {
        return (function (x)
        {
          var _3727;
          var _3728;
          _3728 = f;
          var _3729;
          _3729 = acc;
          _3727 = _3728(_3729);
          var _3730;
          _3730 = x;
          return _3727(_3730);
        });
      });
    });
    var _3731;
    _3731 = seed;
    var _3732;
    _3732 = xs;
    return List__FoldIndexed$Tuple_2_Int32__Tuple_3_Object__Int32__Int32__Unit_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__Unit_(_3726, _3731, _3732);
  });
  List__Fold$Tuple_2_Int32__Tuple_3_Object__Int32__Int32__list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32_ = (function (f, seed, xs)
  {
    var _3404;
    _3404 = (function (_arg1)
    {
      return (function (acc)
      {
        return (function (x)
        {
          var _3405;
          var _3406;
          _3406 = f;
          var _3407;
          _3407 = acc;
          _3405 = _3406(_3407);
          var _3408;
          _3408 = x;
          return _3405(_3408);
        });
      });
    });
    var _3409;
    _3409 = seed;
    var _3410;
    _3410 = xs;
    return List__FoldIndexed$Tuple_2_Int32__Tuple_3_Object__Int32__Int32__list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32_(_3404, _3409, _3410);
  });
  List__FoldIndexed$Tuple_2_Int32__Int32__Unit_Tuple_2_Int32__Int32__Unit_ = (function (f, seed, xs)
  {
    var _1664;
    _1664 = f;
    var _1665;
    _1665 = 0;
    var _1666;
    _1666 = seed;
    var _1667;
    _1667 = xs;
    return List__FoldIndexedAux$Unit__Tuple_2_Int32__Int32_Unit__Tuple_2_Int32__Int32_(_1664, _1665, _1666, _1667);
  });
  List__FoldIndexed$Tuple_2_Int32__Int32__list_1_Tuple_2_Int32__Int32_Tuple_2_Int32__Int32__list_1_Tuple_2_Int32__Int32_ = (function (f, seed, xs)
  {
    var _1612;
    _1612 = f;
    var _1613;
    _1613 = 0;
    var _1614;
    _1614 = seed;
    var _1615;
    _1615 = xs;
    return List__FoldIndexedAux$list_1_Tuple_2_Int32__Int32__Tuple_2_Int32__Int32_list_1_Tuple_2_Int32__Int32__Tuple_2_Int32__Int32_(_1612, _1613, _1614, _1615);
  });
  List__FoldIndexed$Tuple_2_Int32__Tuple_3_Object__Int32__Int32__Tuple_2_list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__Tuple_2_list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32_ = (function (f, seed, xs)
  {
    var _3358;
    _3358 = f;
    var _3359;
    _3359 = 0;
    var _3360;
    _3360 = seed;
    var _3361;
    _3361 = xs;
    return List__FoldIndexedAux$Tuple_2_list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__Tuple_2_Int32__Tuple_3_Object__Int32__Int32_Tuple_2_list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__Tuple_2_Int32__Tuple_3_Object__Int32__Int32_(_3358, _3359, _3360, _3361);
  });
  List__FoldIndexed$Tuple_2_Int32__Tuple_3_Object__Int32__Int32__Unit_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__Unit_ = (function (f, seed, xs)
  {
    var _3733;
    _3733 = f;
    var _3734;
    _3734 = 0;
    var _3735;
    _3735 = seed;
    var _3736;
    _3736 = xs;
    return List__FoldIndexedAux$Unit__Tuple_2_Int32__Tuple_3_Object__Int32__Int32_Unit__Tuple_2_Int32__Tuple_3_Object__Int32__Int32_(_3733, _3734, _3735, _3736);
  });
  List__FoldIndexed$Tuple_2_Int32__Tuple_3_Object__Int32__Int32__list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32_ = (function (f, seed, xs)
  {
    var _3411;
    _3411 = f;
    var _3412;
    _3412 = 0;
    var _3413;
    _3413 = seed;
    var _3414;
    _3414 = xs;
    return List__FoldIndexedAux$list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__Tuple_2_Int32__Tuple_3_Object__Int32__Int32_list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__Tuple_2_Int32__Tuple_3_Object__Int32__Int32_(_3411, _3412, _3413, _3414);
  });
  List__FoldIndexedAux$Tuple_2_list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__Tuple_2_Int32__Tuple_3_Object__Int32__Int32_Tuple_2_list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__Tuple_2_Int32__Tuple_3_Object__Int32__Int32_ = (function (f, i, acc, _arg1)
  {
    var _3362;
    var _3363;
    _3363 = _arg1;
    _3362 = (_3363.Tag == 1.000000);
    if (_3362) 
    {
      var _3364;
      var _3366;
      _3366 = _arg1;
      _3364 = _3366.Item2;
      var xs = _3364;
      var _3367;
      var _3369;
      _3369 = _arg1;
      _3367 = _3369.Item1;
      var x = _3367;
      var _3370;
      _3370 = f;
      var _3371;
      var _3372;
      _3372 = i;
      var _3373;
      _3373 = 1;
      _3371 = (_3372 + _3373);
      var _3374;
      var _3375;
      var _3376;
      var _3377;
      _3377 = f;
      var _3378;
      _3378 = i;
      _3376 = _3377(_3378);
      var _3379;
      _3379 = acc;
      _3375 = _3376(_3379);
      var _3380;
      _3380 = x;
      _3374 = _3375(_3380);
      var _3381;
      _3381 = xs;
      return List__FoldIndexedAux$Tuple_2_list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__Tuple_2_Int32__Tuple_3_Object__Int32__Int32_Tuple_2_list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__Tuple_2_Int32__Tuple_3_Object__Int32__Int32_(_3370, _3371, _3374, _3381);
    }
    else
    {
      return acc;
    };
  });
  List__FoldIndexedAux$Unit__Tuple_2_Int32__Int32_Unit__Tuple_2_Int32__Int32_ = (function (f, i, acc, _arg1)
  {
    var _1668;
    var _1669;
    _1669 = _arg1;
    _1668 = (_1669.Tag == 1.000000);
    if (_1668) 
    {
      var _1670;
      var _1672;
      _1672 = _arg1;
      _1670 = _1672.Item2;
      var xs = _1670;
      var _1673;
      var _1675;
      _1675 = _arg1;
      _1673 = _1675.Item1;
      var x = _1673;
      var _1676;
      _1676 = f;
      var _1677;
      var _1678;
      _1678 = i;
      var _1679;
      _1679 = 1;
      _1677 = (_1678 + _1679);
      var _1680;
      var _1681;
      var _1682;
      var _1683;
      _1683 = f;
      var _1684;
      _1684 = i;
      _1682 = _1683(_1684);
      var _1685;
      _1685 = acc;
      _1681 = _1682(_1685);
      var _1686;
      _1686 = x;
      _1680 = _1681(_1686);
      var _1687;
      _1687 = xs;
      return List__FoldIndexedAux$Unit__Tuple_2_Int32__Int32_Unit__Tuple_2_Int32__Int32_(_1676, _1677, _1680, _1687);
    }
    else
    {
      return acc;
    };
  });
  List__FoldIndexedAux$Unit__Tuple_2_Int32__Tuple_3_Object__Int32__Int32_Unit__Tuple_2_Int32__Tuple_3_Object__Int32__Int32_ = (function (f, i, acc, _arg1)
  {
    var _3737;
    var _3738;
    _3738 = _arg1;
    _3737 = (_3738.Tag == 1.000000);
    if (_3737) 
    {
      var _3739;
      var _3741;
      _3741 = _arg1;
      _3739 = _3741.Item2;
      var xs = _3739;
      var _3742;
      var _3744;
      _3744 = _arg1;
      _3742 = _3744.Item1;
      var x = _3742;
      var _3745;
      _3745 = f;
      var _3746;
      var _3747;
      _3747 = i;
      var _3748;
      _3748 = 1;
      _3746 = (_3747 + _3748);
      var _3749;
      var _3750;
      var _3751;
      var _3752;
      _3752 = f;
      var _3753;
      _3753 = i;
      _3751 = _3752(_3753);
      var _3754;
      _3754 = acc;
      _3750 = _3751(_3754);
      var _3755;
      _3755 = x;
      _3749 = _3750(_3755);
      var _3756;
      _3756 = xs;
      return List__FoldIndexedAux$Unit__Tuple_2_Int32__Tuple_3_Object__Int32__Int32_Unit__Tuple_2_Int32__Tuple_3_Object__Int32__Int32_(_3745, _3746, _3749, _3756);
    }
    else
    {
      return acc;
    };
  });
  List__FoldIndexedAux$list_1_Tuple_2_Int32__Int32__Tuple_2_Int32__Int32_list_1_Tuple_2_Int32__Int32__Tuple_2_Int32__Int32_ = (function (f, i, acc, _arg1)
  {
    var _1616;
    var _1617;
    _1617 = _arg1;
    _1616 = (_1617.Tag == 1.000000);
    if (_1616) 
    {
      var _1618;
      var _1620;
      _1620 = _arg1;
      _1618 = _1620.Item2;
      var xs = _1618;
      var _1621;
      var _1623;
      _1623 = _arg1;
      _1621 = _1623.Item1;
      var x = _1621;
      var _1624;
      _1624 = f;
      var _1625;
      var _1626;
      _1626 = i;
      var _1627;
      _1627 = 1;
      _1625 = (_1626 + _1627);
      var _1628;
      var _1629;
      var _1630;
      var _1631;
      _1631 = f;
      var _1632;
      _1632 = i;
      _1630 = _1631(_1632);
      var _1633;
      _1633 = acc;
      _1629 = _1630(_1633);
      var _1634;
      _1634 = x;
      _1628 = _1629(_1634);
      var _1635;
      _1635 = xs;
      return List__FoldIndexedAux$list_1_Tuple_2_Int32__Int32__Tuple_2_Int32__Int32_list_1_Tuple_2_Int32__Int32__Tuple_2_Int32__Int32_(_1624, _1625, _1628, _1635);
    }
    else
    {
      return acc;
    };
  });
  List__FoldIndexedAux$list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__Tuple_2_Int32__Tuple_3_Object__Int32__Int32_list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__Tuple_2_Int32__Tuple_3_Object__Int32__Int32_ = (function (f, i, acc, _arg1)
  {
    var _3415;
    var _3416;
    _3416 = _arg1;
    _3415 = (_3416.Tag == 1.000000);
    if (_3415) 
    {
      var _3417;
      var _3419;
      _3419 = _arg1;
      _3417 = _3419.Item2;
      var xs = _3417;
      var _3420;
      var _3422;
      _3422 = _arg1;
      _3420 = _3422.Item1;
      var x = _3420;
      var _3423;
      _3423 = f;
      var _3424;
      var _3425;
      _3425 = i;
      var _3426;
      _3426 = 1;
      _3424 = (_3425 + _3426);
      var _3427;
      var _3428;
      var _3429;
      var _3430;
      _3430 = f;
      var _3431;
      _3431 = i;
      _3429 = _3430(_3431);
      var _3432;
      _3432 = acc;
      _3428 = _3429(_3432);
      var _3433;
      _3433 = x;
      _3427 = _3428(_3433);
      var _3434;
      _3434 = xs;
      return List__FoldIndexedAux$list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__Tuple_2_Int32__Tuple_3_Object__Int32__Int32_list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__Tuple_2_Int32__Tuple_3_Object__Int32__Int32_(_3423, _3424, _3427, _3434);
    }
    else
    {
      return acc;
    };
  });
  List__Iterate$Tuple_2_Int32__Int32_Tuple_2_Int32__Int32_ = (function (f, xs)
  {
    var _1652;
    _1652 = (function (unitVar0)
    {
      return (function (x)
      {
        var _1653;
        _1653 = f;
        var _1654;
        _1654 = x;
        return _1653(_1654);
      });
    });
    var _1655;
    var _1656;
    _1656 = xs;
    return List__Fold$Tuple_2_Int32__Int32__Unit_Tuple_2_Int32__Int32__Unit_(_1652, _1655, _1656);
  });
  List__Iterate$Tuple_2_Int32__Tuple_3_Object__Int32__Int32_Tuple_2_Int32__Tuple_3_Object__Int32__Int32_ = (function (f, xs)
  {
    var _3721;
    _3721 = (function (unitVar0)
    {
      return (function (x)
      {
        var _3722;
        _3722 = f;
        var _3723;
        _3723 = x;
        return _3722(_3723);
      });
    });
    var _3724;
    var _3725;
    _3725 = xs;
    return List__Fold$Tuple_2_Int32__Tuple_3_Object__Int32__Int32__Unit_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__Unit_(_3721, _3724, _3725);
  });
  List__Map$Tuple_2_Int32__Tuple_3_Object__Int32__Int32__Tuple_2_Int32__Tuple_3_Object__Int32__Int32_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__Tuple_2_Int32__Tuple_3_Object__Int32__Int32_ = (function (f, xs)
  {
    var _3397;
    _3397 = (function (_xs)
    {
      var _3398;
      _3398 = _xs;
      return List__Reverse$Tuple_2_Int32__Tuple_3_Object__Int32__Int32_Tuple_2_Int32__Tuple_3_Object__Int32__Int32_(_3398);
    });
    var _3435;
    var _3436;
    _3436 = (function (acc)
    {
      return (function (x)
      {
        var _3437;
        var _3438;
        _3438 = f;
        var _3439;
        _3439 = x;
        _3437 = _3438(_3439);
        var _3440;
        _3440 = acc;
        return (new list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__ConsTuple_2_Int32__Tuple_3_Object__Int32__Int32_(_3437, _3440));
      });
    });
    var _3441;
    _3441 = (new list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__NilTuple_2_Int32__Tuple_3_Object__Int32__Int32_());
    var _3442;
    _3442 = xs;
    _3435 = List__Fold$Tuple_2_Int32__Tuple_3_Object__Int32__Int32__list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32_(_3436, _3441, _3442);
    return _3397(_3435);
  });
  List__Partition$Tuple_2_Int32__Tuple_3_Object__Int32__Int32_Tuple_2_Int32__Tuple_3_Object__Int32__Int32_ = (function (f, xs)
  {
    var _3331;
    _3331 = (function (tupledArg)
    {
      var _3332;
      var _3333;
      _3333 = tupledArg;
      _3332 = _3333.Items[0.000000];
      var lacc = _3332;
      var _3334;
      var _3335;
      _3335 = tupledArg;
      _3334 = _3335.Items[1.000000];
      var racc = _3334;
      return (function (x)
      {
        var _3336;
        var _3337;
        _3337 = f;
        var _3338;
        _3338 = x;
        _3336 = _3337(_3338);
        if (_3336) 
        {
          var _3339;
          var _3340;
          _3340 = x;
          var _3341;
          _3341 = lacc;
          _3339 = (new list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__ConsTuple_2_Int32__Tuple_3_Object__Int32__Int32_(_3340, _3341));
          var _3342;
          _3342 = racc;
          return (new Tuplelist_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32_(_3339, _3342));
        }
        else
        {
          var _3343;
          _3343 = lacc;
          var _3344;
          var _3345;
          _3345 = x;
          var _3346;
          _3346 = racc;
          _3344 = (new list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__ConsTuple_2_Int32__Tuple_3_Object__Int32__Int32_(_3345, _3346));
          return (new Tuplelist_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32_(_3343, _3344));
        };
      });
    });
    var _3347;
    var _3348;
    _3348 = (new list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__NilTuple_2_Int32__Tuple_3_Object__Int32__Int32_());
    var _3349;
    _3349 = (new list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__NilTuple_2_Int32__Tuple_3_Object__Int32__Int32_());
    _3347 = (new Tuplelist_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32_(_3348, _3349));
    var _3350;
    _3350 = xs;
    return List__Fold$Tuple_2_Int32__Tuple_3_Object__Int32__Int32__Tuple_2_list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__Tuple_2_list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32_(_3331, _3347, _3350);
  });
  List__Reverse$Tuple_2_Int32__Int32_Tuple_2_Int32__Int32_ = (function (xs)
  {
    var _1748;
    _1748 = (function (acc)
    {
      return (function (x)
      {
        var _1749;
        _1749 = x;
        var _1750;
        _1750 = acc;
        return (new list_1_Tuple_2_Int32__Int32__ConsTuple_2_Int32__Int32_(_1749, _1750));
      });
    });
    var _1751;
    _1751 = (new list_1_Tuple_2_Int32__Int32__NilTuple_2_Int32__Int32_());
    var _1752;
    _1752 = xs;
    return List__Fold$Tuple_2_Int32__Int32__list_1_Tuple_2_Int32__Int32_Tuple_2_Int32__Int32__list_1_Tuple_2_Int32__Int32_(_1748, _1751, _1752);
  });
  List__Reverse$Tuple_2_Int32__Tuple_3_Object__Int32__Int32_Tuple_2_Int32__Tuple_3_Object__Int32__Int32_ = (function (xs)
  {
    var _3399;
    _3399 = (function (acc)
    {
      return (function (x)
      {
        var _3400;
        _3400 = x;
        var _3401;
        _3401 = acc;
        return (new list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__ConsTuple_2_Int32__Tuple_3_Object__Int32__Int32_(_3400, _3401));
      });
    });
    var _3402;
    _3402 = (new list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__NilTuple_2_Int32__Tuple_3_Object__Int32__Int32_());
    var _3403;
    _3403 = xs;
    return List__Fold$Tuple_2_Int32__Tuple_3_Object__Int32__Int32__list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32_(_3399, _3402, _3403);
  });
  Maze__canGoDown$ = (function (x, y)
  {
    var _1911;
    var _1912;
    _1912 = x;
    _1911 = Maze__isAligned$(_1912);
    return (_1911 && (function ()
    {
      var _1913;
      _1913 = x;
      var _1914;
      _1914 = y;
      var _1915;
      _1915 = 0;
      var _1916;
      _1916 = 5;
      return Maze__noWall$(_1913, _1914, _1915, _1916);
    })());
  });
  Maze__canGoLeft$ = (function (x, y)
  {
    var _1363;
    var _1364;
    _1364 = y;
    _1363 = Maze__isAligned$(_1364);
    return (_1363 && (function ()
    {
      var _1369;
      _1369 = x;
      var _1370;
      _1370 = y;
      var _1371;
      _1371 = -4;
      var _1372;
      _1372 = 0;
      return Maze__noWall$(_1369, _1370, _1371, _1372);
    })());
  });
  Maze__canGoRight$ = (function (x, y)
  {
    var _1938;
    var _1939;
    _1939 = y;
    _1938 = Maze__isAligned$(_1939);
    return (_1938 && (function ()
    {
      var _1940;
      _1940 = x;
      var _1941;
      _1941 = y;
      var _1942;
      _1942 = 5;
      var _1943;
      _1943 = 0;
      return Maze__noWall$(_1940, _1941, _1942, _1943);
    })());
  });
  Maze__canGoUp$ = (function (x, y)
  {
    var _1963;
    var _1964;
    _1964 = x;
    _1963 = Maze__isAligned$(_1964);
    return (_1963 && (function ()
    {
      var _1965;
      _1965 = x;
      var _1966;
      _1966 = y;
      var _1967;
      _1967 = 0;
      var _1968;
      _1968 = -4;
      return Maze__noWall$(_1965, _1966, _1967, _1968);
    })());
  });
  Maze__isAligned$ = (function (n)
  {
    var _1365;
    var _1366;
    _1366 = n;
    var _1367;
    _1367 = 8;
    _1365 = (_1366 % _1367);
    var _1368;
    _1368 = 5;
    return (_1365 == _1368);
  });
  Maze__isWall$ = (function (c)
  {
    var _1399;
    var _1400;
    var _1401;
    _1401 = "_|!/7LJ-";
    _1400 = _1401;
    var _1402;
    var _1403;
    _1403 = c;
    _1402 = _1403;
    _1399 = String__IndexOf$(_1400, _1402);
    var _1404;
    _1404 = -1;
    return (_1399 != _1404);
  });
  Maze__isWallAt$ = (function (x, y)
  {
    var _1397;
    _1397 = (function (c)
    {
      var _1398;
      _1398 = c;
      return Maze__isWall$(_1398);
    });
    var _1405;
    var _1406;
    _1406 = x;
    var _1407;
    _1407 = y;
    _1405 = Maze__tileAt$(_1406, _1407);
    return _1397(_1405);
  });
  Maze__noWall$ = (function (x, y, ex, ey)
  {
    var _1373;
    var _1374;
    var _1375;
    var _1376;
    var _1377;
    _1377 = x;
    var _1378;
    _1378 = 6;
    _1376 = (_1377 + _1378);
    var _1379;
    _1379 = ex;
    _1375 = (_1376 + _1379);
    var _1380;
    _1380 = 3;
    _1374 = (_1375 >> _1380);
    var _1381;
    var _1382;
    var _1383;
    var _1384;
    _1384 = y;
    var _1385;
    _1385 = 6;
    _1383 = (_1384 + _1385);
    var _1386;
    _1386 = ey;
    _1382 = (_1383 + _1386);
    var _1387;
    _1387 = 3;
    _1381 = (_1382 >> _1387);
    _1373 = (new TupleInt32_Int32(_1374, _1381));
    var patternInput = _1373;
    var _1388;
    var _1389;
    _1389 = patternInput;
    _1388 = _1389.Items[1.000000];
    var by = _1388;
    var _1390;
    var _1391;
    _1391 = patternInput;
    _1390 = _1391.Items[0.000000];
    var bx = _1390;
    var _1392;
    _1392 = (function (value)
    {
      var _1393;
      _1393 = value;
      return (!_1393);
    });
    var _1394;
    var _1395;
    _1395 = bx;
    var _1396;
    _1396 = by;
    _1394 = Maze__isWallAt$(_1395, _1396);
    return _1392(_1394);
  });
  Maze__tileAt$ = (function (x, y)
  {
    var _1408;
    var _1409;
    var _1410;
    _1410 = x;
    var _1411;
    _1411 = 0;
    _1409 = (_1410 < _1411);
    _1408 = (_1409 || (function ()
    {
      var _1412;
      _1412 = x;
      var _1413;
      _1413 = 30;
      return (_1412 > _1413);
    })());
    if (_1408) 
    {
      return " ";
    }
    else
    {
      var _1414;
      var _1415;
      var _1416;
      _1416 = Program__maze;
      var _1417;
      _1417 = y;
      _1415 = _1416[_1417];
      _1414 = _1415;
      var _1418;
      var _1419;
      _1419 = x;
      _1418 = _1419;
      return String__CharAt$(_1414, _1418);
    };
  });
  Option__IsSome$Boolean_Boolean = (function (option)
  {
    var _1878;
    var _1879;
    _1879 = option;
    _1878 = (_1879.Tag == 1.000000);
    var _1880;
    _1880 = true;
    return (_1878 && _1880);
  });
  Option__IsSome$FSharpOption_1_Tuple_2_Boolean__Tuple_2_Int32__Int32_FSharpOption_1_Tuple_2_Boolean__Tuple_2_Int32__Int32_ = (function (option)
  {
    var _2447;
    var _2448;
    _2448 = option;
    _2447 = (_2448.Tag == 1.000000);
    var _2449;
    _2449 = true;
    return (_2447 && _2449);
  });
  Option__IsSome$FSharpOption_1_Tuple_2_Tuple_2_Int32__Int32__Int32_FSharpOption_1_Tuple_2_Tuple_2_Int32__Int32__Int32_ = (function (option)
  {
    var _1806;
    var _1807;
    _1807 = option;
    _1806 = (_1807.Tag == 1.000000);
    var _1808;
    _1808 = true;
    return (_1806 && _1808);
  });
  Option__IsSome$Int32_Int32 = (function (option)
  {
    var _551;
    var _552;
    _552 = option;
    _551 = (_552.Tag == 1.000000);
    var _553;
    _553 = true;
    return (_551 && _553);
  });
  Option__IsSome$Tuple_2_IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32_ = (function (option)
  {
    var _2685;
    var _2686;
    _2686 = option;
    _2685 = (_2686.Tag == 1.000000);
    var _2687;
    _2687 = true;
    return (_2685 && _2687);
  });
  Option__IsSome$Tuple_2_IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32__IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32__IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32_ = (function (option)
  {
    var _2065;
    var _2066;
    _2066 = option;
    _2065 = (_2066.Tag == 1.000000);
    var _2067;
    _2067 = true;
    return (_2065 && _2067);
  });
  Pacman__ImageAt$ = (function (__, x, y, v)
  {
    var _3488;
    var _3489;
    var _3491;
    _3491 = v;
    _3489 = _3491.contents;
    var matchValue = _3489;
    var _3492;
    var _3493;
    var _3494;
    _3494 = matchValue;
    _3493 = _3494.Items[0.000000];
    var _3495;
    _3495 = -1;
    _3492 = (_3493 == _3495);
    if (_3492) 
    {
      var _3496;
      var _3497;
      var _3498;
      _3498 = matchValue;
      _3497 = _3498.Items[1.000000];
      var _3499;
      _3499 = 0;
      _3496 = (_3497 == _3499);
      if (_3496) 
      {
        var _3500;
        var _3501;
        _3501 = __;
        _3500 = _3501.pl1;
        var _3502;
        var _3503;
        _3503 = __;
        _3502 = _3503.pl2;
        _3488 = (new TupleObject__Object_(_3500, _3502));
      }
      else
      {
        var _3504;
        var _3507;
        var _3508;
        _3508 = __;
        _3507 = _3508.lastp;
        _3504 = _3507.contents;
        var _3509;
        var _3512;
        var _3513;
        _3513 = __;
        _3512 = _3513.lastp;
        _3509 = _3512.contents;
        _3488 = (new TupleObject__Object_(_3504, _3509));
      };
    }
    else
    {
      var _3514;
      var _3515;
      var _3516;
      _3516 = matchValue;
      _3515 = _3516.Items[0.000000];
      var _3517;
      _3517 = 0;
      _3514 = (_3515 == _3517);
      if (_3514) 
      {
        var _3518;
        var _3519;
        var _3520;
        _3520 = matchValue;
        _3519 = _3520.Items[1.000000];
        var _3521;
        _3521 = -1;
        _3518 = (_3519 == _3521);
        if (_3518) 
        {
          var _3522;
          var _3523;
          _3523 = __;
          _3522 = _3523.pu1;
          var _3524;
          var _3525;
          _3525 = __;
          _3524 = _3525.pu2;
          _3488 = (new TupleObject__Object_(_3522, _3524));
        }
        else
        {
          var _3526;
          var _3527;
          var _3528;
          _3528 = matchValue;
          _3527 = _3528.Items[1.000000];
          var _3529;
          _3529 = 1;
          _3526 = (_3527 == _3529);
          if (_3526) 
          {
            var _3530;
            var _3531;
            _3531 = __;
            _3530 = _3531.pd1;
            var _3532;
            var _3533;
            _3533 = __;
            _3532 = _3533.pd2;
            _3488 = (new TupleObject__Object_(_3530, _3532));
          }
          else
          {
            var _3534;
            var _3537;
            var _3538;
            _3538 = __;
            _3537 = _3538.lastp;
            _3534 = _3537.contents;
            var _3539;
            var _3542;
            var _3543;
            _3543 = __;
            _3542 = _3543.lastp;
            _3539 = _3542.contents;
            _3488 = (new TupleObject__Object_(_3534, _3539));
          };
        };
      }
      else
      {
        var _3544;
        var _3545;
        var _3546;
        _3546 = matchValue;
        _3545 = _3546.Items[0.000000];
        var _3547;
        _3547 = 1;
        _3544 = (_3545 == _3547);
        if (_3544) 
        {
          var _3548;
          var _3549;
          var _3550;
          _3550 = matchValue;
          _3549 = _3550.Items[1.000000];
          var _3551;
          _3551 = 0;
          _3548 = (_3549 == _3551);
          if (_3548) 
          {
            var _3552;
            var _3553;
            _3553 = __;
            _3552 = _3553.pr1;
            var _3554;
            var _3555;
            _3555 = __;
            _3554 = _3555.pr2;
            _3488 = (new TupleObject__Object_(_3552, _3554));
          }
          else
          {
            var _3556;
            var _3559;
            var _3560;
            _3560 = __;
            _3559 = _3560.lastp;
            _3556 = _3559.contents;
            var _3561;
            var _3564;
            var _3565;
            _3565 = __;
            _3564 = _3565.lastp;
            _3561 = _3564.contents;
            _3488 = (new TupleObject__Object_(_3556, _3561));
          };
        }
        else
        {
          var _3566;
          var _3569;
          var _3570;
          _3570 = __;
          _3569 = _3570.lastp;
          _3566 = _3569.contents;
          var _3571;
          var _3574;
          var _3575;
          _3575 = __;
          _3574 = _3575.lastp;
          _3571 = _3574.contents;
          _3488 = (new TupleObject__Object_(_3566, _3571));
        };
      };
    };
    var patternInput = _3488;
    var _3576;
    var _3577;
    _3577 = patternInput;
    _3576 = _3577.Items[1.000000];
    var p2 = _3576;
    var _3578;
    var _3579;
    _3579 = patternInput;
    _3578 = _3579.Items[0.000000];
    var p1 = _3578;
    var _3580;
    var _3581;
    var _3582;
    _3582 = Math;
    var _3583;
    var _3584;
    var _3585;
    var _3587;
    _3587 = x;
    _3585 = _3587.contents;
    var _3588;
    _3588 = 6;
    _3584 = (_3585 / _3588);
    _3583 = _3584;
    _3581 = _3582.floor(_3583);
    _3580 = _3581;
    var x_ = _3580;
    var _3589;
    var _3590;
    var _3591;
    _3591 = Math;
    var _3592;
    var _3593;
    var _3594;
    var _3596;
    _3596 = y;
    _3594 = _3596.contents;
    var _3597;
    _3597 = 6;
    _3593 = (_3594 / _3597);
    _3592 = _3593;
    _3590 = _3591.floor(_3592);
    _3589 = _3590;
    var y_ = _3589;
    var _3598;
    var _3599;
    var _3600;
    var _3601;
    var _3602;
    _3602 = x_;
    var _3603;
    _3603 = y_;
    _3601 = (_3602 + _3603);
    var _3604;
    _3604 = 2;
    _3600 = (_3601 % _3604);
    var _3605;
    _3605 = 0;
    _3599 = (_3600 == _3605);
    if (_3599) 
    {
      _3598 = p1;
    }
    else
    {
      _3598 = p2;
    };
    var p = _3598;
    var _3609;
    var _3610;
    _3610 = __;
    _3609 = _3610.lastp;
    var _3611;
    _3611 = p;
    _3609.contents = _3611;
    null;
    return p;
  });
  Pacman___ctor$ = (function (unitVar0)
  {
    var _943;
    var _944;
    var _945;
    _945 = Program__get_pu1$();
    _944 = Program__createImage$(_945);
    var _953;
    var _954;
    _954 = Program__get_pu2$();
    _953 = Program__createImage$(_954);
    _943 = (new TupleObject__Object_(_944, _953));
    var patternInput = _943;
    var _955;
    _955 = this;
    var _956;
    var _957;
    _957 = patternInput;
    _956 = _957.Items[1.000000];
    _955.pu2 = _956;
    var _958;
    _958 = this;
    var _959;
    var _960;
    _960 = patternInput;
    _959 = _960.Items[0.000000];
    _958.pu1 = _959;
    var _961;
    var _962;
    var _963;
    _963 = Program__get_pd1$();
    _962 = Program__createImage$(_963);
    var _964;
    var _965;
    _965 = Program__get_pd2$();
    _964 = Program__createImage$(_965);
    _961 = (new TupleObject__Object_(_962, _964));
    var _patternInput = _961;
    var _966;
    _966 = this;
    var _967;
    var _968;
    _968 = _patternInput;
    _967 = _968.Items[1.000000];
    _966.pd2 = _967;
    var _969;
    _969 = this;
    var _970;
    var _971;
    _971 = _patternInput;
    _970 = _971.Items[0.000000];
    _969.pd1 = _970;
    var _972;
    var _973;
    var _974;
    _974 = Program__get_pl1$();
    _973 = Program__createImage$(_974);
    var _975;
    var _976;
    _976 = Program__get_pl2$();
    _975 = Program__createImage$(_976);
    _972 = (new TupleObject__Object_(_973, _975));
    var __patternInput = _972;
    var _977;
    _977 = this;
    var _978;
    var _979;
    _979 = __patternInput;
    _978 = _979.Items[1.000000];
    _977.pl2 = _978;
    var _980;
    _980 = this;
    var _981;
    var _982;
    _982 = __patternInput;
    _981 = _982.Items[0.000000];
    _980.pl1 = _981;
    var _983;
    var _984;
    var _985;
    _985 = Program__get_pr1$();
    _984 = Program__createImage$(_985);
    var _986;
    var _987;
    _987 = Program__get_pr2$();
    _986 = Program__createImage$(_987);
    _983 = (new TupleObject__Object_(_984, _986));
    var ___patternInput = _983;
    var _988;
    _988 = this;
    var _989;
    var _990;
    _990 = ___patternInput;
    _989 = _990.Items[1.000000];
    _988.pr2 = _989;
    var _991;
    _991 = this;
    var _992;
    var _993;
    _993 = ___patternInput;
    _992 = _993.Items[0.000000];
    _991.pr1 = _992;
    var _994;
    _994 = this;
    var _995;
    var _996;
    var _997;
    _997 = this;
    _996 = _997.pr1;
    _995 = {contents: _996};
    _994.lastp = _995;
  });
  Program__createGhosts$Object_Object_ = (function (context)
  {
    var _1087;
    var _1088;
    _1088 = (function (tupledArg)
    {
      var _1089;
      var _1090;
      _1090 = tupledArg;
      _1089 = _1090.Items[0.000000];
      var data = _1089;
      var _1091;
      var _1092;
      _1092 = tupledArg;
      _1091 = _1092.Items[1.000000];
      var _arg1 = _1091;
      var _1093;
      var _1094;
      _1094 = tupledArg;
      _1093 = _1094.Items[2.000000];
      var v = _1093;
      var _1095;
      var _1096;
      _1096 = _arg1;
      _1095 = _1096.Items[1.000000];
      var y = _1095;
      var _1097;
      var _1098;
      _1098 = _arg1;
      _1097 = _1098.Items[0.000000];
      var x = _1097;
      var _1099;
      var _1100;
      _1100 = data;
      _1099 = Program__createImage$(_1100);
      var _1101;
      var _1102;
      var _1103;
      _1103 = x;
      var _1104;
      _1104 = 8;
      _1102 = (_1103 * _1104);
      var _1105;
      _1105 = 7;
      _1101 = (_1102 - _1105);
      var _1106;
      var _1107;
      var _1108;
      _1108 = y;
      var _1109;
      _1109 = 8;
      _1107 = (_1108 * _1109);
      var _1110;
      _1110 = 3;
      _1106 = (_1107 - _1110);
      var _1111;
      _1111 = v;
      return (new Ghost___ctor$(_1099, _1101, _1106, _1111));
    });
    var mapping = _1088;
    _1087 = (function (array)
    {
      var _1128;
      var _1129;
      _1129 = mapping;
      _1128 = _1129;
      var _1130;
      var _1131;
      _1131 = array;
      _1130 = _1131;
      return Array__Map$Tuple_3_String__Tuple_2_Int32__Int32__Tuple_2_Int32__Int32__Ghost_Tuple_3_String__Tuple_2_Int32__Int32__Tuple_2_Int32__Int32__Ghost_(_1128, _1130);
    });
    var _1153;
    var _1154;
    var _1155;
    _1155 = Program__get_redd$();
    var _1156;
    var _1157;
    _1157 = 16;
    var _1158;
    _1158 = 11;
    _1156 = (new TupleInt32_Int32(_1157, _1158));
    var _1159;
    var _1160;
    _1160 = 1;
    var _1161;
    _1161 = 0;
    _1159 = (new TupleInt32_Int32(_1160, _1161));
    _1154 = (new TupleString_Tuple_2_Int32__Int32__Tuple_2_Int32__Int32_(_1155, _1156, _1159));
    var _1162;
    var _1163;
    _1163 = Program__get_cyand$();
    var _1164;
    var _1165;
    _1165 = 14;
    var _1166;
    _1166 = 15;
    _1164 = (new TupleInt32_Int32(_1165, _1166));
    var _1167;
    var _1168;
    _1168 = 1;
    var _1169;
    _1169 = 0;
    _1167 = (new TupleInt32_Int32(_1168, _1169));
    _1162 = (new TupleString_Tuple_2_Int32__Int32__Tuple_2_Int32__Int32_(_1163, _1164, _1167));
    var _1170;
    var _1171;
    _1171 = Program__get_pinkd$();
    var _1172;
    var _1173;
    _1173 = 16;
    var _1174;
    _1174 = 13;
    _1172 = (new TupleInt32_Int32(_1173, _1174));
    var _1175;
    var _1176;
    _1176 = 0;
    var _1177;
    _1177 = -1;
    _1175 = (new TupleInt32_Int32(_1176, _1177));
    _1170 = (new TupleString_Tuple_2_Int32__Int32__Tuple_2_Int32__Int32_(_1171, _1172, _1175));
    var _1178;
    var _1179;
    _1179 = Program__get_oranged$();
    var _1180;
    var _1181;
    _1181 = 18;
    var _1182;
    _1182 = 15;
    _1180 = (new TupleInt32_Int32(_1181, _1182));
    var _1183;
    var _1184;
    _1184 = -1;
    var _1185;
    _1185 = 0;
    _1183 = (new TupleInt32_Int32(_1184, _1185));
    _1178 = (new TupleString_Tuple_2_Int32__Int32__Tuple_2_Int32__Int32_(_1179, _1180, _1183));
    _1153 = [_1154, _1162, _1170, _1178];
    return _1087(_1153);
  });
  Program__createImage$ = (function (data)
  {
    var _946;
    var _947;
    var _948;
    _948 = document;
    var _949;
    _949 = "image";
    _947 = _948.createElement(_949);
    _946 = _947;
    var image = _946;
    var _950;
    _950 = image;
    var _951;
    _951 = data;
    _950.src = _951;
    null;
    var _952;
    _952 = image;
    return _952;
  });
  Program__game$ = (function (keys)
  {
    var _383;
    _383 = keys;
    Keys__Reset$(_383);
    var _386;
    var _387;
    var _388;
    _388 = document;
    var _389;
    _389 = "canvas";
    _387 = _388.getElementById(_389);
    _386 = _387;
    var canvas = _386;
    var _390;
    var _391;
    _391 = canvas;
    var _392;
    _392 = "2d";
    _390 = _391.getContext(_392);
    var context = _390;
    var _393;
    _393 = (function (tupledArg)
    {
      var _394;
      var _395;
      _395 = tupledArg;
      _394 = _395.Items[0.000000];
      var text = _394;
      var _396;
      var _397;
      _397 = tupledArg;
      _396 = _397.Items[1.000000];
      var x = _396;
      var _398;
      var _399;
      _399 = tupledArg;
      _398 = _399.Items[2.000000];
      var y = _398;
      var _400;
      _400 = context;
      var _401;
      _401 = "white";
      _400.fillStyle = _401;
      null;
      var _402;
      _402 = context;
      var _403;
      _403 = "bold 8px";
      _402.font = _403;
      null;
      var _404;
      _404 = context;
      var _405;
      _405 = text;
      var _406;
      _406 = x;
      var _407;
      _407 = y;
      return _404.fillText(_405, _406, _407);
    });
    var drawText = _393;
    var _408;
    _408 = (function (unitVar0)
    {
      var _409;
      _409 = drawText;
      var _410;
      var _411;
      _411 = "COMPLETED";
      var _412;
      _412 = 96.000000;
      var _413;
      _413 = 96.000000;
      _410 = (new TupleString_Double_Double(_411, _412, _413));
      _409(_410);
      var _414;
      _414 = (function (value)
      {
        var _415;
        _415 = value;
        var ignored0 = _415;
      });
      var _416;
      var _417;
      _417 = (function (_unitVar0)
      {
        var _418;
        _418 = keys;
        return Program__game$(_418);
      });
      var _419;
      _419 = 5000.000000;
      _416 = setTimeout(_417, _419);
      return _414(_416);
    });
    var levelCompleted = _408;
    var _420;
    _420 = (function (unitVar0)
    {
      var _421;
      _421 = drawText;
      var _422;
      var _423;
      _423 = "GAME OVER";
      var _424;
      _424 = 96.000000;
      var _425;
      _425 = 96.000000;
      _422 = (new TupleString_Double_Double(_423, _424, _425));
      _421(_422);
      var _426;
      _426 = (function (value)
      {
        var _427;
        _427 = value;
        var ignored0 = _427;
      });
      var _428;
      var _429;
      _429 = (function (_unitVar0)
      {
        var _430;
        _430 = keys;
        return Program__game$(_430);
      });
      var _431;
      _431 = 5000.000000;
      _428 = setTimeout(_429, _431);
      return _426(_428);
    });
    var gameOver = _420;
    var _432;
    _432 = (function (unitVar0)
    {
      var _433;
      _433 = Background__createBackground$();
      var background = _433;
      var _922;
      _922 = context;
      var _923;
      _923 = background;
      var _924;
      _924 = 0.000000;
      var _925;
      _925 = 0.000000;
      _922.drawImage(_923, _924, _925);
      var _926;
      _926 = context;
      var _927;
      _927 = "white";
      _926.fillStyle = _927;
      null;
      var _928;
      _928 = context;
      var _929;
      _929 = "bold 8px";
      _928.font = _929;
      null;
      var _930;
      _930 = drawText;
      var _931;
      var _932;
      _932 = "CLICK TO START";
      var _933;
      _933 = 88.000000;
      var _934;
      _934 = 96.000000;
      _931 = (new TupleString_Double_Double(_932, _933, _934));
      _930(_931);
      var _935;
      _935 = canvas;
      var _936;
      _936 = (function (e)
      {
        var _937;
        _937 = canvas;
        var _938;
        _938 = null;
        _937.onclick = _938;
        null;
        var _939;
        _939 = keys;
        var _940;
        _940 = levelCompleted;
        var _941;
        _941 = gameOver;
        Program__playLevel$(_939, _940, _941);
        var _3803;
        _3803 = true;
        return _3803;
      });
      _935.onclick = _936;
      return null;
    });
    var start = _432;
    var _3804;
    _3804 = start;
    var _3805;
    return _3804(_3805);
  });
  Program__get__1600$ = (function ()
  {
    return "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAQ0lEQVQoU2NkIBMwkqmPYQA0vpVR+S/85A4jiIY5mxg+WANMIYiGaUYXR+ejaES3EdlAvBrxKSTJRnx+HoDoGDopBwDHLGwPAhDgRQAAAABJRU5ErkJggg==";
  });
  Program__get__200$ = (function ()
  {
    return "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAS0lEQVQoU2NkIBMwkqmPYYA0vpVR+Q9zsvCTO4yE+CC1KE4FaYBpxEfDNWKzgWiNIIUw5xKyGa+N+PyM4UdS4nSA4pEUJ8LUku1UAMC0VA8iscBNAAAAAElFTkSuQmCC";
  });
  Program__get__400$ = (function ()
  {
    return "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAASElEQVQoU2NkIBMwkqmPYYA0vpVR+S/85A4jMg3zAkwcmQ9ig52KTSO6Qch8FI3oNhClEaaJWJvhNmLTSJQfyYnLAYpHujoVAChTXA9pVJi5AAAAAElFTkSuQmCC";
  });
  Program__get__800$ = (function ()
  {
    return "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAQElEQVQoU2NkIBMwkqmPYYA0vpVR+Q9zsvCTO4yE+CC1YKeCFMI0EEOjaES3EZ8BtLERn5/hNpITlwMUj3R1KgCe5lwPHtUmcwAAAABJRU5ErkJggg==";
  });
  Program__get_blank$ = (function ()
  {
    var _723;
    _723 = 0;
    var _724;
    _724 = 0;
    var _725;
    _725 = 0;
    var _726;
    _726 = 0;
    var _727;
    _727 = 0;
    var _728;
    _728 = 0;
    var _729;
    _729 = 0;
    var _730;
    _730 = 0;
    return [_723, _724, _725, _726, _727, _728, _729, _730];
  });
  Program__get_blue$ = (function ()
  {
    return "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAeklEQVQoU62S0Q3AIAhEyyi6UcfoRB2jG+koNkeCoVcaTaw/huMeEkS24KTUmpdrFWHbQ2CAzb5AB0eQFTFYwVnIw/+B5by0cD52vTmGhnaF25wBAb/A6HsibR0ctch5fRHi1zCigvCut4oR+wnbhrBmsZr9DlqCQfbcnfZjDyiZqCEAAAAASUVORK5CYII=";
  });
  Program__get_cyand$ = (function ()
  {
    return "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAiUlEQVQoU8WSURKAIAhE8Sh6Fc/tVfQoJdqiMDTVV4wfufAAmw3kxEHUz4pA1I8OJVjAKZZ6+XiC0ATTB/gW2mEFtlpHLqaktrQ6TxUQSRCAPX2AWPMLyM0VmPOcV8palxt6uoAMpDjfWJt+o6cr0DPDnfYjyL94NwIcYjXcR/FuYklcxrZ3OO0Ep4dJ/3dR5jcAAAAASUVORK5CYII=";
  });
  Program__get_eyed$ = (function ()
  {
    return "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAUElEQVQoU2NkIBMwkqmPYYA13rt37z/I6UpKSiguwSYOVwCThPkZphmXOHU0OjtD7Nu7F+FckI3YxFH8oqgI8eP9+6h+xCY+wNFBSiqiv1MBDgYsD185vj8AAAAASUVORK5CYII=";
  });
  Program__get_maze$ = (function ()
  {
    var _489;
    var _490;
    _490 = "##/------------7/------------7##,##|............|!............|##,##|./__7./___7.|!./___7./__7.|##,##|o|  !.|   !.|!.|   !.|  !o|##,##|.L--J.L---J.LJ.L---J.L--J.|##,##|..........................|##,##|./__7./7./______7./7./__7.|##,##|.L--J.|!.L--7/--J.|!.L--J.|##,##|......|!....|!....|!......|##,##L____7.|L__7 |! /__J!./____J##,#######!.|/--J LJ L--7!.|#######,#######!.|!          |!.|#######,#######!.|! /__==__7 |!.|#######,-------J.LJ |      ! LJ.L-------,########.   | **** !   .########,_______7./7 |      ! /7./_______,#######!.|! L______J |!.|#######,#######!.|!          |!.|#######,#######!.|! /______7 |!.|#######,##/----J.LJ L--7/--J LJ.L----7##,##|............|!............|##,##|./__7./___7.|!./___7./__7.|##,##|.L-7!.L---J.LJ.L---J.|/-J.|##,##|o..|!.......\u003c\u003e.......|!..o|##,##L_7.|!./7./______7./7.|!./_J##,##/-J.LJ.|!.L--7/--J.|!.LJ.L-7##,##|......|!....|!....|!......|##,##|./____JL__7.|!./__JL____7.|##,##|.L--------J.LJ.L--------J.|##,##|..........................|##,##L--------------------------J##";
    _489 = _490;
    var _491;
    var _492;
    var _493;
    _493 = ",";
    _492 = [_493];
    _491 = _492;
    return String__Split$(_489, _491);
  });
  Program__get_oranged$ = (function ()
  {
    return "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAgklEQVQoU8WS0RGAIAxDZRRYhblZBUZBsBSaUk/9kj9CXlru4g7r1FxBdsFpGwoa2NwrYIFPEIeM6QS+hQQMYC70EjzuuOlt6gT5kRGGTf0Cx5qfwJYOYIw0L6W1bg+09Al2wAcCS8Y/WjqAZhluxD/B3ghZBO6n1sadzLLEbNSg8pzXIVLvbNvPwAAAAABJRU5ErkJggg==";
  });
  Program__get_pd1$ = (function ()
  {
    return "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAAAXElEQVQoU62SUQoAIAhD9f6HNgyMWpMs6k/XU5mqwDMTw5yq6JwbAfucwR2qAFHAu75BN11Gt6+Qz54VpMJsMV3BaS9UR8txkUzfLC9DUY0BYbOPGfpyU3g2WdwAOvU1/9KZsT4AAAAASUVORK5CYII=";
  });
  Program__get_pd2$ = (function ()
  {
    return "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAAAU0lEQVQoU62SUQoAIAhD9f6HNgwUGw4s6q/pc6KqwDMTQ01VtGr56ZIZvKEJEAXc9Q26cUm3r5D3zgrywHeoG3ldJrZIRz6C0I1BoR83FTBCeHsLIlw7/wOkQycAAAAASUVORK5CYII=";
  });
  Program__get_pinkd$ = (function ()
  {
    return "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAj0lEQVQoU8WSsRWAIAxEZRQpXITGVZzIVWxYxAJHwRfwMInxqZV0XPIvgXeuM05eUuayG73TbULQwKWZGTTwCYIJphfwLcRhAW5DLfWrXFLrNLWBKAIBbOkFxJpfQDIXYAh1XoznumRo6Q0kwE8VTLN8o6UL0ArDnfYjSF/Mg4CEaA330sxD3ApHLvUdSdsBdgNkr9L8gxYAAAAASUVORK5CYII=";
  });
  Program__get_pl1$ = (function ()
  {
    return "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAAAVUlEQVQoU62S2woAIAhD9f8/2jAwvGRMyDfF49iQKZUISZ4xE/vZaW7LHbwhBLADqjpSUjBAdglRDQa9hxfcQi+vf5RGnpDlkB4KlMgR0N6pBIH83gIPFCb/N+MLCwAAAABJRU5ErkJggg==";
  });
  Program__get_pl2$ = (function ()
  {
    return "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAAAUklEQVQoU52SUQoAIAhD3f0PbRQoZgnT/hyttYeQdFRFswYIoubD73JlPibGYA/s1Jmpk+JpDIinWxbiXP3iQslCwbhTxzhHbsWZNFsnCkTevQW2bCb/VRTuVwAAAABJRU5ErkJggg==";
  });
  Program__get_pr1$ = (function ()
  {
    return "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAAAWElEQVQoU52S4Q4AIASE3fs/tKalSTHyL/O5CyAXzMQ+BxBsbj9exRE8oQqgDUS1BalNVFSuP2WQL94WIygCBEzttZWOvbz2VBnGtLXg1sgV/L8I679yewN9sScO5wcxLQAAAABJRU5ErkJggg==";
  });
  Program__get_pr2$ = (function ()
  {
    return "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAAAVElEQVQoU62SWwoAIAgE9f6HNgqU3BK2R3+J48KoCjwzMaypis61+OyaK3hADOADeuoddJISaQy0iKggbEz2viah7mVPTNq7cp/ApLmcdFPVdaDJBnWdJwjk629HAAAAAElFTkSuQmCC";
  });
  Program__get_pu1$ = (function ()
  {
    return "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAAAWElEQVQoU62SUQoAIAhD9f6HNiYYolYi9VfzuXIxDRYbI0LCTHsfe3ldi3BgRRUY9Rnku1Rupf4NgiPeVjVU7STckphBceSvrHHtNPI21HWz4NO3eUUAgwVpmjX/zwK8KQAAAABJRU5ErkJggg==";
  });
  Program__get_pu2$ = (function ()
  {
    return "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAAAW0lEQVQoU8WSwQoAIAhD9f8/2lIwdKRIl7o1e010THBESJiJXca76qnoDxFC3SD9LRpWkLnsLt4gdImtlLX/EK4iDapqr4VuI2+BauQjaOrmSz8xillDp5gQrS054jv/0fkNVAAAAABJRU5ErkJggg==";
  });
  Program__get_redd$ = (function ()
  {
    return "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAkklEQVQoU8WSvRWAIAyEZRQtXIRCV3EiVtGCRSx0FHxBD5MYn1pJl0u+/PDOVcZLY5e47PrJ6TIhaOBSzBoU8AlCE0zP4FuIwwJc25Bz9TyILbVOUwuIJAjAlp5BrPkFpOYC9H6fF+O5LjW09AIS0Az7jUuQN1q6AC0z3Gk/gvTF3AhwiNYQ52Ju4pI4fKljOG0DA3tp97vN6C8AAAAASUVORK5CYII=";
  });
  Program__get_tileBits$ = (function ()
  {
    var _734;
    var _735;
    _735 = 0;
    var _736;
    _736 = 0;
    var _737;
    _737 = 0;
    var _738;
    _738 = 0;
    var _739;
    _739 = 3;
    var _740;
    _740 = 4;
    var _741;
    _741 = 8;
    var _742;
    _742 = 8;
    _734 = [_735, _736, _737, _738, _739, _740, _741, _742];
    var _743;
    var _744;
    _744 = 0;
    var _745;
    _745 = 0;
    var _746;
    _746 = 0;
    var _747;
    _747 = 0;
    var _748;
    _748 = 255;
    var _749;
    _749 = 0;
    var _750;
    _750 = 0;
    var _751;
    _751 = 0;
    _743 = [_744, _745, _746, _747, _748, _749, _750, _751];
    var _752;
    var _753;
    _753 = 0;
    var _754;
    _754 = 0;
    var _755;
    _755 = 0;
    var _756;
    _756 = 0;
    var _757;
    _757 = 192;
    var _758;
    _758 = 32;
    var _759;
    _759 = 16;
    var _760;
    _760 = 16;
    _752 = [_753, _754, _755, _756, _757, _758, _759, _760];
    var _761;
    var _762;
    _762 = 8;
    var _763;
    _763 = 8;
    var _764;
    _764 = 8;
    var _765;
    _765 = 8;
    var _766;
    _766 = 8;
    var _767;
    _767 = 8;
    var _768;
    _768 = 8;
    var _769;
    _769 = 8;
    _761 = [_762, _763, _764, _765, _766, _767, _768, _769];
    var _770;
    var _771;
    _771 = 16;
    var _772;
    _772 = 16;
    var _773;
    _773 = 16;
    var _774;
    _774 = 16;
    var _775;
    _775 = 16;
    var _776;
    _776 = 16;
    var _777;
    _777 = 16;
    var _778;
    _778 = 16;
    _770 = [_771, _772, _773, _774, _775, _776, _777, _778];
    var _779;
    var _780;
    _780 = 8;
    var _781;
    _781 = 8;
    var _782;
    _782 = 4;
    var _783;
    _783 = 3;
    var _784;
    _784 = 0;
    var _785;
    _785 = 0;
    var _786;
    _786 = 0;
    var _787;
    _787 = 0;
    _779 = [_780, _781, _782, _783, _784, _785, _786, _787];
    var _788;
    var _789;
    _789 = 0;
    var _790;
    _790 = 0;
    var _791;
    _791 = 0;
    var _792;
    _792 = 255;
    var _793;
    _793 = 0;
    var _794;
    _794 = 0;
    var _795;
    _795 = 0;
    var _796;
    _796 = 0;
    _788 = [_789, _790, _791, _792, _793, _794, _795, _796];
    var _797;
    var _798;
    _798 = 16;
    var _799;
    _799 = 16;
    var _800;
    _800 = 32;
    var _801;
    _801 = 192;
    var _802;
    _802 = 0;
    var _803;
    _803 = 0;
    var _804;
    _804 = 0;
    var _805;
    _805 = 0;
    _797 = [_798, _799, _800, _801, _802, _803, _804, _805];
    var _806;
    var _807;
    _807 = 0;
    var _808;
    _808 = 0;
    var _809;
    _809 = 0;
    var _810;
    _810 = 0;
    var _811;
    _811 = 255;
    var _812;
    _812 = 0;
    var _813;
    _813 = 0;
    var _814;
    _814 = 0;
    _806 = [_807, _808, _809, _810, _811, _812, _813, _814];
    var _815;
    var _816;
    _816 = 0;
    var _817;
    _817 = 0;
    var _818;
    _818 = 0;
    var _819;
    _819 = 24;
    var _820;
    _820 = 24;
    var _821;
    _821 = 0;
    var _822;
    _822 = 0;
    var _823;
    _823 = 0;
    _815 = [_816, _817, _818, _819, _820, _821, _822, _823];
    var _824;
    var _825;
    _825 = 0;
    var _826;
    _826 = 24;
    var _827;
    _827 = 60;
    var _828;
    _828 = 126;
    var _829;
    _829 = 126;
    var _830;
    _830 = 60;
    var _831;
    _831 = 24;
    var _832;
    _832 = 0;
    _824 = [_825, _826, _827, _828, _829, _830, _831, _832];
    return [_734, _743, _752, _761, _770, _779, _788, _797, _806, _815, _824];
  });
  Program__main$ = (function (unitVar0)
  {
    var _1;
    _1 = (new Keys___ctor$());
    var keys = _1;
    var _15;
    _15 = "keydown";
    var _16;
    var _17;
    _17 = (function (e)
    {
      var _18;
      _18 = keys;
      var _19;
      _19 = e;
      var _20;
      _20 = true;
      return Keys__Update$Object_Object_(_18, _19, _20);
    });
    _16 = _17;
    addEventListener(_15, _16);
    var _376;
    _376 = "keyup";
    var _377;
    var _378;
    _378 = (function (e)
    {
      var _379;
      _379 = keys;
      var _380;
      _380 = e;
      var _381;
      _381 = false;
      return Keys__Update$Object_Object_(_379, _380, _381);
    });
    _377 = _378;
    addEventListener(_376, _377);
    var _382;
    _382 = keys;
    return Program__game$(_382);
  });
  Program__playLevel$ = (function (keys, onLevelCompleted, onGameOver)
  {
    var _942;
    _942 = (new Pacman___ctor$());
    var pacman = _942;
    var _998;
    var _999;
    var _1000;
    _1000 = (function (line)
    {
      var _1001;
      var _1002;
      _1002 = (function (c)
      {
        return c;
      });
      var mapping = _1002;
      _1001 = (function (array)
      {
        var _1003;
        var _1004;
        _1004 = mapping;
        _1003 = _1004;
        var _1005;
        var _1006;
        _1006 = array;
        _1005 = _1006;
        return Array__Map$Char__Char_Char_Char(_1003, _1005);
      });
      var _1028;
      var _1029;
      var _1030;
      _1030 = line;
      _1029 = _1030;
      _1028 = String__ToCharArray$(_1029);
      return _1001(_1028);
    });
    var mapping = _1000;
    _999 = (function (array)
    {
      var _1031;
      var _1032;
      _1032 = mapping;
      _1031 = _1032;
      var _1033;
      var _1034;
      _1034 = array;
      _1033 = _1034;
      return Array__Map$String_1_Char___String_Char___(_1031, _1033);
    });
    var _1056;
    _1056 = Program__maze;
    _998 = _999(_1056);
    var pills = _998;
    var _1057;
    var _1058;
    var _1059;
    _1059 = document;
    var _1060;
    _1060 = "canvas";
    _1058 = _1059.getElementById(_1060);
    _1057 = _1058;
    var canvas = _1057;
    var _1061;
    _1061 = canvas;
    var _1062;
    _1062 = 256.000000;
    _1061.width = _1062;
    null;
    var _1063;
    _1063 = canvas;
    var _1064;
    _1064 = 256.000000;
    _1063.height = _1064;
    null;
    var _1065;
    var _1066;
    _1066 = canvas;
    var _1067;
    _1067 = "2d";
    _1065 = _1066.getContext(_1067);
    var context = _1065;
    var _1068;
    _1068 = context;
    var _1069;
    _1069 = "rgb(0,0,0)";
    _1068.fillStyle = _1069;
    null;
    var _1070;
    _1070 = context;
    var _1071;
    _1071 = 0.000000;
    var _1072;
    _1072 = 0.000000;
    var _1073;
    _1073 = 256.000000;
    var _1074;
    _1074 = 256.000000;
    _1070.fillRect(_1071, _1072, _1073, _1074);
    var _1075;
    var _1076;
    var _1077;
    _1077 = Program__get__200$();
    _1076 = Program__createImage$(_1077);
    var _1078;
    var _1079;
    _1079 = Program__get__400$();
    _1078 = Program__createImage$(_1079);
    var _1080;
    var _1081;
    _1081 = Program__get__800$();
    _1080 = Program__createImage$(_1081);
    var _1082;
    var _1083;
    _1083 = Program__get__1600$();
    _1082 = Program__createImage$(_1083);
    _1075 = [_1076, _1078, _1080, _1082];
    var bonusImages = _1075;
    var _1084;
    _1084 = Background__createBackground$();
    var background = _1084;
    var _1085;
    var _1086;
    _1086 = context;
    _1085 = Program__createGhosts$Object_Object_(_1086);
    var ghosts = _1085;
    var _1186;
    var _1187;
    var _1188;
    _1188 = Program__get_blue$();
    _1187 = Program__createImage$(_1188);
    var _1189;
    var _1190;
    _1190 = Program__get_eyed$();
    _1189 = Program__createImage$(_1190);
    _1186 = (new TupleObject__Object_(_1187, _1189));
    var patternInput = _1186;
    var _1191;
    var _1192;
    _1192 = patternInput;
    _1191 = _1192.Items[1.000000];
    var eyed = _1191;
    var _1193;
    var _1194;
    _1194 = patternInput;
    _1193 = _1194.Items[0.000000];
    var blue = _1193;
    var _1195;
    var _1196;
    _1196 = Background__countDots$();
    _1195 = {contents: _1196};
    var dotsLeft = _1195;
    var _1277;
    var _1278;
    _1278 = 0;
    _1277 = {contents: _1278};
    var score = _1277;
    var _1279;
    var _1280;
    _1280 = 0;
    _1279 = {contents: _1280};
    var bonus = _1279;
    var _1281;
    var _1282;
    _1282 = List__Empty$Tuple_2_Int32__Tuple_3_Object__Int32__Int32_Tuple_2_Int32__Tuple_3_Object__Int32__Int32_();
    _1281 = {contents: _1282};
    var bonuses = _1281;
    var _1283;
    var _1284;
    _1284 = 128;
    _1283 = {contents: _1284};
    var energy = _1283;
    var _1285;
    var _1286;
    _1286 = 0;
    _1285 = {contents: _1286};
    var flashCountdown = _1285;
    var _1287;
    var _1288;
    _1288 = 0;
    _1287 = {contents: _1288};
    var powerCountdown = _1287;
    var _1289;
    var _1290;
    var _1291;
    var _1292;
    var _1293;
    _1293 = 16;
    var _1294;
    _1294 = 8;
    _1292 = (_1293 * _1294);
    var _1295;
    _1295 = 7;
    _1291 = (_1292 - _1295);
    _1290 = {contents: _1291};
    var _1296;
    var _1297;
    var _1298;
    var _1299;
    _1299 = 23;
    var _1300;
    _1300 = 8;
    _1298 = (_1299 * _1300);
    var _1301;
    _1301 = 3;
    _1297 = (_1298 - _1301);
    _1296 = {contents: _1297};
    _1289 = (new TupleFSharpRef_1_Int32__FSharpRef_1_Int32_(_1290, _1296));
    var _patternInput = _1289;
    var _1302;
    var _1303;
    _1303 = _patternInput;
    _1302 = _1303.Items[1.000000];
    var y = _1302;
    var _1304;
    var _1305;
    _1305 = _patternInput;
    _1304 = _1305.Items[0.000000];
    var x = _1304;
    var _1306;
    var _1307;
    var _1308;
    _1308 = 0;
    var _1309;
    _1309 = 0;
    _1307 = (new TupleInt32_Int32(_1308, _1309));
    _1306 = {contents: _1307};
    var v = _1306;
    var _1310;
    _1310 = (function (unitVar0)
    {
      var _1311;
      var _1312;
      _1312 = (function (ghost)
      {
        var _1313;
        _1313 = ghost;
        var _1314;
        var _1315;
        _1315 = ghost;
        _1314 = GhostMovement__chooseDirection$(_1315);
        return Ghost__Move$(_1313, _1314);
      });
      var action = _1312;
      _1311 = (function (array)
      {
        var _2295;
        var _2296;
        _2296 = action;
        _2295 = _2296;
        var _2297;
        var _2298;
        _2298 = array;
        _2297 = _2298;
        return Array__Iterate$Ghost_Ghost_(_2295, _2297);
      });
      var _2326;
      _2326 = ghosts;
      return _1311(_2326);
    });
    var moveGhosts = _1310;
    var _2327;
    _2327 = (function (unitVar0)
    {
      var _2328;
      var _2329;
      var _2330;
      var _2331;
      var _2332;
      var _2333;
      _2333 = (function (unitVar)
      {
        var _2334;
        var _2335;
        var _2336;
        var _2337;
        _2337 = keys;
        var _2338;
        _2338 = 81;
        _2336 = Keys__IsPressed$(_2337, _2338);
        if (_2336) 
        {
          var _2388;
          var _2389;
          var _2390;
          var _2391;
          var _2393;
          _2393 = x;
          _2391 = _2393.contents;
          var _2394;
          var _2396;
          _2396 = y;
          _2394 = _2396.contents;
          _2390 = Maze__canGoUp$(_2391, _2394);
          var _2397;
          var _2398;
          _2398 = 0;
          var _2399;
          _2399 = -1;
          _2397 = (new TupleInt32_Int32(_2398, _2399));
          _2389 = (new TupleBoolean_Tuple_2_Int32__Int32_(_2390, _2397));
          _2388 = _2389;
          _2335 = Seq__Singleton$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_(_2388);
        }
        else
        {
          _2335 = Seq__Empty$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_();
        };
        _2334 = _2335;
        var _2540;
        var _2541;
        var _2542;
        var _2543;
        _2543 = (function (_unitVar)
        {
          var _2544;
          var _2545;
          var _2546;
          var _2547;
          _2547 = keys;
          var _2548;
          _2548 = 65;
          _2546 = Keys__IsPressed$(_2547, _2548);
          if (_2546) 
          {
            var _2549;
            var _2550;
            var _2551;
            var _2552;
            var _2554;
            _2554 = x;
            _2552 = _2554.contents;
            var _2555;
            var _2557;
            _2557 = y;
            _2555 = _2557.contents;
            _2551 = Maze__canGoDown$(_2552, _2555);
            var _2558;
            var _2559;
            _2559 = 0;
            var _2560;
            _2560 = 1;
            _2558 = (new TupleInt32_Int32(_2559, _2560));
            _2550 = (new TupleBoolean_Tuple_2_Int32__Int32_(_2551, _2558));
            _2549 = _2550;
            _2545 = Seq__Singleton$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_(_2549);
          }
          else
          {
            _2545 = Seq__Empty$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_();
          };
          _2544 = _2545;
          var _2561;
          var _2562;
          var _2563;
          var _2564;
          _2564 = (function (__unitVar)
          {
            var _2565;
            var _2566;
            var _2567;
            var _2568;
            _2568 = keys;
            var _2569;
            _2569 = 90;
            _2567 = Keys__IsPressed$(_2568, _2569);
            if (_2567) 
            {
              var _2570;
              var _2571;
              var _2572;
              var _2573;
              var _2575;
              _2575 = x;
              _2573 = _2575.contents;
              var _2576;
              var _2578;
              _2578 = y;
              _2576 = _2578.contents;
              _2572 = Maze__canGoLeft$(_2573, _2576);
              var _2579;
              var _2580;
              _2580 = -1;
              var _2581;
              _2581 = 0;
              _2579 = (new TupleInt32_Int32(_2580, _2581));
              _2571 = (new TupleBoolean_Tuple_2_Int32__Int32_(_2572, _2579));
              _2570 = _2571;
              _2566 = Seq__Singleton$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_(_2570);
            }
            else
            {
              _2566 = Seq__Empty$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_();
            };
            _2565 = _2566;
            var _2582;
            var _2583;
            var _2584;
            var _2585;
            _2585 = (function (___unitVar)
            {
              var _2586;
              var _2587;
              _2587 = keys;
              var _2588;
              _2588 = 88;
              _2586 = Keys__IsPressed$(_2587, _2588);
              if (_2586) 
              {
                var _2589;
                var _2590;
                var _2591;
                var _2592;
                var _2594;
                _2594 = x;
                _2592 = _2594.contents;
                var _2595;
                var _2597;
                _2597 = y;
                _2595 = _2597.contents;
                _2591 = Maze__canGoRight$(_2592, _2595);
                var _2598;
                var _2599;
                _2599 = 1;
                var _2600;
                _2600 = 0;
                _2598 = (new TupleInt32_Int32(_2599, _2600));
                _2590 = (new TupleBoolean_Tuple_2_Int32__Int32_(_2591, _2598));
                _2589 = _2590;
                return Seq__Singleton$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_(_2589);
              }
              else
              {
                return Seq__Empty$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_();
              };
            });
            _2584 = _2585;
            _2583 = Seq__Delay$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_(_2584);
            _2582 = _2583;
            return Seq__Append$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_(_2565, _2582);
          });
          _2563 = _2564;
          _2562 = Seq__Delay$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_(_2563);
          _2561 = _2562;
          return Seq__Append$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_(_2544, _2561);
        });
        _2542 = _2543;
        _2541 = Seq__Delay$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_(_2542);
        _2540 = _2541;
        return Seq__Append$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_(_2334, _2540);
      });
      _2332 = _2333;
      _2331 = Seq__Delay$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_(_2332);
      _2330 = _2331;
      _2329 = _2330;
      _2328 = Seq__ToArray$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_(_2329);
      var inputs = _2328;
      var _2747;
      var _2748;
      var _2750;
      _2750 = v;
      _2748 = _2750.contents;
      var matchValue = _2748;
      var _2751;
      var _2752;
      var _2753;
      _2753 = matchValue;
      _2752 = _2753.Items[0.000000];
      var _2754;
      _2754 = -1;
      _2751 = (_2752 == _2754);
      if (_2751) 
      {
        var _2755;
        var _2756;
        var _2757;
        _2757 = matchValue;
        _2756 = _2757.Items[1.000000];
        var _2758;
        _2758 = 0;
        _2755 = (_2756 == _2758);
        _2747 = (_2755 && (function ()
        {
          var _2759;
          var _2761;
          _2761 = x;
          _2759 = _2761.contents;
          var _2762;
          var _2764;
          _2764 = y;
          _2762 = _2764.contents;
          return Maze__canGoLeft$(_2759, _2762);
        })());
      }
      else
      {
        var _2765;
        var _2766;
        var _2767;
        _2767 = matchValue;
        _2766 = _2767.Items[0.000000];
        var _2768;
        _2768 = 0;
        _2765 = (_2766 == _2768);
        if (_2765) 
        {
          var _2769;
          var _2770;
          var _2771;
          _2771 = matchValue;
          _2770 = _2771.Items[1.000000];
          var _2772;
          _2772 = -1;
          _2769 = (_2770 == _2772);
          if (_2769) 
          {
            var _2773;
            var _2775;
            _2775 = x;
            _2773 = _2775.contents;
            var _2776;
            var _2778;
            _2778 = y;
            _2776 = _2778.contents;
            _2747 = Maze__canGoUp$(_2773, _2776);
          }
          else
          {
            var _2779;
            var _2780;
            var _2781;
            _2781 = matchValue;
            _2780 = _2781.Items[1.000000];
            var _2782;
            _2782 = 1;
            _2779 = (_2780 == _2782);
            _2747 = (_2779 && (function ()
            {
              var _2783;
              var _2785;
              _2785 = x;
              _2783 = _2785.contents;
              var _2786;
              var _2788;
              _2788 = y;
              _2786 = _2788.contents;
              return Maze__canGoDown$(_2783, _2786);
            })());
          };
        }
        else
        {
          var _2789;
          var _2790;
          var _2791;
          _2791 = matchValue;
          _2790 = _2791.Items[0.000000];
          var _2792;
          _2792 = 1;
          _2789 = (_2790 == _2792);
          _2747 = (_2789 && (function ()
          {
            var _2793;
            var _2794;
            var _2795;
            _2795 = matchValue;
            _2794 = _2795.Items[1.000000];
            var _2796;
            _2796 = 0;
            _2793 = (_2794 == _2796);
            return (_2793 && (function ()
            {
              var _2797;
              var _2799;
              _2799 = x;
              _2797 = _2799.contents;
              var _2800;
              var _2802;
              _2802 = y;
              _2800 = _2802.contents;
              return Maze__canGoRight$(_2797, _2800);
            })());
          })());
        };
      };
      var canGoForward = _2747;
      var _2803;
      var _2804;
      var _2805;
      _2805 = (function (v_)
      {
        var _2806;
        _2806 = v_;
        var _2807;
        var _2809;
        _2809 = v;
        _2807 = _2809.contents;
        var diff = 0.000000;
        diff = _2806.CompareTo(_2807);
        return (diff == 0.000000);
      });
      var projection = _2805;
      _2804 = (function (array)
      {
        var _2810;
        var _2811;
        _2811 = projection;
        _2810 = _2811;
        var _2812;
        var _2813;
        _2813 = array;
        _2812 = _2813;
        return Array__SortBy$Tuple_2_Int32__Int32__Boolean_Tuple_2_Int32__Int32__Boolean(_2810, _2812);
      });
      var _2828;
      var _2829;
      var _2830;
      _2830 = (function (tuple)
      {
        var _2831;
        _2831 = tuple;
        return _2831.Items[1.000000];
      });
      var _mapping = _2830;
      _2829 = (function (array)
      {
        var _2832;
        var _2833;
        _2833 = _mapping;
        _2832 = _2833;
        var _2834;
        var _2835;
        _2835 = array;
        _2834 = _2835;
        return Array__Map$Tuple_2_Boolean__Tuple_2_Int32__Int32__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32__Tuple_2_Int32__Int32_(_2832, _2834);
      });
      var _2857;
      var _2858;
      var _2859;
      _2859 = (function (tuple)
      {
        var _2860;
        _2860 = tuple;
        return _2860.Items[0.000000];
      });
      var predicate = _2859;
      _2858 = (function (array)
      {
        var _2861;
        var _2862;
        _2862 = predicate;
        _2861 = _2862;
        var _2863;
        var _2864;
        _2864 = array;
        _2863 = _2864;
        return Array__Filter$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_(_2861, _2863);
      });
      var _2886;
      _2886 = inputs;
      _2857 = _2858(_2886);
      _2828 = _2829(_2857);
      _2803 = _2804(_2828);
      var availableDirections = _2803;
      var _2887;
      var _2888;
      var _2889;
      var _2890;
      _2890 = availableDirections;
      _2889 = _2890;
      _2888 = Array__BoxedLength$(_2889);
      var _2891;
      _2891 = 0;
      _2887 = (_2888 > _2891);
      if (_2887) 
      {
        var _2896;
        _2896 = v;
        var _2897;
        var _2898;
        _2898 = availableDirections;
        var _2899;
        _2899 = 0;
        _2897 = _2898[_2899];
        _2896.contents = _2897;
        null;
      }
      else
      {
        var _2900;
        var _2901;
        var _2902;
        var _2903;
        var _2904;
        _2904 = inputs;
        _2903 = _2904;
        _2902 = Array__BoxedLength$(_2903);
        var _2905;
        _2905 = 0;
        _2901 = (_2902 == _2905);
        _2900 = (_2901 || (function ()
        {
          var _2906;
          _2906 = canGoForward;
          return (!_2906);
        })());
        if (_2900) 
        {
          var _2911;
          _2911 = v;
          var _2912;
          var _2913;
          _2913 = 0;
          var _2914;
          _2914 = 0;
          _2912 = (new TupleInt32_Int32(_2913, _2914));
          _2911.contents = _2912;
          null;
        }
        else
        {
          ;
        };
      };
      var _2915;
      var _2916;
      var _2917;
      var _2919;
      _2919 = x;
      _2917 = _2919.contents;
      var _2920;
      var _2922;
      _2922 = y;
      _2920 = _2922.contents;
      _2916 = (new TupleInt32_Int32(_2917, _2920));
      var tupledArg = _2916;
      var _2923;
      var _2925;
      _2925 = v;
      _2923 = _2925.contents;
      var _tupledArg = _2923;
      var _2926;
      var _2927;
      _2927 = tupledArg;
      _2926 = _2927.Items[0.000000];
      var _x = _2926;
      var _2928;
      var _2929;
      _2929 = tupledArg;
      _2928 = _2929.Items[1.000000];
      var _y = _2928;
      var _2930;
      var _2931;
      _2931 = _tupledArg;
      _2930 = _2931.Items[0.000000];
      var dx = _2930;
      var _2932;
      var _2933;
      _2933 = _tupledArg;
      _2932 = _2933.Items[1.000000];
      var dy = _2932;
      var _2934;
      _2934 = _x;
      var _2935;
      _2935 = _y;
      var _2936;
      _2936 = dx;
      var _2937;
      _2937 = dy;
      _2915 = Program__wrap$(_2934, _2935, _2936, _2937);
      var __patternInput = _2915;
      var _2938;
      var _2939;
      _2939 = __patternInput;
      _2938 = _2939.Items[1.000000];
      var y_ = _2938;
      var _2940;
      var _2941;
      _2941 = __patternInput;
      _2940 = _2941.Items[0.000000];
      var x_ = _2940;
      var _2944;
      _2944 = x;
      var _2945;
      _2945 = x_;
      _2944.contents = _2945;
      null;
      var _2948;
      _2948 = y;
      var _2949;
      _2949 = y_;
      _2948.contents = _2949;
    });
    var movePacman = _2327;
    var _2950;
    _2950 = (function (unitVar0)
    {
      var _2951;
      var _2952;
      var _2953;
      _2953 = Math;
      var _2954;
      var _2955;
      var _2956;
      var _2957;
      var _2959;
      _2959 = x;
      _2957 = _2959.contents;
      var _2960;
      _2960 = 6;
      _2956 = (_2957 + _2960);
      var _2961;
      _2961 = 8;
      _2955 = (_2956 / _2961);
      _2954 = _2955;
      _2952 = _2953.floor(_2954);
      _2951 = _2952;
      var tx = _2951;
      var _2962;
      var _2963;
      var _2964;
      _2964 = Math;
      var _2965;
      var _2966;
      var _2967;
      var _2968;
      var _2970;
      _2970 = y;
      _2968 = _2970.contents;
      var _2971;
      _2971 = 6;
      _2967 = (_2968 + _2971);
      var _2972;
      _2972 = 8;
      _2966 = (_2967 / _2972);
      _2965 = _2966;
      _2963 = _2964.floor(_2965);
      _2962 = _2963;
      var ty = _2962;
      var _2973;
      var _2974;
      var _2975;
      _2975 = pills;
      var _2976;
      _2976 = ty;
      _2974 = _2975[_2976];
      var _2977;
      _2977 = tx;
      _2973 = _2974[_2977];
      var c = _2973;
      var _2978;
      var _2979;
      _2979 = c;
      var _2980;
      _2980 = ".";
      _2978 = (_2979 == _2980);
      if (_2978) 
      {
        var _2981;
        var _2982;
        _2982 = pills;
        var _2983;
        _2983 = ty;
        _2981 = _2982[_2983];
        var _2984;
        _2984 = tx;
        var _2985;
        _2985 = " ";
        _2981[_2984] = _2985;
        null;
        var _2986;
        _2986 = background;
        var _2987;
        _2987 = tx;
        var _2988;
        _2988 = ty;
        Background__clearCell$Object_Object_(_2986, _2987, _2988);
        var _3013;
        _3013 = score;
        var _3014;
        var _3015;
        var _3017;
        _3017 = score;
        _3015 = _3017.contents;
        var _3018;
        _3018 = 10;
        _3014 = (_3015 + _3018);
        _3013.contents = _3014;
        null;
        var _3025;
        _3025 = dotsLeft;
        var _3026;
        var _3027;
        var _3029;
        _3029 = dotsLeft;
        _3027 = _3029.contents;
        var _3030;
        _3030 = 1;
        _3026 = (_3027 - _3030);
        _3025.contents = _3026;
        null;
        var _3031;
        _3031 = "Dot5.wav";
        Program__sound$(_3031);
      }
      else
      {
        ;
      };
      var _3032;
      var _3033;
      _3033 = c;
      var _3034;
      _3034 = "o";
      _3032 = (_3033 == _3034);
      if (_3032) 
      {
        var _3035;
        var _3036;
        _3036 = pills;
        var _3037;
        _3037 = ty;
        _3035 = _3036[_3037];
        var _3038;
        _3038 = tx;
        var _3039;
        _3039 = " ";
        _3035[_3038] = _3039;
        null;
        var _3040;
        _3040 = background;
        var _3041;
        _3041 = tx;
        var _3042;
        _3042 = ty;
        Background__clearCell$Object_Object_(_3040, _3041, _3042);
        var _3045;
        _3045 = bonus;
        var _3046;
        _3046 = 0;
        _3045.contents = _3046;
        null;
        var _3053;
        _3053 = score;
        var _3054;
        var _3055;
        var _3057;
        _3057 = score;
        _3055 = _3057.contents;
        var _3058;
        _3058 = 50;
        _3054 = (_3055 + _3058);
        _3053.contents = _3054;
        null;
        var _3061;
        _3061 = powerCountdown;
        var _3062;
        _3062 = 250;
        _3061.contents = _3062;
        null;
        var _3069;
        _3069 = dotsLeft;
        var _3070;
        var _3071;
        var _3073;
        _3073 = dotsLeft;
        _3071 = _3073.contents;
        var _3074;
        _3074 = 1;
        _3070 = (_3071 - _3074);
        _3069.contents = _3070;
        null;
        var _3075;
        _3075 = "Powerup.wav";
        return Program__sound$(_3075);
      }
      else
      {
        ;
      };
    });
    var eatPills = _2950;
    var _3076;
    _3076 = (function (unitVar0)
    {
      var _3077;
      var _3078;
      var _3080;
      _3080 = x;
      _3078 = _3080.contents;
      var _3081;
      var _3083;
      _3083 = y;
      _3081 = _3083.contents;
      _3077 = (new TupleInt32_Int32(_3078, _3081));
      var __patternInput = _3077;
      var _3084;
      var _3085;
      _3085 = __patternInput;
      _3084 = _3085.Items[1.000000];
      var py = _3084;
      var _3086;
      var _3087;
      _3087 = __patternInput;
      _3086 = _3087.Items[0.000000];
      var px = _3086;
      var _3088;
      var _3089;
      _3089 = (function (ghost)
      {
        var _3090;
        var _3091;
        var _3092;
        _3092 = ghost;
        _3091 = Ghost__get_X$(_3092);
        var _3093;
        var _3094;
        _3094 = ghost;
        _3093 = Ghost__get_Y$(_3094);
        _3090 = (new TupleInt32_Int32(_3091, _3093));
        var ___patternInput = _3090;
        var _3095;
        var _3096;
        _3096 = ___patternInput;
        _3095 = _3096.Items[1.000000];
        var _y = _3095;
        var _3097;
        var _3098;
        _3098 = ___patternInput;
        _3097 = _3098.Items[0.000000];
        var _x = _3097;
        var _3099;
        var _3100;
        var _3101;
        var _3102;
        _3102 = px;
        var _3103;
        _3103 = _x;
        _3101 = (_3102 >= _3103);
        _3100 = (_3101 && (function ()
        {
          var _3104;
          _3104 = px;
          var _3105;
          var _3106;
          _3106 = _x;
          var _3107;
          _3107 = 13;
          _3105 = (_3106 + _3107);
          return (_3104 < _3105);
        })());
        _3099 = (_3100 || (function ()
        {
          var _3108;
          var _3109;
          _3109 = _x;
          var _3110;
          var _3111;
          _3111 = px;
          var _3112;
          _3112 = 13;
          _3110 = (_3111 + _3112);
          _3108 = (_3109 < _3110);
          return (_3108 && (function ()
          {
            var _3113;
            _3113 = _x;
            var _3114;
            _3114 = px;
            return (_3113 >= _3114);
          })());
        })());
        return (_3099 && (function ()
        {
          var _3115;
          var _3116;
          var _3117;
          _3117 = py;
          var _3118;
          _3118 = _y;
          _3116 = (_3117 >= _3118);
          _3115 = (_3116 && (function ()
          {
            var _3119;
            _3119 = py;
            var _3120;
            var _3121;
            _3121 = _y;
            var _3122;
            _3122 = 13;
            _3120 = (_3121 + _3122);
            return (_3119 < _3120);
          })());
          return (_3115 || (function ()
          {
            var _3123;
            var _3124;
            _3124 = _y;
            var _3125;
            var _3126;
            _3126 = py;
            var _3127;
            _3127 = 13;
            _3125 = (_3126 + _3127);
            _3123 = (_3124 < _3125);
            return (_3123 && (function ()
            {
              var _3128;
              _3128 = _y;
              var _3129;
              _3129 = py;
              return (_3128 >= _3129);
            })());
          })());
        })());
      });
      var predicate = _3089;
      _3088 = (function (array)
      {
        var _3130;
        var _3131;
        _3131 = predicate;
        _3130 = _3131;
        var _3132;
        var _3133;
        _3133 = array;
        _3132 = _3133;
        return Array__Filter$Ghost_Ghost_(_3130, _3132);
      });
      var _3155;
      _3155 = ghosts;
      return _3088(_3155);
    });
    var touchingGhosts = _3076;
    var _3156;
    _3156 = (function (unitVar0)
    {
      var _3157;
      var _3158;
      _3158 = touchingGhosts;
      var _3159;
      _3157 = _3158(_3159);
      var touched = _3157;
      var _3160;
      var _3161;
      var _3162;
      var _3163;
      _3163 = touched;
      _3162 = _3163;
      _3161 = Array__BoxedLength$(_3162);
      var _3164;
      _3164 = 0;
      _3160 = (_3161 > _3164);
      if (_3160) 
      {
        var _3165;
        var _3166;
        var _3168;
        _3168 = powerCountdown;
        _3166 = _3168.contents;
        var _3169;
        _3169 = 0;
        _3165 = (_3166 > _3169);
        if (_3165) 
        {
          var _3170;
          var _3171;
          _3171 = (function (ghost)
          {
            var _3172;
            var _3173;
            var _3174;
            _3174 = ghost;
            _3173 = Ghost__get_IsReturning$(_3174);
            _3172 = (!_3173);
            if (_3172) 
            {
              var _3175;
              _3175 = "EatGhost.wav";
              Program__sound$(_3175);
              var _3176;
              _3176 = ghost;
              var _3177;
              _3177 = true;
              Ghost__set_IsReturning$(_3176, _3177);
              var _3193;
              _3193 = score;
              var _3194;
              var _3195;
              var _3197;
              _3197 = score;
              _3195 = _3197.contents;
              var _3198;
              var _3199;
              var _3200;
              var _3201;
              _3201 = Math;
              var _3202;
              _3202 = 2.000000;
              var _3203;
              var _3204;
              var _3206;
              _3206 = bonus;
              _3204 = _3206.contents;
              _3203 = _3204;
              _3200 = _3201.pow(_3202, _3203);
              _3199 = _3200;
              var _3207;
              _3207 = 200;
              _3198 = (_3199 * _3207);
              _3194 = (_3195 + _3198);
              _3193.contents = _3194;
              null;
              var _3208;
              var _3209;
              _3209 = bonusImages;
              var _3210;
              var _3212;
              _3212 = bonus;
              _3210 = _3212.contents;
              _3208 = _3209[_3210];
              var image = _3208;
              var _3230;
              _3230 = bonuses;
              var _3231;
              var _3232;
              var _3233;
              var _3234;
              _3234 = 100;
              var _3235;
              var _3236;
              _3236 = image;
              var _3237;
              var _3238;
              _3238 = ghost;
              _3237 = Ghost__get_X$(_3238);
              var _3239;
              var _3240;
              _3240 = ghost;
              _3239 = Ghost__get_Y$(_3240);
              _3235 = (new TupleObject__Int32_Int32(_3236, _3237, _3239));
              _3233 = (new TupleInt32_Tuple_3_Object__Int32__Int32_(_3234, _3235));
              _3232 = _3233;
              var _3241;
              var _3242;
              var _3244;
              _3244 = bonuses;
              _3242 = _3244.contents;
              _3241 = _3242;
              _3231 = List__CreateCons$Tuple_2_Int32__Tuple_3_Object__Int32__Int32_Tuple_2_Int32__Tuple_3_Object__Int32__Int32_(_3232, _3241);
              _3230.contents = _3231;
              null;
              var _3258;
              _3258 = bonus;
              var _3259;
              var _3260;
              var _3261;
              var _3262;
              var _3264;
              _3264 = bonus;
              _3262 = _3264.contents;
              var _3265;
              _3265 = 1;
              _3261 = (_3262 + _3265);
              var _3266;
              _3266 = 3;
              _3260 = (_3261 < _3266);
              if (_3260) 
              {
                var _3267;
                var _3269;
                _3269 = bonus;
                _3267 = _3269.contents;
                var _3270;
                _3270 = 1;
                _3259 = (_3267 + _3270);
              }
              else
              {
                _3259 = 3;
              };
              _3258.contents = _3259;
            }
            else
            {
              ;
            };
          });
          var action = _3171;
          _3170 = (function (array)
          {
            var _3271;
            var _3272;
            _3272 = action;
            _3271 = _3272;
            var _3273;
            var _3274;
            _3274 = array;
            _3273 = _3274;
            return Array__Iterate$Ghost_Ghost_(_3271, _3273);
          });
          var _3275;
          _3275 = touched;
          _3170(_3275);
        }
        else
        {
          var _3282;
          _3282 = energy;
          var _3283;
          var _3284;
          var _3286;
          _3286 = energy;
          _3284 = _3286.contents;
          var _3287;
          _3287 = 1;
          _3283 = (_3284 - _3287);
          _3282.contents = _3283;
          null;
          var _3288;
          var _3289;
          var _3291;
          _3291 = flashCountdown;
          _3289 = _3291.contents;
          var _3292;
          _3292 = 0;
          _3288 = (_3289 == _3292);
          if (_3288) 
          {
            var _3293;
            _3293 = "Hurt.wav";
            Program__sound$(_3293);
          }
          else
          {
            ;
          };
          var _3296;
          _3296 = flashCountdown;
          var _3297;
          _3297 = 30;
          _3296.contents = _3297;
          null;
        };
      }
      else
      {
        ;
      };
      var _3298;
      var _3299;
      var _3301;
      _3301 = flashCountdown;
      _3299 = _3301.contents;
      var _3302;
      _3302 = 0;
      _3298 = (_3299 > _3302);
      if (_3298) 
      {
        var _3309;
        _3309 = flashCountdown;
        var _3310;
        var _3311;
        var _3313;
        _3313 = flashCountdown;
        _3311 = _3313.contents;
        var _3314;
        _3314 = 1;
        _3310 = (_3311 - _3314);
        _3309.contents = _3310;
      }
      else
      {
        ;
      };
    });
    var collisionDetection = _3156;
    var _3315;
    _3315 = (function (unitVar0)
    {
      var _3316;
      var _3317;
      var _3318;
      _3318 = (function (_x)
      {
        var _3319;
        var _3320;
        _3320 = 0;
        var __x = _3320;
        _3319 = (function (_y)
        {
          var _3321;
          _3321 = __x;
          var _3322;
          _3322 = _y;
          return (_3321 == _3322);
        });
        var _3323;
        var _3324;
        _3324 = (function (tuple)
        {
          var _3325;
          _3325 = tuple;
          return _3325.Items[0.000000];
        });
        var _3326;
        _3326 = _x;
        _3323 = _3324(_3326);
        return _3319(_3323);
      });
      var predicate = _3318;
      _3317 = (function (list)
      {
        var _3327;
        var _3328;
        _3328 = predicate;
        _3327 = _3328;
        var _3329;
        var _3330;
        _3330 = list;
        _3329 = _3330;
        return List__Partition$Tuple_2_Int32__Tuple_3_Object__Int32__Int32_Tuple_2_Int32__Tuple_3_Object__Int32__Int32_(_3327, _3329);
      });
      var _3382;
      var _3383;
      var _3384;
      _3384 = (function (tupledArg)
      {
        var _3385;
        var _3386;
        _3386 = tupledArg;
        _3385 = _3386.Items[0.000000];
        var count = _3385;
        var _3387;
        var _3388;
        _3388 = tupledArg;
        _3387 = _3388.Items[1.000000];
        var _x = _3387;
        var _3389;
        var _3390;
        _3390 = count;
        var _3391;
        _3391 = 1;
        _3389 = (_3390 - _3391);
        var _3392;
        _3392 = _x;
        return (new TupleInt32_Tuple_3_Object__Int32__Int32_(_3389, _3392));
      });
      var _mapping = _3384;
      _3383 = (function (list)
      {
        var _3393;
        var _3394;
        _3394 = _mapping;
        _3393 = _3394;
        var _3395;
        var _3396;
        _3396 = list;
        _3395 = _3396;
        return List__Map$Tuple_2_Int32__Tuple_3_Object__Int32__Int32__Tuple_2_Int32__Tuple_3_Object__Int32__Int32_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__Tuple_2_Int32__Tuple_3_Object__Int32__Int32_(_3393, _3395);
      });
      var _3443;
      var _3445;
      _3445 = bonuses;
      _3443 = _3445.contents;
      _3382 = _3383(_3443);
      _3316 = _3317(_3382);
      var __patternInput = _3316;
      var _3446;
      var _3447;
      _3447 = __patternInput;
      _3446 = _3447.Items[0.000000];
      var removals = _3446;
      var _3448;
      var _3449;
      _3449 = __patternInput;
      _3448 = _3449.Items[1.000000];
      var remainders = _3448;
      var _3452;
      _3452 = bonuses;
      var _3453;
      _3453 = remainders;
      _3452.contents = _3453;
    });
    var updateBonus = _3315;
    var _3454;
    _3454 = (function (unitVar0)
    {
      var _3455;
      _3455 = moveGhosts;
      var _3456;
      _3455(_3456);
      var _3457;
      _3457 = movePacman;
      var _3458;
      _3457(_3458);
      var _3459;
      _3459 = eatPills;
      var _3460;
      _3459(_3460);
      var _3461;
      var _3462;
      var _3464;
      _3464 = powerCountdown;
      _3462 = _3464.contents;
      var _3465;
      _3465 = 0;
      _3461 = (_3462 > _3465);
      if (_3461) 
      {
        var _3472;
        _3472 = powerCountdown;
        var _3473;
        var _3474;
        var _3476;
        _3476 = powerCountdown;
        _3474 = _3476.contents;
        var _3477;
        _3477 = 1;
        _3473 = (_3474 - _3477);
        _3472.contents = _3473;
        null;
      }
      else
      {
        ;
      };
      var _3478;
      _3478 = collisionDetection;
      var _3479;
      _3478(_3479);
      var _3480;
      _3480 = updateBonus;
      var _3481;
      return _3480(_3481);
    });
    var logic = _3454;
    var _3482;
    _3482 = (function (unitVar0)
    {
      var _3483;
      var _3484;
      _3484 = pacman;
      var _3485;
      _3485 = x;
      var _3486;
      _3486 = y;
      var _3487;
      _3487 = v;
      _3483 = Pacman__ImageAt$(_3484, _3485, _3486, _3487);
      var p = _3483;
      var _3612;
      var _3613;
      var _3614;
      var _3615;
      var _3617;
      _3617 = flashCountdown;
      _3615 = _3617.contents;
      var _3618;
      _3618 = 1;
      _3614 = (_3615 >> _3618);
      var _3619;
      _3619 = 2;
      _3613 = (_3614 % _3619);
      var _3620;
      _3620 = 0;
      _3612 = (_3613 == _3620);
      if (_3612) 
      {
        var _3621;
        _3621 = context;
        var _3622;
        _3622 = p;
        var _3623;
        var _3624;
        var _3626;
        _3626 = x;
        _3624 = _3626.contents;
        _3623 = _3624;
        var _3627;
        var _3628;
        var _3630;
        _3630 = y;
        _3628 = _3630.contents;
        _3627 = _3628;
        return _3621.drawImage(_3622, _3623, _3627);
      }
      else
      {
        ;
      };
    });
    var renderPacman = _3482;
    var _3631;
    _3631 = (function (unitVar0)
    {
      var _3632;
      _3632 = context;
      var _3633;
      _3633 = "yellow";
      _3632.fillStyle = _3633;
      null;
      var _3634;
      _3634 = context;
      var _3635;
      _3635 = 120.000000;
      var _3636;
      _3636 = 250.000000;
      var _3637;
      var _3638;
      var _3640;
      _3640 = energy;
      _3638 = _3640.contents;
      _3637 = _3638;
      var _3641;
      _3641 = 2.000000;
      return _3634.fillRect(_3635, _3636, _3637, _3641);
    });
    var renderEnergy = _3631;
    var _3642;
    _3642 = (function (unitVar0)
    {
      var _3643;
      var _3644;
      _3644 = (function (ghost)
      {
        var _3645;
        var _3646;
        var _3647;
        _3647 = ghost;
        _3646 = Ghost__get_IsReturning$(_3647);
        if (_3646) 
        {
          _3645 = eyed;
        }
        else
        {
          var _3648;
          var _3649;
          var _3651;
          _3651 = powerCountdown;
          _3649 = _3651.contents;
          var _3652;
          _3652 = 0;
          _3648 = (_3649 == _3652);
          if (_3648) 
          {
            var _3653;
            _3653 = ghost;
            _3645 = Ghost__get_Image$(_3653);
          }
          else
          {
            var _3655;
            var _3656;
            var _3657;
            var _3659;
            _3659 = powerCountdown;
            _3657 = _3659.contents;
            var _3660;
            _3660 = 100;
            _3656 = (_3657 > _3660);
            _3655 = (_3656 || (function ()
            {
              var _3661;
              var _3662;
              var _3663;
              var _3665;
              _3665 = powerCountdown;
              _3663 = _3665.contents;
              var _3666;
              _3666 = 3;
              _3662 = (_3663 >> _3666);
              var _3667;
              _3667 = 2;
              _3661 = (_3662 % _3667);
              var _3668;
              _3668 = 0;
              return (_3661 != _3668);
            })());
            if (_3655) 
            {
              _3645 = blue;
            }
            else
            {
              var _3669;
              _3669 = ghost;
              _3645 = Ghost__get_Image$(_3669);
            };
          };
        };
        var image = _3645;
        var _3670;
        _3670 = context;
        var _3671;
        _3671 = image;
        var _3672;
        var _3673;
        var _3674;
        _3674 = ghost;
        _3673 = Ghost__get_X$(_3674);
        _3672 = _3673;
        var _3675;
        var _3676;
        var _3677;
        _3677 = ghost;
        _3676 = Ghost__get_Y$(_3677);
        _3675 = _3676;
        return _3670.drawImage(_3671, _3672, _3675);
      });
      var action = _3644;
      _3643 = (function (array)
      {
        var _3678;
        var _3679;
        _3679 = action;
        _3678 = _3679;
        var _3680;
        var _3681;
        _3681 = array;
        _3680 = _3681;
        return Array__Iterate$Ghost_Ghost_(_3678, _3680);
      });
      var _3682;
      _3682 = ghosts;
      return _3643(_3682);
    });
    var renderGhosts = _3642;
    var _3683;
    _3683 = (function (unitVar0)
    {
      var _3684;
      _3684 = context;
      var _3685;
      _3685 = "white";
      _3684.fillStyle = _3685;
      null;
      var _3686;
      _3686 = context;
      var _3687;
      _3687 = "bold 8px";
      _3686.font = _3687;
      null;
      var _3688;
      _3688 = context;
      var _3689;
      var _3690;
      _3690 = "Score ";
      var _3691;
      var _3692;
      var _3694;
      _3694 = score;
      _3692 = _3694.contents;
      var copyOfStruct = _3692;
      var _3695;
      _3695 = copyOfStruct;
      _3691 = _3695.toString();
      _3689 = (_3690 + _3691);
      var _3696;
      _3696 = 0.000000;
      var _3697;
      _3697 = 255.000000;
      return _3688.fillText(_3689, _3696, _3697);
    });
    var renderScore = _3683;
    var _3698;
    _3698 = (function (unitVar0)
    {
      var _3699;
      var _3700;
      _3700 = (function (tupledArg)
      {
        var _3701;
        var _3702;
        _3702 = tupledArg;
        _3701 = _3702.Items[0.000000];
        var _arg1 = _3701;
        var _3703;
        var _3704;
        _3704 = tupledArg;
        _3703 = _3704.Items[1.000000];
        var _arg2 = _3703;
        var _3705;
        var _3706;
        _3706 = _arg2;
        _3705 = _3706.Items[2.000000];
        var _y = _3705;
        var _3707;
        var _3708;
        _3708 = _arg2;
        _3707 = _3708.Items[1.000000];
        var _x = _3707;
        var _3709;
        var _3710;
        _3710 = _arg2;
        _3709 = _3710.Items[0.000000];
        var image = _3709;
        var _3711;
        _3711 = context;
        var _3712;
        _3712 = image;
        var _3713;
        var _3714;
        _3714 = _x;
        _3713 = _3714;
        var _3715;
        var _3716;
        _3716 = _y;
        _3715 = _3716;
        return _3711.drawImage(_3712, _3713, _3715);
      });
      var action = _3700;
      _3699 = (function (list)
      {
        var _3717;
        var _3718;
        _3718 = action;
        _3717 = _3718;
        var _3719;
        var _3720;
        _3720 = list;
        _3719 = _3720;
        return List__Iterate$Tuple_2_Int32__Tuple_3_Object__Int32__Int32_Tuple_2_Int32__Tuple_3_Object__Int32__Int32_(_3717, _3719);
      });
      var _3757;
      var _3759;
      _3759 = bonuses;
      _3757 = _3759.contents;
      return _3699(_3757);
    });
    var renderBonus = _3698;
    var _3760;
    _3760 = (function (unitVar0)
    {
      var _3761;
      _3761 = context;
      var _3762;
      _3762 = background;
      var _3763;
      _3763 = 0.000000;
      var _3764;
      _3764 = 0.000000;
      _3761.drawImage(_3762, _3763, _3764);
      var _3765;
      _3765 = renderScore;
      var _3766;
      _3765(_3766);
      var _3767;
      _3767 = renderEnergy;
      var _3768;
      _3767(_3768);
      var _3769;
      _3769 = renderPacman;
      var _3770;
      _3769(_3770);
      var _3771;
      _3771 = renderGhosts;
      var _3772;
      _3771(_3772);
      var _3773;
      _3773 = renderBonus;
      var _3774;
      return _3773(_3774);
    });
    var render = _3760;
    var update;
    var _3777;
    _3777 = (function (unitVar0)
    {
      var _3778;
      _3778 = logic;
      var _3779;
      _3778(_3779);
      var _3780;
      _3780 = render;
      var _3781;
      _3780(_3781);
      var _3782;
      var _3783;
      var _3785;
      _3785 = dotsLeft;
      _3783 = _3785.contents;
      var _3786;
      _3786 = 0;
      _3782 = (_3783 == _3786);
      if (_3782) 
      {
        var _3787;
        _3787 = onLevelCompleted;
        var _3788;
        return _3787(_3788);
      }
      else
      {
        var _3789;
        var _3790;
        var _3792;
        _3792 = energy;
        _3790 = _3792.contents;
        var _3793;
        _3793 = 0;
        _3789 = (_3790 <= _3793);
        if (_3789) 
        {
          var _3794;
          _3794 = onGameOver;
          var _3795;
          return _3794(_3795);
        }
        else
        {
          var _3796;
          _3796 = (function (value)
          {
            var _3797;
            _3797 = value;
            var ignored0 = _3797;
          });
          var _3798;
          var _3799;
          _3799 = update;
          var _3800;
          var _3801;
          _3801 = 1000.000000;
          var _3802;
          _3802 = 60.000000;
          _3800 = (_3801 / _3802);
          _3798 = setTimeout(_3799, _3800);
          return _3796(_3798);
        };
      };
    });
    update = _3777;
    var _3775;
    _3775 = update;
    var _3776;
    return _3775(_3776);
  });
  Program__sound$ = (function (file)
  {
    (new Audio(file)).play();
  });
  Program__wrap$ = (function (x, y, dx, dy)
  {
    var _2264;
    var _2265;
    var _2266;
    var _2267;
    _2267 = dx;
    var _2268;
    _2268 = -1;
    _2266 = (_2267 == _2268);
    _2265 = (_2266 && (function ()
    {
      var _2269;
      _2269 = x;
      var _2270;
      _2270 = 0;
      return (_2269 == _2270);
    })());
    if (_2265) 
    {
      var _2271;
      _2271 = 30;
      var _2272;
      _2272 = 8;
      _2264 = (_2271 * _2272);
    }
    else
    {
      var _2273;
      var _2274;
      var _2275;
      _2275 = dx;
      var _2276;
      _2276 = 1;
      _2274 = (_2275 == _2276);
      _2273 = (_2274 && (function ()
      {
        var _2277;
        _2277 = x;
        var _2278;
        var _2279;
        _2279 = 30;
        var _2280;
        _2280 = 8;
        _2278 = (_2279 * _2280);
        return (_2277 == _2278);
      })());
      if (_2273) 
      {
        _2264 = 0;
      }
      else
      {
        _2264 = x;
      };
    };
    var _x = _2264;
    var _2281;
    var _2282;
    _2282 = _x;
    var _2283;
    _2283 = dx;
    _2281 = (_2282 + _2283);
    var _2284;
    var _2285;
    _2285 = y;
    var _2286;
    _2286 = dy;
    _2284 = (_2285 + _2286);
    return (new TupleInt32_Int32(_2281, _2284));
  });
  Seq__Append$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_ = (function (xs, ys)
  {
    var _2606;
    _2606 = (function (f)
    {
      var _2607;
      _2607 = f;
      return Seq__Delay$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_(_2607);
    });
    var _2608;
    _2608 = (function (unitVar0)
    {
      var _2609;
      var _2610;
      var _2611;
      _2611 = xs;
      _2610 = Seq__Enumerator$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_(_2611);
      var _2612;
      var _2613;
      _2613 = ys;
      _2612 = Seq__Enumerator$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_(_2613);
      _2609 = (new TupleIEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32_(_2610, _2612));
      var enums = _2609;
      var _2614;
      var _2615;
      _2615 = (function (_arg1)
      {
        var _2616;
        var _2617;
        var _2618;
        _2618 = _arg1;
        _2617 = _2618.Items[1.000000];
        var next = _2617;
        var _2619;
        _2619 = _arg1;
        var _enums = _2619;
        var _2620;
        var _2621;
        _2621 = _arg1;
        _2620 = _2621.Items[0.000000];
        var curr = _2620;
        var _2622;
        _2622 = curr;
        _2616 = _2622.MoveNext();
        if (_2616) 
        {
          var _2623;
          var _2624;
          _2624 = _arg1;
          _2623 = _2624.Items[1.000000];
          var _next = _2623;
          var _2625;
          _2625 = _arg1;
          var __enums = _2625;
          var _2626;
          var _2627;
          _2627 = _arg1;
          _2626 = _2627.Items[0.000000];
          var _curr = _2626;
          var _2628;
          var _2629;
          var _2630;
          _2630 = _curr;
          _2629 = _2630.get_Current();
          var _2631;
          _2631 = __enums;
          _2628 = (new TupleTuple_2_Boolean__Tuple_2_Int32__Int32__Tuple_2_IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32_(_2629, _2631));
          return {Tag: 1.000000, Value: _2628};
        }
        else
        {
          var _2632;
          var _2633;
          var _2634;
          _2634 = _arg1;
          _2633 = _2634.Items[1.000000];
          var __next = _2633;
          var _2635;
          var _2636;
          _2636 = _arg1;
          _2635 = _2636.Items[0.000000];
          var __curr = _2635;
          var _2637;
          _2637 = __next;
          _2632 = _2637.MoveNext();
          if (_2632) 
          {
            var _2638;
            var _2639;
            _2639 = _arg1;
            _2638 = _2639.Items[1.000000];
            var ___next = _2638;
            var _2640;
            var _2641;
            _2641 = _arg1;
            _2640 = _2641.Items[0.000000];
            var ___curr = _2640;
            var _2642;
            var _2643;
            var _2644;
            _2644 = ___next;
            _2643 = _2644.get_Current();
            var _2645;
            var _2646;
            _2646 = ___next;
            var _2647;
            _2647 = ___curr;
            _2645 = (new TupleIEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32_(_2646, _2647));
            _2642 = (new TupleTuple_2_Boolean__Tuple_2_Int32__Int32__Tuple_2_IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32_(_2643, _2645));
            return {Tag: 1.000000, Value: _2642};
          }
          else
          {
            return {Tag: 0.000000};
          };
        };
      });
      var f = _2615;
      _2614 = (function (seed)
      {
        var _2648;
        _2648 = f;
        var _2649;
        _2649 = seed;
        return Seq__Unfold$Tuple_2_IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__Tuple_2_Boolean__Tuple_2_Int32__Int32_(_2648, _2649);
      });
      var _2709;
      _2709 = enums;
      return _2614(_2709);
    });
    return _2606(_2608);
  });
  Seq__Append$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_ = (function (xs, ys)
  {
    var _1986;
    _1986 = (function (f)
    {
      var _1987;
      _1987 = f;
      return Seq__Delay$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_(_1987);
    });
    var _1988;
    _1988 = (function (unitVar0)
    {
      var _1989;
      var _1990;
      var _1991;
      _1991 = xs;
      _1990 = Seq__Enumerator$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_(_1991);
      var _1992;
      var _1993;
      _1993 = ys;
      _1992 = Seq__Enumerator$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_(_1993);
      _1989 = (new TupleIEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32__IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32_(_1990, _1992));
      var enums = _1989;
      var _1994;
      var _1995;
      _1995 = (function (_arg1)
      {
        var _1996;
        var _1997;
        var _1998;
        _1998 = _arg1;
        _1997 = _1998.Items[1.000000];
        var next = _1997;
        var _1999;
        _1999 = _arg1;
        var _enums = _1999;
        var _2000;
        var _2001;
        _2001 = _arg1;
        _2000 = _2001.Items[0.000000];
        var curr = _2000;
        var _2002;
        _2002 = curr;
        _1996 = _2002.MoveNext();
        if (_1996) 
        {
          var _2003;
          var _2004;
          _2004 = _arg1;
          _2003 = _2004.Items[1.000000];
          var _next = _2003;
          var _2005;
          _2005 = _arg1;
          var __enums = _2005;
          var _2006;
          var _2007;
          _2007 = _arg1;
          _2006 = _2007.Items[0.000000];
          var _curr = _2006;
          var _2008;
          var _2009;
          var _2010;
          _2010 = _curr;
          _2009 = _2010.get_Current();
          var _2011;
          _2011 = __enums;
          _2008 = (new TupleTuple_2_Tuple_2_Int32__Int32__Int32__Tuple_2_IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32__IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32_(_2009, _2011));
          return {Tag: 1.000000, Value: _2008};
        }
        else
        {
          var _2012;
          var _2013;
          var _2014;
          _2014 = _arg1;
          _2013 = _2014.Items[1.000000];
          var __next = _2013;
          var _2015;
          var _2016;
          _2016 = _arg1;
          _2015 = _2016.Items[0.000000];
          var __curr = _2015;
          var _2017;
          _2017 = __next;
          _2012 = _2017.MoveNext();
          if (_2012) 
          {
            var _2018;
            var _2019;
            _2019 = _arg1;
            _2018 = _2019.Items[1.000000];
            var ___next = _2018;
            var _2020;
            var _2021;
            _2021 = _arg1;
            _2020 = _2021.Items[0.000000];
            var ___curr = _2020;
            var _2022;
            var _2023;
            var _2024;
            _2024 = ___next;
            _2023 = _2024.get_Current();
            var _2025;
            var _2026;
            _2026 = ___next;
            var _2027;
            _2027 = ___curr;
            _2025 = (new TupleIEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32__IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32_(_2026, _2027));
            _2022 = (new TupleTuple_2_Tuple_2_Int32__Int32__Int32__Tuple_2_IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32__IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32_(_2023, _2025));
            return {Tag: 1.000000, Value: _2022};
          }
          else
          {
            return {Tag: 0.000000};
          };
        };
      });
      var f = _1995;
      _1994 = (function (seed)
      {
        var _2028;
        _2028 = f;
        var _2029;
        _2029 = seed;
        return Seq__Unfold$Tuple_2_IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32__IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32__Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32__IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32__Tuple_2_Tuple_2_Int32__Int32__Int32_(_2028, _2029);
      });
      var _2089;
      _2089 = enums;
      return _1994(_2089);
    });
    return _1986(_1988);
  });
  Seq__Delay$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_ = (function (f)
  {
    var _2601;
    _2601 = (function (unitVar0)
    {
      var _2602;
      var _2603;
      _2603 = f;
      var _2604;
      _2602 = _2603(_2604);
      return Seq__Enumerator$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_(_2602);
    });
    return Seq__FromFactory$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_(_2601);
  });
  Seq__Delay$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_ = (function (f)
  {
    var _1981;
    _1981 = (function (unitVar0)
    {
      var _1982;
      var _1983;
      _1983 = f;
      var _1984;
      _1982 = _1983(_1984);
      return Seq__Enumerator$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_(_1982);
    });
    return Seq__FromFactory$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_(_1981);
  });
  Seq__Empty$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_ = (function ()
  {
    var _2482;
    _2482 = (function (_arg1)
    {
      return {Tag: 0.000000};
    });
    var _2483;
    _2483 = false;
    return Seq__Unfold$Boolean__Tuple_2_Boolean__Tuple_2_Int32__Int32_Boolean_Tuple_2_Boolean__Tuple_2_Int32__Int32_(_2482, _2483);
  });
  Seq__Empty$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_ = (function ()
  {
    var _1841;
    _1841 = (function (_arg1)
    {
      return {Tag: 0.000000};
    });
    var _1842;
    _1842 = false;
    return Seq__Unfold$Boolean__Tuple_2_Tuple_2_Int32__Int32__Int32_Boolean_Tuple_2_Tuple_2_Int32__Int32__Int32_(_1841, _1842);
  });
  Seq__Enumerator$String___String___ = (function (xs)
  {
    var _612;
    _612 = xs;
    return _612.GetEnumerator();
  });
  Seq__Enumerator$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_ = (function (xs)
  {
    var _2605;
    _2605 = xs;
    return _2605.GetEnumerator();
  });
  Seq__Enumerator$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_ = (function (xs)
  {
    var _1985;
    _1985 = xs;
    return _1985.GetEnumerator();
  });
  Seq__FoldIndexed$String____Unit_String____Unit_ = (function (f, seed, xs)
  {
    var _607;
    _607 = f;
    var _608;
    _608 = 0;
    var _609;
    _609 = seed;
    var _610;
    var _611;
    _611 = xs;
    _610 = Seq__Enumerator$String___String___(_611);
    return Seq__FoldIndexedAux$Unit__String___Unit__String___(_607, _608, _609, _610);
  });
  Seq__FoldIndexed$Tuple_2_Boolean__Tuple_2_Int32__Int32__Unit_Tuple_2_Boolean__Tuple_2_Int32__Int32__Unit_ = (function (f, seed, xs)
  {
    var _2726;
    _2726 = f;
    var _2727;
    _2727 = 0;
    var _2728;
    _2728 = seed;
    var _2729;
    var _2730;
    _2730 = xs;
    _2729 = Seq__Enumerator$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_(_2730);
    return Seq__FoldIndexedAux$Unit__Tuple_2_Boolean__Tuple_2_Int32__Int32_Unit__Tuple_2_Boolean__Tuple_2_Int32__Int32_(_2726, _2727, _2728, _2729);
  });
  Seq__FoldIndexed$Tuple_2_Tuple_2_Int32__Int32__Int32__Unit_Tuple_2_Tuple_2_Int32__Int32__Int32__Unit_ = (function (f, seed, xs)
  {
    var _2106;
    _2106 = f;
    var _2107;
    _2107 = 0;
    var _2108;
    _2108 = seed;
    var _2109;
    var _2110;
    _2110 = xs;
    _2109 = Seq__Enumerator$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_(_2110);
    return Seq__FoldIndexedAux$Unit__Tuple_2_Tuple_2_Int32__Int32__Int32_Unit__Tuple_2_Tuple_2_Int32__Int32__Int32_(_2106, _2107, _2108, _2109);
  });
  Seq__FoldIndexedAux$Unit__String___Unit__String___ = (function (f, i, acc, xs)
  {
    var _613;
    var _614;
    _614 = xs;
    _613 = _614.MoveNext();
    if (_613) 
    {
      var _615;
      _615 = f;
      var _616;
      var _617;
      _617 = i;
      var _618;
      _618 = 1;
      _616 = (_617 + _618);
      var _619;
      var _620;
      var _621;
      var _622;
      _622 = f;
      var _623;
      _623 = i;
      _621 = _622(_623);
      var _624;
      _624 = acc;
      _620 = _621(_624);
      var _625;
      var _626;
      _626 = xs;
      _625 = _626.get_Current();
      _619 = _620(_625);
      var _627;
      _627 = xs;
      return Seq__FoldIndexedAux$Unit__String___Unit__String___(_615, _616, _619, _627);
    }
    else
    {
      return acc;
    };
  });
  Seq__FoldIndexedAux$Unit__Tuple_2_Boolean__Tuple_2_Int32__Int32_Unit__Tuple_2_Boolean__Tuple_2_Int32__Int32_ = (function (f, i, acc, xs)
  {
    var _2731;
    var _2732;
    _2732 = xs;
    _2731 = _2732.MoveNext();
    if (_2731) 
    {
      var _2733;
      _2733 = f;
      var _2734;
      var _2735;
      _2735 = i;
      var _2736;
      _2736 = 1;
      _2734 = (_2735 + _2736);
      var _2737;
      var _2738;
      var _2739;
      var _2740;
      _2740 = f;
      var _2741;
      _2741 = i;
      _2739 = _2740(_2741);
      var _2742;
      _2742 = acc;
      _2738 = _2739(_2742);
      var _2743;
      var _2744;
      _2744 = xs;
      _2743 = _2744.get_Current();
      _2737 = _2738(_2743);
      var _2745;
      _2745 = xs;
      return Seq__FoldIndexedAux$Unit__Tuple_2_Boolean__Tuple_2_Int32__Int32_Unit__Tuple_2_Boolean__Tuple_2_Int32__Int32_(_2733, _2734, _2737, _2745);
    }
    else
    {
      return acc;
    };
  });
  Seq__FoldIndexedAux$Unit__Tuple_2_Tuple_2_Int32__Int32__Int32_Unit__Tuple_2_Tuple_2_Int32__Int32__Int32_ = (function (f, i, acc, xs)
  {
    var _2111;
    var _2112;
    _2112 = xs;
    _2111 = _2112.MoveNext();
    if (_2111) 
    {
      var _2113;
      _2113 = f;
      var _2114;
      var _2115;
      _2115 = i;
      var _2116;
      _2116 = 1;
      _2114 = (_2115 + _2116);
      var _2117;
      var _2118;
      var _2119;
      var _2120;
      _2120 = f;
      var _2121;
      _2121 = i;
      _2119 = _2120(_2121);
      var _2122;
      _2122 = acc;
      _2118 = _2119(_2122);
      var _2123;
      var _2124;
      _2124 = xs;
      _2123 = _2124.get_Current();
      _2117 = _2118(_2123);
      var _2125;
      _2125 = xs;
      return Seq__FoldIndexedAux$Unit__Tuple_2_Tuple_2_Int32__Int32__Int32_Unit__Tuple_2_Tuple_2_Int32__Int32__Int32_(_2113, _2114, _2117, _2125);
    }
    else
    {
      return acc;
    };
  });
  Seq__FromFactory$String___String___ = (function (f)
  {
    var impl;
    var _581;
    _581 = f;
    impl = (new CreateEnumerable_1_String_____ctor$String___(_581));
    return {GetEnumerator: (function (unitVar1)
    {
      return (function (__, unitVar1)
      {
        var _575;
        var _576;
        _576 = __;
        _575 = _576.factory;
        var _577;
        return _575(_577);
      })(impl, unitVar1);
    }), GetEnumerator1: (function (unitVar1)
    {
      return (function (__, unitVar1)
      {
        var _578;
        var _579;
        _579 = __;
        _578 = _579.factory;
        var _580;
        return _578(_580);
      })(impl, unitVar1);
    })};
  });
  Seq__FromFactory$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_ = (function (f)
  {
    var impl;
    var _2477;
    _2477 = f;
    impl = (new CreateEnumerable_1_Tuple_2_Boolean__Tuple_2_Int32__Int32___ctor$Tuple_2_Boolean__Tuple_2_Int32__Int32_(_2477));
    return {GetEnumerator: (function (unitVar1)
    {
      return (function (__, unitVar1)
      {
        var _2471;
        var _2472;
        _2472 = __;
        _2471 = _2472.factory;
        var _2473;
        return _2471(_2473);
      })(impl, unitVar1);
    }), GetEnumerator1: (function (unitVar1)
    {
      return (function (__, unitVar1)
      {
        var _2474;
        var _2475;
        _2475 = __;
        _2474 = _2475.factory;
        var _2476;
        return _2474(_2476);
      })(impl, unitVar1);
    })};
  });
  Seq__FromFactory$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_ = (function (f)
  {
    var impl;
    var _1836;
    _1836 = f;
    impl = (new CreateEnumerable_1_Tuple_2_Tuple_2_Int32__Int32__Int32___ctor$Tuple_2_Tuple_2_Int32__Int32__Int32_(_1836));
    return {GetEnumerator: (function (unitVar1)
    {
      return (function (__, unitVar1)
      {
        var _1830;
        var _1831;
        _1831 = __;
        _1830 = _1831.factory;
        var _1832;
        return _1830(_1832);
      })(impl, unitVar1);
    }), GetEnumerator1: (function (unitVar1)
    {
      return (function (__, unitVar1)
      {
        var _1833;
        var _1834;
        _1834 = __;
        _1833 = _1834.factory;
        var _1835;
        return _1833(_1835);
      })(impl, unitVar1);
    })};
  });
  Seq__IterateIndexed$String___String___ = (function (f, xs)
  {
    var _600;
    _600 = (function (i)
    {
      return (function (unitVar1)
      {
        return (function (x)
        {
          var _601;
          var _602;
          _602 = f;
          var _603;
          _603 = i;
          _601 = _602(_603);
          var _604;
          _604 = x;
          return _601(_604);
        });
      });
    });
    var _605;
    var _606;
    _606 = xs;
    return Seq__FoldIndexed$String____Unit_String____Unit_(_600, _605, _606);
  });
  Seq__IterateIndexed$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_ = (function (f, xs)
  {
    var _2719;
    _2719 = (function (i)
    {
      return (function (unitVar1)
      {
        return (function (x)
        {
          var _2720;
          var _2721;
          _2721 = f;
          var _2722;
          _2722 = i;
          _2720 = _2721(_2722);
          var _2723;
          _2723 = x;
          return _2720(_2723);
        });
      });
    });
    var _2724;
    var _2725;
    _2725 = xs;
    return Seq__FoldIndexed$Tuple_2_Boolean__Tuple_2_Int32__Int32__Unit_Tuple_2_Boolean__Tuple_2_Int32__Int32__Unit_(_2719, _2724, _2725);
  });
  Seq__IterateIndexed$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_ = (function (f, xs)
  {
    var _2099;
    _2099 = (function (i)
    {
      return (function (unitVar1)
      {
        return (function (x)
        {
          var _2100;
          var _2101;
          _2101 = f;
          var _2102;
          _2102 = i;
          _2100 = _2101(_2102);
          var _2103;
          _2103 = x;
          return _2100(_2103);
        });
      });
    });
    var _2104;
    var _2105;
    _2105 = xs;
    return Seq__FoldIndexed$Tuple_2_Tuple_2_Int32__Int32__Int32__Unit_Tuple_2_Tuple_2_Int32__Int32__Int32__Unit_(_2099, _2104, _2105);
  });
  Seq__OfArray$String___String___ = (function (xs)
  {
    var _500;
    var _501;
    _501 = (function (i)
    {
      var _502;
      var _503;
      _503 = i;
      var _504;
      var _505;
      var _506;
      _506 = xs;
      _505 = _506;
      _504 = Array__BoxedLength$(_505);
      _502 = (_503 < _504);
      if (_502) 
      {
        var _507;
        var _508;
        var _509;
        _509 = xs;
        var _510;
        _510 = i;
        _508 = _509[_510];
        var _511;
        var _512;
        _512 = i;
        var _513;
        _513 = 1;
        _511 = (_512 + _513);
        _507 = (new TupleString____Int32(_508, _511));
        return {Tag: 1.000000, Value: _507};
      }
      else
      {
        return {Tag: 0.000000};
      };
    });
    var f = _501;
    _500 = (function (seed)
    {
      var _514;
      _514 = f;
      var _515;
      _515 = seed;
      return Seq__Unfold$Int32__String___Int32_String___(_514, _515);
    });
    var _584;
    _584 = 0;
    return _500(_584);
  });
  Seq__Singleton$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_ = (function (x)
  {
    var _2400;
    var _2401;
    _2401 = (function (_arg1)
    {
      var _2402;
      var _2403;
      _2403 = _arg1;
      _2402 = (_2403.Tag == 0.000000);
      if (_2402) 
      {
        return {Tag: 0.000000};
      }
      else
      {
        var _2404;
        var _2406;
        _2406 = _arg1;
        _2404 = _2406.Value;
        var _x = _2404;
        var _2407;
        var _2408;
        _2408 = _x;
        var _2409;
        _2409 = {Tag: 0.000000};
        _2407 = (new TupleTuple_2_Boolean__Tuple_2_Int32__Int32__FSharpOption_1_Tuple_2_Boolean__Tuple_2_Int32__Int32_(_2408, _2409));
        return {Tag: 1.000000, Value: _2407};
      };
    });
    var f = _2401;
    _2400 = (function (seed)
    {
      var _2410;
      _2410 = f;
      var _2411;
      _2411 = seed;
      return Seq__Unfold$FSharpOption_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__Tuple_2_Boolean__Tuple_2_Int32__Int32_FSharpOption_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__Tuple_2_Boolean__Tuple_2_Int32__Int32_(_2410, _2411);
    });
    var _2480;
    var _2481;
    _2481 = x;
    _2480 = {Tag: 1.000000, Value: _2481};
    return _2400(_2480);
  });
  Seq__Singleton$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_ = (function (x)
  {
    var _1759;
    var _1760;
    _1760 = (function (_arg1)
    {
      var _1761;
      var _1762;
      _1762 = _arg1;
      _1761 = (_1762.Tag == 0.000000);
      if (_1761) 
      {
        return {Tag: 0.000000};
      }
      else
      {
        var _1763;
        var _1765;
        _1765 = _arg1;
        _1763 = _1765.Value;
        var _x = _1763;
        var _1766;
        var _1767;
        _1767 = _x;
        var _1768;
        _1768 = {Tag: 0.000000};
        _1766 = (new TupleTuple_2_Tuple_2_Int32__Int32__Int32__FSharpOption_1_Tuple_2_Tuple_2_Int32__Int32__Int32_(_1767, _1768));
        return {Tag: 1.000000, Value: _1766};
      };
    });
    var f = _1760;
    _1759 = (function (seed)
    {
      var _1769;
      _1769 = f;
      var _1770;
      _1770 = seed;
      return Seq__Unfold$FSharpOption_1_Tuple_2_Tuple_2_Int32__Int32__Int32__Tuple_2_Tuple_2_Int32__Int32__Int32_FSharpOption_1_Tuple_2_Tuple_2_Int32__Int32__Int32__Tuple_2_Tuple_2_Int32__Int32__Int32_(_1769, _1770);
    });
    var _1839;
    var _1840;
    _1840 = x;
    _1839 = {Tag: 1.000000, Value: _1840};
    return _1759(_1839);
  });
  Seq__ToArray$String___String___ = (function (xs)
  {
    var _591;
    var _592;
    _592 = 0;
    _591 = Array__ZeroCreate$String___String___(_592);
    var ys = _591;
    var _593;
    var _594;
    _594 = (function (i)
    {
      return (function (x)
      {
        var _595;
        _595 = ys;
        var _596;
        _596 = i;
        var _597;
        _597 = x;
        _595[_596] = _597;
        return null;
      });
    });
    var f = _594;
    _593 = (function (_xs)
    {
      var _598;
      _598 = f;
      var _599;
      _599 = _xs;
      return Seq__IterateIndexed$String___String___(_598, _599);
    });
    var _628;
    _628 = xs;
    _593(_628);
    return ys;
  });
  Seq__ToArray$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_ = (function (xs)
  {
    var _2710;
    var _2711;
    _2711 = 0;
    _2710 = Array__ZeroCreate$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_(_2711);
    var ys = _2710;
    var _2712;
    var _2713;
    _2713 = (function (i)
    {
      return (function (x)
      {
        var _2714;
        _2714 = ys;
        var _2715;
        _2715 = i;
        var _2716;
        _2716 = x;
        _2714[_2715] = _2716;
        return null;
      });
    });
    var f = _2713;
    _2712 = (function (_xs)
    {
      var _2717;
      _2717 = f;
      var _2718;
      _2718 = _xs;
      return Seq__IterateIndexed$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_(_2717, _2718);
    });
    var _2746;
    _2746 = xs;
    _2712(_2746);
    return ys;
  });
  Seq__ToArray$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_ = (function (xs)
  {
    var _2090;
    var _2091;
    _2091 = 0;
    _2090 = Array__ZeroCreate$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_(_2091);
    var ys = _2090;
    var _2092;
    var _2093;
    _2093 = (function (i)
    {
      return (function (x)
      {
        var _2094;
        _2094 = ys;
        var _2095;
        _2095 = i;
        var _2096;
        _2096 = x;
        _2094[_2095] = _2096;
        return null;
      });
    });
    var f = _2093;
    _2092 = (function (_xs)
    {
      var _2097;
      _2097 = f;
      var _2098;
      _2098 = _xs;
      return Seq__IterateIndexed$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_(_2097, _2098);
    });
    var _2126;
    _2126 = xs;
    _2092(_2126);
    return ys;
  });
  Seq__Unfold$Boolean__Tuple_2_Boolean__Tuple_2_Int32__Int32_Boolean_Tuple_2_Boolean__Tuple_2_Int32__Int32_ = (function (f, seed)
  {
    var _2484;
    _2484 = (function (unitVar0)
    {
      var impl;
      var _2528;
      _2528 = seed;
      var _2529;
      _2529 = f;
      impl = (new UnfoldEnumerator_2_Boolean__Tuple_2_Boolean__Tuple_2_Int32__Int32___ctor$Boolean_Tuple_2_Boolean__Tuple_2_Int32__Int32_(_2528, _2529));
      return {get_Current: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          var _2485;
          _2485 = __;
          return _2485.current;
        })(impl, unitVar1);
      }), Dispose: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          ;
        })(impl, unitVar1);
      }), MoveNext: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          var _2486;
          _2486 = (function (_unitVar0)
          {
            var _2487;
            var _2490;
            var _2491;
            _2491 = __;
            _2490 = _2491.acc;
            _2487 = _2490.Value;
            var currAcc = _2487;
            var _2492;
            var _2493;
            var _2494;
            _2494 = __;
            _2493 = _2494.unfold;
            var _2495;
            _2495 = currAcc;
            _2492 = _2493(_2495);
            var x = _2492;
            var _2496;
            var _2497;
            _2497 = x;
            _2496 = (_2497.Tag == 1.000000);
            if (_2496) 
            {
              var _2498;
              var _2499;
              var _2501;
              _2501 = x;
              _2499 = _2501.Value;
              _2498 = _2499.Items[0.000000];
              var value = _2498;
              var _2502;
              var _2503;
              var _2505;
              _2505 = x;
              _2503 = _2505.Value;
              _2502 = _2503.Items[1.000000];
              var nextAcc = _2502;
              var _2506;
              _2506 = __;
              var _2507;
              var _2508;
              _2508 = nextAcc;
              _2507 = {Tag: 1.000000, Value: _2508};
              _2506.acc = _2507;
              var _2509;
              _2509 = __;
              var _2510;
              _2510 = value;
              _2509.current = _2510;
              return true;
            }
            else
            {
              var _2511;
              _2511 = __;
              var _2512;
              _2512 = {Tag: 0.000000};
              _2511.acc = _2512;
              var _2513;
              _2513 = __;
              var _2514;
              _2514 = null;
              _2513.current = _2514;
              return false;
            };
          });
          var next = _2486;
          var _2515;
          var _2516;
          var _2517;
          var _2518;
          _2518 = __;
          _2517 = _2518.acc;
          _2516 = _2517;
          _2515 = Option__IsSome$Boolean_Boolean(_2516);
          return (_2515 && (function ()
          {
            var _2519;
            _2519 = next;
            var _2520;
            return _2519(_2520);
          })());
        })(impl, unitVar1);
      }), get_Current1: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          var _2521;
          _2521 = __;
          return _2521.current;
        })(impl, unitVar1);
      }), Reset: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          var _2522;
          _2522 = __;
          var _2523;
          var _2524;
          var _2525;
          _2525 = __;
          _2524 = _2525.seed;
          _2523 = {Tag: 1.000000, Value: _2524};
          _2522.acc = _2523;
          var _2526;
          _2526 = __;
          var _2527;
          _2527 = null;
          _2526.current = _2527;
        })(impl, unitVar1);
      })};
    });
    return Seq__FromFactory$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_(_2484);
  });
  Seq__Unfold$Boolean__Tuple_2_Tuple_2_Int32__Int32__Int32_Boolean_Tuple_2_Tuple_2_Int32__Int32__Int32_ = (function (f, seed)
  {
    var _1843;
    _1843 = (function (unitVar0)
    {
      var impl;
      var _1890;
      _1890 = seed;
      var _1891;
      _1891 = f;
      impl = (new UnfoldEnumerator_2_Boolean__Tuple_2_Tuple_2_Int32__Int32__Int32___ctor$Boolean_Tuple_2_Tuple_2_Int32__Int32__Int32_(_1890, _1891));
      return {get_Current: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          var _1844;
          _1844 = __;
          return _1844.current;
        })(impl, unitVar1);
      }), Dispose: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          ;
        })(impl, unitVar1);
      }), MoveNext: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          var _1845;
          _1845 = (function (_unitVar0)
          {
            var _1846;
            var _1849;
            var _1850;
            _1850 = __;
            _1849 = _1850.acc;
            _1846 = _1849.Value;
            var currAcc = _1846;
            var _1851;
            var _1852;
            var _1853;
            _1853 = __;
            _1852 = _1853.unfold;
            var _1854;
            _1854 = currAcc;
            _1851 = _1852(_1854);
            var x = _1851;
            var _1855;
            var _1856;
            _1856 = x;
            _1855 = (_1856.Tag == 1.000000);
            if (_1855) 
            {
              var _1857;
              var _1858;
              var _1860;
              _1860 = x;
              _1858 = _1860.Value;
              _1857 = _1858.Items[0.000000];
              var value = _1857;
              var _1861;
              var _1862;
              var _1864;
              _1864 = x;
              _1862 = _1864.Value;
              _1861 = _1862.Items[1.000000];
              var nextAcc = _1861;
              var _1865;
              _1865 = __;
              var _1866;
              var _1867;
              _1867 = nextAcc;
              _1866 = {Tag: 1.000000, Value: _1867};
              _1865.acc = _1866;
              var _1868;
              _1868 = __;
              var _1869;
              _1869 = value;
              _1868.current = _1869;
              return true;
            }
            else
            {
              var _1870;
              _1870 = __;
              var _1871;
              _1871 = {Tag: 0.000000};
              _1870.acc = _1871;
              var _1872;
              _1872 = __;
              var _1873;
              _1873 = null;
              _1872.current = _1873;
              return false;
            };
          });
          var next = _1845;
          var _1874;
          var _1875;
          var _1876;
          var _1877;
          _1877 = __;
          _1876 = _1877.acc;
          _1875 = _1876;
          _1874 = Option__IsSome$Boolean_Boolean(_1875);
          return (_1874 && (function ()
          {
            var _1881;
            _1881 = next;
            var _1882;
            return _1881(_1882);
          })());
        })(impl, unitVar1);
      }), get_Current1: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          var _1883;
          _1883 = __;
          return _1883.current;
        })(impl, unitVar1);
      }), Reset: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          var _1884;
          _1884 = __;
          var _1885;
          var _1886;
          var _1887;
          _1887 = __;
          _1886 = _1887.seed;
          _1885 = {Tag: 1.000000, Value: _1886};
          _1884.acc = _1885;
          var _1888;
          _1888 = __;
          var _1889;
          _1889 = null;
          _1888.current = _1889;
        })(impl, unitVar1);
      })};
    });
    return Seq__FromFactory$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_(_1843);
  });
  Seq__Unfold$FSharpOption_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__Tuple_2_Boolean__Tuple_2_Int32__Int32_FSharpOption_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__Tuple_2_Boolean__Tuple_2_Int32__Int32_ = (function (f, seed)
  {
    var _2412;
    _2412 = (function (unitVar0)
    {
      var impl;
      var _2459;
      _2459 = seed;
      var _2460;
      _2460 = f;
      impl = (new UnfoldEnumerator_2_FSharpOption_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__Tuple_2_Boolean__Tuple_2_Int32__Int32___ctor$FSharpOption_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__Tuple_2_Boolean__Tuple_2_Int32__Int32_(_2459, _2460));
      return {get_Current: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          var _2413;
          _2413 = __;
          return _2413.current;
        })(impl, unitVar1);
      }), Dispose: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          ;
        })(impl, unitVar1);
      }), MoveNext: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          var _2414;
          _2414 = (function (_unitVar0)
          {
            var _2415;
            var _2418;
            var _2419;
            _2419 = __;
            _2418 = _2419.acc;
            _2415 = _2418.Value;
            var currAcc = _2415;
            var _2420;
            var _2421;
            var _2422;
            _2422 = __;
            _2421 = _2422.unfold;
            var _2423;
            _2423 = currAcc;
            _2420 = _2421(_2423);
            var x = _2420;
            var _2424;
            var _2425;
            _2425 = x;
            _2424 = (_2425.Tag == 1.000000);
            if (_2424) 
            {
              var _2426;
              var _2427;
              var _2429;
              _2429 = x;
              _2427 = _2429.Value;
              _2426 = _2427.Items[0.000000];
              var value = _2426;
              var _2430;
              var _2431;
              var _2433;
              _2433 = x;
              _2431 = _2433.Value;
              _2430 = _2431.Items[1.000000];
              var nextAcc = _2430;
              var _2434;
              _2434 = __;
              var _2435;
              var _2436;
              _2436 = nextAcc;
              _2435 = {Tag: 1.000000, Value: _2436};
              _2434.acc = _2435;
              var _2437;
              _2437 = __;
              var _2438;
              _2438 = value;
              _2437.current = _2438;
              return true;
            }
            else
            {
              var _2439;
              _2439 = __;
              var _2440;
              _2440 = {Tag: 0.000000};
              _2439.acc = _2440;
              var _2441;
              _2441 = __;
              var _2442;
              _2442 = null;
              _2441.current = _2442;
              return false;
            };
          });
          var next = _2414;
          var _2443;
          var _2444;
          var _2445;
          var _2446;
          _2446 = __;
          _2445 = _2446.acc;
          _2444 = _2445;
          _2443 = Option__IsSome$FSharpOption_1_Tuple_2_Boolean__Tuple_2_Int32__Int32_FSharpOption_1_Tuple_2_Boolean__Tuple_2_Int32__Int32_(_2444);
          return (_2443 && (function ()
          {
            var _2450;
            _2450 = next;
            var _2451;
            return _2450(_2451);
          })());
        })(impl, unitVar1);
      }), get_Current1: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          var _2452;
          _2452 = __;
          return _2452.current;
        })(impl, unitVar1);
      }), Reset: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          var _2453;
          _2453 = __;
          var _2454;
          var _2455;
          var _2456;
          _2456 = __;
          _2455 = _2456.seed;
          _2454 = {Tag: 1.000000, Value: _2455};
          _2453.acc = _2454;
          var _2457;
          _2457 = __;
          var _2458;
          _2458 = null;
          _2457.current = _2458;
        })(impl, unitVar1);
      })};
    });
    return Seq__FromFactory$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_(_2412);
  });
  Seq__Unfold$FSharpOption_1_Tuple_2_Tuple_2_Int32__Int32__Int32__Tuple_2_Tuple_2_Int32__Int32__Int32_FSharpOption_1_Tuple_2_Tuple_2_Int32__Int32__Int32__Tuple_2_Tuple_2_Int32__Int32__Int32_ = (function (f, seed)
  {
    var _1771;
    _1771 = (function (unitVar0)
    {
      var impl;
      var _1818;
      _1818 = seed;
      var _1819;
      _1819 = f;
      impl = (new UnfoldEnumerator_2_FSharpOption_1_Tuple_2_Tuple_2_Int32__Int32__Int32__Tuple_2_Tuple_2_Int32__Int32__Int32___ctor$FSharpOption_1_Tuple_2_Tuple_2_Int32__Int32__Int32__Tuple_2_Tuple_2_Int32__Int32__Int32_(_1818, _1819));
      return {get_Current: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          var _1772;
          _1772 = __;
          return _1772.current;
        })(impl, unitVar1);
      }), Dispose: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          ;
        })(impl, unitVar1);
      }), MoveNext: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          var _1773;
          _1773 = (function (_unitVar0)
          {
            var _1774;
            var _1777;
            var _1778;
            _1778 = __;
            _1777 = _1778.acc;
            _1774 = _1777.Value;
            var currAcc = _1774;
            var _1779;
            var _1780;
            var _1781;
            _1781 = __;
            _1780 = _1781.unfold;
            var _1782;
            _1782 = currAcc;
            _1779 = _1780(_1782);
            var x = _1779;
            var _1783;
            var _1784;
            _1784 = x;
            _1783 = (_1784.Tag == 1.000000);
            if (_1783) 
            {
              var _1785;
              var _1786;
              var _1788;
              _1788 = x;
              _1786 = _1788.Value;
              _1785 = _1786.Items[0.000000];
              var value = _1785;
              var _1789;
              var _1790;
              var _1792;
              _1792 = x;
              _1790 = _1792.Value;
              _1789 = _1790.Items[1.000000];
              var nextAcc = _1789;
              var _1793;
              _1793 = __;
              var _1794;
              var _1795;
              _1795 = nextAcc;
              _1794 = {Tag: 1.000000, Value: _1795};
              _1793.acc = _1794;
              var _1796;
              _1796 = __;
              var _1797;
              _1797 = value;
              _1796.current = _1797;
              return true;
            }
            else
            {
              var _1798;
              _1798 = __;
              var _1799;
              _1799 = {Tag: 0.000000};
              _1798.acc = _1799;
              var _1800;
              _1800 = __;
              var _1801;
              _1801 = null;
              _1800.current = _1801;
              return false;
            };
          });
          var next = _1773;
          var _1802;
          var _1803;
          var _1804;
          var _1805;
          _1805 = __;
          _1804 = _1805.acc;
          _1803 = _1804;
          _1802 = Option__IsSome$FSharpOption_1_Tuple_2_Tuple_2_Int32__Int32__Int32_FSharpOption_1_Tuple_2_Tuple_2_Int32__Int32__Int32_(_1803);
          return (_1802 && (function ()
          {
            var _1809;
            _1809 = next;
            var _1810;
            return _1809(_1810);
          })());
        })(impl, unitVar1);
      }), get_Current1: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          var _1811;
          _1811 = __;
          return _1811.current;
        })(impl, unitVar1);
      }), Reset: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          var _1812;
          _1812 = __;
          var _1813;
          var _1814;
          var _1815;
          _1815 = __;
          _1814 = _1815.seed;
          _1813 = {Tag: 1.000000, Value: _1814};
          _1812.acc = _1813;
          var _1816;
          _1816 = __;
          var _1817;
          _1817 = null;
          _1816.current = _1817;
        })(impl, unitVar1);
      })};
    });
    return Seq__FromFactory$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_(_1771);
  });
  Seq__Unfold$Int32__String___Int32_String___ = (function (f, seed)
  {
    var _516;
    _516 = (function (unitVar0)
    {
      var impl;
      var _563;
      _563 = seed;
      var _564;
      _564 = f;
      impl = (new UnfoldEnumerator_2_Int32__String_____ctor$Int32_String___(_563, _564));
      return {get_Current: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          var _517;
          _517 = __;
          return _517.current;
        })(impl, unitVar1);
      }), Dispose: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          ;
        })(impl, unitVar1);
      }), MoveNext: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          var _518;
          _518 = (function (_unitVar0)
          {
            var _519;
            var _522;
            var _523;
            _523 = __;
            _522 = _523.acc;
            _519 = _522.Value;
            var currAcc = _519;
            var _524;
            var _525;
            var _526;
            _526 = __;
            _525 = _526.unfold;
            var _527;
            _527 = currAcc;
            _524 = _525(_527);
            var x = _524;
            var _528;
            var _529;
            _529 = x;
            _528 = (_529.Tag == 1.000000);
            if (_528) 
            {
              var _530;
              var _531;
              var _533;
              _533 = x;
              _531 = _533.Value;
              _530 = _531.Items[0.000000];
              var value = _530;
              var _534;
              var _535;
              var _537;
              _537 = x;
              _535 = _537.Value;
              _534 = _535.Items[1.000000];
              var nextAcc = _534;
              var _538;
              _538 = __;
              var _539;
              var _540;
              _540 = nextAcc;
              _539 = {Tag: 1.000000, Value: _540};
              _538.acc = _539;
              var _541;
              _541 = __;
              var _542;
              _542 = value;
              _541.current = _542;
              return true;
            }
            else
            {
              var _543;
              _543 = __;
              var _544;
              _544 = {Tag: 0.000000};
              _543.acc = _544;
              var _545;
              _545 = __;
              var _546;
              _546 = null;
              _545.current = _546;
              return false;
            };
          });
          var next = _518;
          var _547;
          var _548;
          var _549;
          var _550;
          _550 = __;
          _549 = _550.acc;
          _548 = _549;
          _547 = Option__IsSome$Int32_Int32(_548);
          return (_547 && (function ()
          {
            var _554;
            _554 = next;
            var _555;
            return _554(_555);
          })());
        })(impl, unitVar1);
      }), get_Current1: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          var _556;
          _556 = __;
          return _556.current;
        })(impl, unitVar1);
      }), Reset: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          var _557;
          _557 = __;
          var _558;
          var _559;
          var _560;
          _560 = __;
          _559 = _560.seed;
          _558 = {Tag: 1.000000, Value: _559};
          _557.acc = _558;
          var _561;
          _561 = __;
          var _562;
          _562 = null;
          _561.current = _562;
        })(impl, unitVar1);
      })};
    });
    return Seq__FromFactory$String___String___(_516);
  });
  Seq__Unfold$Tuple_2_IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__Tuple_2_Boolean__Tuple_2_Int32__Int32_ = (function (f, seed)
  {
    var _2650;
    _2650 = (function (unitVar0)
    {
      var impl;
      var _2697;
      _2697 = seed;
      var _2698;
      _2698 = f;
      impl = (new UnfoldEnumerator_2_Tuple_2_IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__Tuple_2_Boolean__Tuple_2_Int32__Int32___ctor$Tuple_2_IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__Tuple_2_Boolean__Tuple_2_Int32__Int32_(_2697, _2698));
      return {get_Current: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          var _2651;
          _2651 = __;
          return _2651.current;
        })(impl, unitVar1);
      }), Dispose: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          ;
        })(impl, unitVar1);
      }), MoveNext: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          var _2652;
          _2652 = (function (_unitVar0)
          {
            var _2653;
            var _2656;
            var _2657;
            _2657 = __;
            _2656 = _2657.acc;
            _2653 = _2656.Value;
            var currAcc = _2653;
            var _2658;
            var _2659;
            var _2660;
            _2660 = __;
            _2659 = _2660.unfold;
            var _2661;
            _2661 = currAcc;
            _2658 = _2659(_2661);
            var x = _2658;
            var _2662;
            var _2663;
            _2663 = x;
            _2662 = (_2663.Tag == 1.000000);
            if (_2662) 
            {
              var _2664;
              var _2665;
              var _2667;
              _2667 = x;
              _2665 = _2667.Value;
              _2664 = _2665.Items[0.000000];
              var value = _2664;
              var _2668;
              var _2669;
              var _2671;
              _2671 = x;
              _2669 = _2671.Value;
              _2668 = _2669.Items[1.000000];
              var nextAcc = _2668;
              var _2672;
              _2672 = __;
              var _2673;
              var _2674;
              _2674 = nextAcc;
              _2673 = {Tag: 1.000000, Value: _2674};
              _2672.acc = _2673;
              var _2675;
              _2675 = __;
              var _2676;
              _2676 = value;
              _2675.current = _2676;
              return true;
            }
            else
            {
              var _2677;
              _2677 = __;
              var _2678;
              _2678 = {Tag: 0.000000};
              _2677.acc = _2678;
              var _2679;
              _2679 = __;
              var _2680;
              _2680 = null;
              _2679.current = _2680;
              return false;
            };
          });
          var next = _2652;
          var _2681;
          var _2682;
          var _2683;
          var _2684;
          _2684 = __;
          _2683 = _2684.acc;
          _2682 = _2683;
          _2681 = Option__IsSome$Tuple_2_IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32_(_2682);
          return (_2681 && (function ()
          {
            var _2688;
            _2688 = next;
            var _2689;
            return _2688(_2689);
          })());
        })(impl, unitVar1);
      }), get_Current1: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          var _2690;
          _2690 = __;
          return _2690.current;
        })(impl, unitVar1);
      }), Reset: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          var _2691;
          _2691 = __;
          var _2692;
          var _2693;
          var _2694;
          _2694 = __;
          _2693 = _2694.seed;
          _2692 = {Tag: 1.000000, Value: _2693};
          _2691.acc = _2692;
          var _2695;
          _2695 = __;
          var _2696;
          _2696 = null;
          _2695.current = _2696;
        })(impl, unitVar1);
      })};
    });
    return Seq__FromFactory$Tuple_2_Boolean__Tuple_2_Int32__Int32_Tuple_2_Boolean__Tuple_2_Int32__Int32_(_2650);
  });
  Seq__Unfold$Tuple_2_IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32__IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32__Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32__IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32__Tuple_2_Tuple_2_Int32__Int32__Int32_ = (function (f, seed)
  {
    var _2030;
    _2030 = (function (unitVar0)
    {
      var impl;
      var _2077;
      _2077 = seed;
      var _2078;
      _2078 = f;
      impl = (new UnfoldEnumerator_2_Tuple_2_IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32__IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32__Tuple_2_Tuple_2_Int32__Int32__Int32___ctor$Tuple_2_IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32__IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32__Tuple_2_Tuple_2_Int32__Int32__Int32_(_2077, _2078));
      return {get_Current: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          var _2031;
          _2031 = __;
          return _2031.current;
        })(impl, unitVar1);
      }), Dispose: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          ;
        })(impl, unitVar1);
      }), MoveNext: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          var _2032;
          _2032 = (function (_unitVar0)
          {
            var _2033;
            var _2036;
            var _2037;
            _2037 = __;
            _2036 = _2037.acc;
            _2033 = _2036.Value;
            var currAcc = _2033;
            var _2038;
            var _2039;
            var _2040;
            _2040 = __;
            _2039 = _2040.unfold;
            var _2041;
            _2041 = currAcc;
            _2038 = _2039(_2041);
            var x = _2038;
            var _2042;
            var _2043;
            _2043 = x;
            _2042 = (_2043.Tag == 1.000000);
            if (_2042) 
            {
              var _2044;
              var _2045;
              var _2047;
              _2047 = x;
              _2045 = _2047.Value;
              _2044 = _2045.Items[0.000000];
              var value = _2044;
              var _2048;
              var _2049;
              var _2051;
              _2051 = x;
              _2049 = _2051.Value;
              _2048 = _2049.Items[1.000000];
              var nextAcc = _2048;
              var _2052;
              _2052 = __;
              var _2053;
              var _2054;
              _2054 = nextAcc;
              _2053 = {Tag: 1.000000, Value: _2054};
              _2052.acc = _2053;
              var _2055;
              _2055 = __;
              var _2056;
              _2056 = value;
              _2055.current = _2056;
              return true;
            }
            else
            {
              var _2057;
              _2057 = __;
              var _2058;
              _2058 = {Tag: 0.000000};
              _2057.acc = _2058;
              var _2059;
              _2059 = __;
              var _2060;
              _2060 = null;
              _2059.current = _2060;
              return false;
            };
          });
          var next = _2032;
          var _2061;
          var _2062;
          var _2063;
          var _2064;
          _2064 = __;
          _2063 = _2064.acc;
          _2062 = _2063;
          _2061 = Option__IsSome$Tuple_2_IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32__IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32__IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32_(_2062);
          return (_2061 && (function ()
          {
            var _2068;
            _2068 = next;
            var _2069;
            return _2068(_2069);
          })());
        })(impl, unitVar1);
      }), get_Current1: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          var _2070;
          _2070 = __;
          return _2070.current;
        })(impl, unitVar1);
      }), Reset: (function (unitVar1)
      {
        return (function (__, unitVar1)
        {
          var _2071;
          _2071 = __;
          var _2072;
          var _2073;
          var _2074;
          _2074 = __;
          _2073 = _2074.seed;
          _2072 = {Tag: 1.000000, Value: _2073};
          _2071.acc = _2072;
          var _2075;
          _2075 = __;
          var _2076;
          _2076 = null;
          _2075.current = _2076;
        })(impl, unitVar1);
      })};
    });
    return Seq__FromFactory$Tuple_2_Tuple_2_Int32__Int32__Int32_Tuple_2_Tuple_2_Int32__Int32__Int32_(_2030);
  });
  SetTreeModule__SetNode$Int32_Int32 = (function (x, l, r, h)
  {
    var _60;
    _60 = x;
    var _61;
    _61 = l;
    var _62;
    _62 = r;
    var _63;
    _63 = h;
    return (new SetTree_1_Int32__SetNodeInt32(_60, _61, _62, _63));
  });
  SetTreeModule__SetOne$Int32_Int32 = (function (n)
  {
    var _74;
    _74 = n;
    return (new SetTree_1_Int32__SetOneInt32(_74));
  });
  SetTreeModule__add$Int32_Int32 = (function (comparer, k, t)
  {
    var _44;
    var _45;
    _45 = t;
    _44 = (_45.Tag == 2.000000);
    if (_44) 
    {
      var _46;
      var _48;
      _48 = t;
      _46 = _48.Item;
      var k2 = _46;
      var _49;
      var _50;
      _50 = comparer;
      var _51;
      _51 = k;
      var _52;
      _52 = k2;
      _49 = _50.Compare(_51, _52);
      var c = _49;
      var _53;
      var _54;
      _54 = c;
      var _55;
      _55 = 0;
      _53 = (_54 < _55);
      if (_53) 
      {
        var _56;
        _56 = k;
        var _57;
        _57 = (new SetTree_1_Int32__SetEmptyInt32());
        var _58;
        _58 = t;
        var _59;
        _59 = 2;
        return SetTreeModule__SetNode$Int32_Int32(_56, _57, _58, _59);
      }
      else
      {
        var _64;
        var _65;
        _65 = c;
        var _66;
        _66 = 0;
        _64 = (_65 == _66);
        if (_64) 
        {
          return t;
        }
        else
        {
          var _67;
          _67 = k;
          var _68;
          _68 = t;
          var _69;
          _69 = (new SetTree_1_Int32__SetEmptyInt32());
          var _70;
          _70 = 2;
          return SetTreeModule__SetNode$Int32_Int32(_67, _68, _69, _70);
        };
      };
    }
    else
    {
      var _71;
      var _72;
      _72 = t;
      _71 = (_72.Tag == 0.000000);
      if (_71) 
      {
        var _73;
        _73 = k;
        return SetTreeModule__SetOne$Int32_Int32(_73);
      }
      else
      {
        var _75;
        var _77;
        _77 = t;
        _75 = _77.Item3;
        var r = _75;
        var _78;
        var _80;
        _80 = t;
        _78 = _80.Item2;
        var l = _78;
        var _81;
        var _83;
        _83 = t;
        _81 = _83.Item1;
        var _k2 = _81;
        var _84;
        var _85;
        _85 = comparer;
        var _86;
        _86 = k;
        var _87;
        _87 = _k2;
        _84 = _85.Compare(_86, _87);
        var _c = _84;
        var _88;
        var _89;
        _89 = _c;
        var _90;
        _90 = 0;
        _88 = (_89 < _90);
        if (_88) 
        {
          var _91;
          var _92;
          _92 = comparer;
          var _93;
          _93 = k;
          var _94;
          _94 = l;
          _91 = SetTreeModule__add$Int32_Int32(_92, _93, _94);
          var _95;
          _95 = _k2;
          var _96;
          _96 = r;
          return SetTreeModule__rebalance$Int32_Int32(_91, _95, _96);
        }
        else
        {
          var _249;
          var _250;
          _250 = _c;
          var _251;
          _251 = 0;
          _249 = (_250 == _251);
          if (_249) 
          {
            return t;
          }
          else
          {
            var _252;
            _252 = l;
            var _253;
            _253 = _k2;
            var _254;
            var _255;
            _255 = comparer;
            var _256;
            _256 = k;
            var _257;
            _257 = r;
            _254 = SetTreeModule__add$Int32_Int32(_255, _256, _257);
            return SetTreeModule__rebalance$Int32_Int32(_252, _253, _254);
          };
        };
      };
    };
  });
  SetTreeModule__get_tolerance$ = (function ()
  {
    return 2;
  });
  SetTreeModule__height$Int32_Int32 = (function (t)
  {
    var _99;
    var _100;
    _100 = t;
    _99 = (_100.Tag == 2.000000);
    if (_99) 
    {
      return 1;
    }
    else
    {
      var _101;
      var _102;
      _102 = t;
      _101 = (_102.Tag == 1.000000);
      if (_101) 
      {
        var _103;
        var _105;
        _105 = t;
        _103 = _105.Item4;
        var h = _103;
        return h;
      }
      else
      {
        return 0;
      };
    };
  });
  SetTreeModule__mem$Int32_Int32 = (function (comparer, k, t)
  {
    var _2351;
    var _2352;
    _2352 = t;
    _2351 = (_2352.Tag == 2.000000);
    if (_2351) 
    {
      var _2353;
      var _2355;
      _2355 = t;
      _2353 = _2355.Item;
      var k2 = _2353;
      var _2356;
      var _2357;
      _2357 = comparer;
      var _2358;
      _2358 = k;
      var _2359;
      _2359 = k2;
      _2356 = _2357.Compare(_2358, _2359);
      var _2360;
      _2360 = 0;
      return (_2356 == _2360);
    }
    else
    {
      var _2361;
      var _2362;
      _2362 = t;
      _2361 = (_2362.Tag == 0.000000);
      if (_2361) 
      {
        return false;
      }
      else
      {
        var _2363;
        var _2365;
        _2365 = t;
        _2363 = _2365.Item3;
        var r = _2363;
        var _2366;
        var _2368;
        _2368 = t;
        _2366 = _2368.Item2;
        var l = _2366;
        var _2369;
        var _2371;
        _2371 = t;
        _2369 = _2371.Item1;
        var _k2 = _2369;
        var _2372;
        var _2373;
        _2373 = comparer;
        var _2374;
        _2374 = k;
        var _2375;
        _2375 = _k2;
        _2372 = _2373.Compare(_2374, _2375);
        var c = _2372;
        var _2376;
        var _2377;
        _2377 = c;
        var _2378;
        _2378 = 0;
        _2376 = (_2377 < _2378);
        if (_2376) 
        {
          var _2379;
          _2379 = comparer;
          var _2380;
          _2380 = k;
          var _2381;
          _2381 = l;
          return SetTreeModule__mem$Int32_Int32(_2379, _2380, _2381);
        }
        else
        {
          var _2382;
          var _2383;
          _2383 = c;
          var _2384;
          _2384 = 0;
          _2382 = (_2383 == _2384);
          return (_2382 || (function ()
          {
            var _2385;
            _2385 = comparer;
            var _2386;
            _2386 = k;
            var _2387;
            _2387 = r;
            return SetTreeModule__mem$Int32_Int32(_2385, _2386, _2387);
          })());
        };
      };
    };
  });
  SetTreeModule__mk$Int32_Int32 = (function (l, k, r)
  {
    var _145;
    var _146;
    _146 = l;
    var _147;
    _147 = r;
    _145 = (new TupleSetTree_1_Int32__SetTree_1_Int32_(_146, _147));
    var matchValue = _145;
    var _148;
    var _149;
    var _150;
    _150 = matchValue;
    _149 = _150.Items[0.000000];
    _148 = (_149.Tag == 0.000000);
    if (_148) 
    {
      var _151;
      var _152;
      var _153;
      _153 = matchValue;
      _152 = _153.Items[1.000000];
      _151 = (_152.Tag == 0.000000);
      if (_151) 
      {
        var _154;
        _154 = k;
        return SetTreeModule__SetOne$Int32_Int32(_154);
      }
      else
      {
        var _155;
        var _156;
        _156 = l;
        _155 = SetTreeModule__height$Int32_Int32(_156);
        var hl = _155;
        var _157;
        var _158;
        _158 = r;
        _157 = SetTreeModule__height$Int32_Int32(_158);
        var hr = _157;
        var _159;
        var _160;
        var _161;
        _161 = hl;
        var _162;
        _162 = hr;
        _160 = (_161 < _162);
        if (_160) 
        {
          _159 = hr;
        }
        else
        {
          _159 = hl;
        };
        var m = _159;
        var _163;
        _163 = k;
        var _164;
        _164 = l;
        var _165;
        _165 = r;
        var _166;
        var _167;
        _167 = m;
        var _168;
        _168 = 1;
        _166 = (_167 + _168);
        return SetTreeModule__SetNode$Int32_Int32(_163, _164, _165, _166);
      };
    }
    else
    {
      var _169;
      var _170;
      _170 = l;
      _169 = SetTreeModule__height$Int32_Int32(_170);
      var _hl = _169;
      var _171;
      var _172;
      _172 = r;
      _171 = SetTreeModule__height$Int32_Int32(_172);
      var _hr = _171;
      var _173;
      var _174;
      var _175;
      _175 = _hl;
      var _176;
      _176 = _hr;
      _174 = (_175 < _176);
      if (_174) 
      {
        _173 = _hr;
      }
      else
      {
        _173 = _hl;
      };
      var _m = _173;
      var _177;
      _177 = k;
      var _178;
      _178 = l;
      var _179;
      _179 = r;
      var _180;
      var _181;
      _181 = _m;
      var _182;
      _182 = 1;
      _180 = (_181 + _182);
      return SetTreeModule__SetNode$Int32_Int32(_177, _178, _179, _180);
    };
  });
  SetTreeModule__rebalance$Int32_Int32 = (function (t1, k, t2)
  {
    var _97;
    var _98;
    _98 = t1;
    _97 = SetTreeModule__height$Int32_Int32(_98);
    var t1h = _97;
    var _106;
    var _107;
    _107 = t2;
    _106 = SetTreeModule__height$Int32_Int32(_107);
    var t2h = _106;
    var _108;
    var _109;
    _109 = t2h;
    var _110;
    var _111;
    _111 = t1h;
    var _112;
    _112 = SetTreeModule__get_tolerance$();
    _110 = (_111 + _112);
    _108 = (_109 > _110);
    if (_108) 
    {
      var _113;
      var _114;
      _114 = t2;
      _113 = (_114.Tag == 1.000000);
      if (_113) 
      {
        var _115;
        var _117;
        _117 = t2;
        _115 = _117.Item3;
        var t2r = _115;
        var _118;
        var _120;
        _120 = t2;
        _118 = _120.Item2;
        var t2l = _118;
        var _121;
        var _123;
        _123 = t2;
        _121 = _123.Item1;
        var t2k = _121;
        var _124;
        var _125;
        var _126;
        _126 = t2l;
        _125 = SetTreeModule__height$Int32_Int32(_126);
        var _127;
        var _128;
        _128 = t1h;
        var _129;
        _129 = 1;
        _127 = (_128 + _129);
        _124 = (_125 > _127);
        if (_124) 
        {
          var _130;
          var _131;
          _131 = t2l;
          _130 = (_131.Tag == 1.000000);
          if (_130) 
          {
            var _132;
            var _134;
            _134 = t2l;
            _132 = _134.Item3;
            var t2lr = _132;
            var _135;
            var _137;
            _137 = t2l;
            _135 = _137.Item2;
            var t2ll = _135;
            var _138;
            var _140;
            _140 = t2l;
            _138 = _140.Item1;
            var t2lk = _138;
            var _141;
            var _142;
            _142 = t1;
            var _143;
            _143 = k;
            var _144;
            _144 = t2ll;
            _141 = SetTreeModule__mk$Int32_Int32(_142, _143, _144);
            var _183;
            _183 = t2lk;
            var _184;
            var _185;
            _185 = t2lr;
            var _186;
            _186 = t2k;
            var _187;
            _187 = t2r;
            _184 = SetTreeModule__mk$Int32_Int32(_185, _186, _187);
            return SetTreeModule__mk$Int32_Int32(_141, _183, _184);
          }
          else
          {
            var _188;
            _188 = "rebalance";
            throw (_188);
            return null;
          };
        }
        else
        {
          var _189;
          var _190;
          _190 = t1;
          var _191;
          _191 = k;
          var _192;
          _192 = t2l;
          _189 = SetTreeModule__mk$Int32_Int32(_190, _191, _192);
          var _193;
          _193 = t2k;
          var _194;
          _194 = t2r;
          return SetTreeModule__mk$Int32_Int32(_189, _193, _194);
        };
      }
      else
      {
        var _195;
        _195 = "rebalance";
        throw (_195);
        return null;
      };
    }
    else
    {
      var _196;
      var _197;
      _197 = t1h;
      var _198;
      var _199;
      _199 = t2h;
      var _200;
      _200 = SetTreeModule__get_tolerance$();
      _198 = (_199 + _200);
      _196 = (_197 > _198);
      if (_196) 
      {
        var _201;
        var _202;
        _202 = t1;
        _201 = (_202.Tag == 1.000000);
        if (_201) 
        {
          var _203;
          var _205;
          _205 = t1;
          _203 = _205.Item3;
          var t1r = _203;
          var _206;
          var _208;
          _208 = t1;
          _206 = _208.Item2;
          var t1l = _206;
          var _209;
          var _211;
          _211 = t1;
          _209 = _211.Item1;
          var t1k = _209;
          var _212;
          var _213;
          var _214;
          _214 = t1r;
          _213 = SetTreeModule__height$Int32_Int32(_214);
          var _215;
          var _216;
          _216 = t2h;
          var _217;
          _217 = 1;
          _215 = (_216 + _217);
          _212 = (_213 > _215);
          if (_212) 
          {
            var _218;
            var _219;
            _219 = t1r;
            _218 = (_219.Tag == 1.000000);
            if (_218) 
            {
              var _220;
              var _222;
              _222 = t1r;
              _220 = _222.Item3;
              var t1rr = _220;
              var _223;
              var _225;
              _225 = t1r;
              _223 = _225.Item2;
              var t1rl = _223;
              var _226;
              var _228;
              _228 = t1r;
              _226 = _228.Item1;
              var t1rk = _226;
              var _229;
              var _230;
              _230 = t1l;
              var _231;
              _231 = t1k;
              var _232;
              _232 = t1rl;
              _229 = SetTreeModule__mk$Int32_Int32(_230, _231, _232);
              var _233;
              _233 = t1rk;
              var _234;
              var _235;
              _235 = t1rr;
              var _236;
              _236 = k;
              var _237;
              _237 = t2;
              _234 = SetTreeModule__mk$Int32_Int32(_235, _236, _237);
              return SetTreeModule__mk$Int32_Int32(_229, _233, _234);
            }
            else
            {
              var _238;
              _238 = "rebalance";
              throw (_238);
              return null;
            };
          }
          else
          {
            var _239;
            _239 = t1l;
            var _240;
            _240 = t1k;
            var _241;
            var _242;
            _242 = t1r;
            var _243;
            _243 = k;
            var _244;
            _244 = t2;
            _241 = SetTreeModule__mk$Int32_Int32(_242, _243, _244);
            return SetTreeModule__mk$Int32_Int32(_239, _240, _241);
          };
        }
        else
        {
          var _245;
          _245 = "rebalance";
          throw (_245);
          return null;
        };
      }
      else
      {
        var _246;
        _246 = t1;
        var _247;
        _247 = k;
        var _248;
        _248 = t2;
        return SetTreeModule__mk$Int32_Int32(_246, _247, _248);
      };
    };
  });
  SetTreeModule__remove$Int32_Int32 = (function (comparer, k, t)
  {
    var _272;
    var _273;
    _273 = t;
    _272 = (_273.Tag == 2.000000);
    if (_272) 
    {
      var _274;
      var _276;
      _276 = t;
      _274 = _276.Item;
      var k2 = _274;
      var _277;
      var _278;
      _278 = comparer;
      var _279;
      _279 = k;
      var _280;
      _280 = k2;
      _277 = _278.Compare(_279, _280);
      var c = _277;
      var _281;
      var _282;
      _282 = c;
      var _283;
      _283 = 0;
      _281 = (_282 == _283);
      if (_281) 
      {
        return (new SetTree_1_Int32__SetEmptyInt32());
      }
      else
      {
        return t;
      };
    }
    else
    {
      var _284;
      var _285;
      _285 = t;
      _284 = (_285.Tag == 1.000000);
      if (_284) 
      {
        var _286;
        var _288;
        _288 = t;
        _286 = _288.Item3;
        var r = _286;
        var _289;
        var _291;
        _291 = t;
        _289 = _291.Item2;
        var l = _289;
        var _292;
        var _294;
        _294 = t;
        _292 = _294.Item1;
        var _k2 = _292;
        var _295;
        var _296;
        _296 = comparer;
        var _297;
        _297 = k;
        var _298;
        _298 = _k2;
        _295 = _296.Compare(_297, _298);
        var _c = _295;
        var _299;
        var _300;
        _300 = _c;
        var _301;
        _301 = 0;
        _299 = (_300 < _301);
        if (_299) 
        {
          var _302;
          var _303;
          _303 = comparer;
          var _304;
          _304 = k;
          var _305;
          _305 = l;
          _302 = SetTreeModule__remove$Int32_Int32(_303, _304, _305);
          var _306;
          _306 = _k2;
          var _307;
          _307 = r;
          return SetTreeModule__rebalance$Int32_Int32(_302, _306, _307);
        }
        else
        {
          var _308;
          var _309;
          _309 = _c;
          var _310;
          _310 = 0;
          _308 = (_309 == _310);
          if (_308) 
          {
            var _311;
            var _312;
            _312 = l;
            var _313;
            _313 = r;
            _311 = (new TupleSetTree_1_Int32__SetTree_1_Int32_(_312, _313));
            var matchValue = _311;
            var _314;
            var _315;
            var _316;
            _316 = matchValue;
            _315 = _316.Items[0.000000];
            _314 = (_315.Tag == 0.000000);
            if (_314) 
            {
              return r;
            }
            else
            {
              var _317;
              var _318;
              var _319;
              _319 = matchValue;
              _318 = _319.Items[1.000000];
              _317 = (_318.Tag == 0.000000);
              if (_317) 
              {
                return l;
              }
              else
              {
                var _320;
                var _321;
                _321 = r;
                _320 = SetTreeModule__spliceOutSuccessor$Int32_Int32(_321);
                var patternInput = _320;
                var _356;
                var _357;
                _357 = patternInput;
                _356 = _357.Items[0.000000];
                var sk = _356;
                var _358;
                var _359;
                _359 = patternInput;
                _358 = _359.Items[1.000000];
                var r_ = _358;
                var _360;
                _360 = l;
                var _361;
                _361 = sk;
                var _362;
                _362 = r_;
                return SetTreeModule__mk$Int32_Int32(_360, _361, _362);
              };
            };
          }
          else
          {
            var _363;
            _363 = l;
            var _364;
            _364 = _k2;
            var _365;
            var _366;
            _366 = comparer;
            var _367;
            _367 = k;
            var _368;
            _368 = r;
            _365 = SetTreeModule__remove$Int32_Int32(_366, _367, _368);
            return SetTreeModule__rebalance$Int32_Int32(_363, _364, _365);
          };
        };
      }
      else
      {
        return t;
      };
    };
  });
  SetTreeModule__spliceOutSuccessor$Int32_Int32 = (function (t)
  {
    var _322;
    var _323;
    _323 = t;
    _322 = (_323.Tag == 2.000000);
    if (_322) 
    {
      var _324;
      var _326;
      _326 = t;
      _324 = _326.Item;
      var k2 = _324;
      var _327;
      _327 = k2;
      var _328;
      _328 = (new SetTree_1_Int32__SetEmptyInt32());
      return (new TupleInt32_SetTree_1_Int32_(_327, _328));
    }
    else
    {
      var _329;
      var _330;
      _330 = t;
      _329 = (_330.Tag == 1.000000);
      if (_329) 
      {
        var _331;
        var _333;
        _333 = t;
        _331 = _333.Item3;
        var r = _331;
        var _334;
        var _336;
        _336 = t;
        _334 = _336.Item2;
        var l = _334;
        var _337;
        var _339;
        _339 = t;
        _337 = _339.Item1;
        var _k2 = _337;
        var _340;
        var _341;
        _341 = l;
        _340 = (_341.Tag == 0.000000);
        if (_340) 
        {
          var _342;
          _342 = _k2;
          var _343;
          _343 = r;
          return (new TupleInt32_SetTree_1_Int32_(_342, _343));
        }
        else
        {
          var _344;
          var _345;
          _345 = l;
          _344 = SetTreeModule__spliceOutSuccessor$Int32_Int32(_345);
          var patternInput = _344;
          var _346;
          var _347;
          _347 = patternInput;
          _346 = _347.Items[1.000000];
          var l_ = _346;
          var _348;
          var _349;
          _349 = patternInput;
          _348 = _349.Items[0.000000];
          var k3 = _348;
          var _350;
          _350 = k3;
          var _351;
          var _352;
          _352 = l_;
          var _353;
          _353 = _k2;
          var _354;
          _354 = r;
          _351 = SetTreeModule__mk$Int32_Int32(_352, _353, _354);
          return (new TupleInt32_SetTree_1_Int32_(_350, _351));
        };
      }
      else
      {
        var _355;
        _355 = "internal error: Map.spliceOutSuccessor";
        throw (_355);
        return null;
      };
    };
  });
  SetTree_1_Int32__SetEmptyInt32 = (function ()
  {
    this.Tag = 0.000000;
    this._CaseName = "SetEmpty";
  });
  SetTree_1_Int32__SetEmptyInt32.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = ((this.Tag < that.Tag) ? -1.000000 : ((this.Tag == that.Tag) ? 0.000000 : 1.000000));
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      return 0.000000;
    };
  });
  SetTree_1_Int32__SetNodeInt32 = (function (Item1, Item2, Item3, Item4)
  {
    this.Tag = 1.000000;
    this._CaseName = "SetNode";
    this.Item1 = Item1;
    this.Item2 = Item2;
    this.Item3 = Item3;
    this.Item4 = Item4;
  });
  SetTree_1_Int32__SetNodeInt32.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = ((this.Tag < that.Tag) ? -1.000000 : ((this.Tag == that.Tag) ? 0.000000 : 1.000000));
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      var __diff = 0.000000;
      __diff = ((this.Item1 < that.Item1) ? -1.000000 : ((this.Item1 == that.Item1) ? 0.000000 : 1.000000));
      diff = __diff;
      if ((diff != 0.000000)) 
      {
        return diff;
      }
      else
      {
        var ___diff = 0.000000;
        ___diff = this.Item2.CompareTo(that.Item2);
        diff = ___diff;
        if ((diff != 0.000000)) 
        {
          return diff;
        }
        else
        {
          var ____diff = 0.000000;
          ____diff = this.Item3.CompareTo(that.Item3);
          diff = ____diff;
          if ((diff != 0.000000)) 
          {
            return diff;
          }
          else
          {
            var _____diff = 0.000000;
            _____diff = ((this.Item4 < that.Item4) ? -1.000000 : ((this.Item4 == that.Item4) ? 0.000000 : 1.000000));
            diff = _____diff;
            if ((diff != 0.000000)) 
            {
              return diff;
            }
            else
            {
              return 0.000000;
            };
          };
        };
      };
    };
  });
  SetTree_1_Int32__SetOneInt32 = (function (Item)
  {
    this.Tag = 2.000000;
    this._CaseName = "SetOne";
    this.Item = Item;
  });
  SetTree_1_Int32__SetOneInt32.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = ((this.Tag < that.Tag) ? -1.000000 : ((this.Tag == that.Tag) ? 0.000000 : 1.000000));
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      var __diff = 0.000000;
      __diff = ((this.Item < that.Item) ? -1.000000 : ((this.Item == that.Item) ? 0.000000 : 1.000000));
      diff = __diff;
      if ((diff != 0.000000)) 
      {
        return diff;
      }
      else
      {
        return 0.000000;
      };
    };
  });
  Set_1_Int32__Add$Int32 = (function (s, x)
  {
    var _34;
    var _35;
    _35 = s;
    _34 = Set_1_Int32__get_Comparer$Int32(_35);
    var _37;
    var _38;
    var _39;
    _39 = s;
    _38 = Set_1_Int32__get_Comparer$Int32(_39);
    var _40;
    _40 = x;
    var _41;
    var _42;
    _42 = s;
    _41 = Set_1_Int32__get_Tree$Int32(_42);
    _37 = SetTreeModule__add$Int32_Int32(_38, _40, _41);
    return (new Set_1_Int32___ctor$Int32(_34, _37));
  });
  Set_1_Int32__Contains$Int32 = (function (s, x)
  {
    var _2346;
    var _2347;
    _2347 = s;
    _2346 = Set_1_Int32__get_Comparer$Int32(_2347);
    var _2348;
    _2348 = x;
    var _2349;
    var _2350;
    _2350 = s;
    _2349 = Set_1_Int32__get_Tree$Int32(_2350);
    return SetTreeModule__mem$Int32_Int32(_2346, _2348, _2349);
  });
  Set_1_Int32__Remove$Int32 = (function (s, x)
  {
    var _264;
    var _265;
    _265 = s;
    _264 = Set_1_Int32__get_Comparer$Int32(_265);
    var _266;
    var _267;
    var _268;
    _268 = s;
    _267 = Set_1_Int32__get_Comparer$Int32(_268);
    var _269;
    _269 = x;
    var _270;
    var _271;
    _271 = s;
    _270 = Set_1_Int32__get_Tree$Int32(_271);
    _266 = SetTreeModule__remove$Int32_Int32(_267, _269, _270);
    return (new Set_1_Int32___ctor$Int32(_264, _266));
  });
  Set_1_Int32___ctor$Int32 = (function (comparer, tree)
  {
    var _9;
    _9 = this;
    var _10;
    _10 = comparer;
    _9.comparer_479 = _10;
    var _11;
    _11 = this;
    var _12;
    _12 = tree;
    _11.tree_483 = _12;
    var _13;
    _13 = this;
    var _14;
    _14 = null;
    _13.serializedData = _14;
  });
  Set_1_Int32__get_Comparer$Int32 = (function (set, unitVar1)
  {
    var _36;
    _36 = set;
    return _36.comparer_479;
  });
  Set_1_Int32__get_Empty$Int32 = (function (unitVar0)
  {
    var _4;
    _4 = (new GenericComparer_1_Int32___ctor$Int32());
    var comparer = _4;
    var _5;
    var impl;
    impl = comparer;
    _5 = {Compare: (function (x, y)
    {
      return (function (__, x, y)
      {
        var _6;
        _6 = x;
        var _7;
        _7 = y;
        var diff = 0.000000;
        diff = ((_6 < _7) ? -1.000000 : ((_6 == _7) ? 0.000000 : 1.000000));
        return diff;
      })(impl, x, y);
    })};
    var _8;
    _8 = (new SetTree_1_Int32__SetEmptyInt32());
    return (new Set_1_Int32___ctor$Int32(_5, _8));
  });
  Set_1_Int32__get_Tree$Int32 = (function (set, unitVar1)
  {
    var _43;
    _43 = set;
    return _43.tree_483;
  });
  Set__Add$Int32_Int32 = (function (x, s)
  {
    var _32;
    _32 = s;
    var _33;
    _33 = x;
    return Set_1_Int32__Add$Int32(_32, _33);
  });
  Set__Contains$Int32_Int32 = (function (x, s)
  {
    var _2344;
    _2344 = s;
    var _2345;
    _2345 = x;
    return Set_1_Int32__Contains$Int32(_2344, _2345);
  });
  Set__Empty$Int32_Int32 = (function ()
  {
    return Set_1_Int32__get_Empty$Int32();
  });
  Set__Remove$Int32_Int32 = (function (x, s)
  {
    var _262;
    _262 = s;
    var _263;
    _263 = x;
    return Set_1_Int32__Remove$Int32(_262, _263);
  });
  String__CharAt$ = (function (s, length)
  {
    return s.charAt(length);
  });
  String__IndexOf$ = (function (s, search)
  {
    return s.indexOf(search);
  });
  String__Length$ = (function (s)
  {
    return s.length;
  });
  String__Split$ = (function (s, delimiters)
  {
    var _494;
    var _495;
    _495 = (function (inputs)
    {
      return (function (delimiter)
      {
        var _496;
        _496 = (function (arrays)
        {
          var _497;
          var _498;
          var _499;
          _499 = arrays;
          _498 = Seq__OfArray$String___String___(_499);
          _497 = _498;
          return Array__Concat$String_1String(_497);
        });
        var _630;
        var _631;
        var _632;
        _632 = (function (inp)
        {
          var _633;
          _633 = inp;
          var _634;
          _634 = delimiter;
          return String__splitSingle$(_633, _634);
        });
        var mapping = _632;
        _631 = (function (array)
        {
          var _635;
          var _636;
          _636 = mapping;
          _635 = _636;
          var _637;
          var _638;
          _638 = array;
          _637 = _638;
          return Array__Map$String_1_String___String_String___(_635, _637);
        });
        var _660;
        _660 = inputs;
        _630 = _631(_660);
        return _496(_630);
      });
    });
    var folder = _495;
    var _661;
    var _662;
    _662 = s;
    _661 = [_662];
    var state = _661;
    _494 = (function (array)
    {
      var _663;
      var _664;
      _664 = folder;
      _663 = _664;
      var _665;
      var _666;
      _666 = state;
      _665 = _666;
      var _667;
      var _668;
      _668 = array;
      _667 = _668;
      return Array__Fold$String_1_String___String_String___(_663, _665, _667);
    });
    var _691;
    _691 = delimiters;
    return _494(_691);
  });
  String__ToCharArray$ = (function (str)
  {
    return str;
  });
  String__splitSingle$ = (function (s, delimiter)
  {
    return s.split(delimiter);
  });
  TupleBoolean_Tuple_2_Int32__Int32_ = (function (Item0, Item1)
  {
    this.Items = [Item0, Item1];
    this.Items = [Item0, Item1];
  });
  TupleBoolean_Tuple_2_Int32__Int32_.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = ((this.Items[0.000000] < that.Items[0.000000]) ? -1.000000 : ((this.Items[0.000000] == that.Items[0.000000]) ? 0.000000 : 1.000000));
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      var __diff = 0.000000;
      __diff = this.Items[1.000000].CompareTo(that.Items[1.000000]);
      diff = __diff;
      if ((diff != 0.000000)) 
      {
        return diff;
      }
      else
      {
        return 0.000000;
      };
    };
  });
  TupleFSharpRef_1_Int32__FSharpRef_1_Int32_ = (function (Item0, Item1)
  {
    this.Items = [Item0, Item1];
    this.Items = [Item0, Item1];
  });
  TupleFSharpRef_1_Int32__FSharpRef_1_Int32_.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = this.Items[0.000000].CompareTo(that.Items[0.000000]);
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      var __diff = 0.000000;
      __diff = this.Items[1.000000].CompareTo(that.Items[1.000000]);
      diff = __diff;
      if ((diff != 0.000000)) 
      {
        return diff;
      }
      else
      {
        return 0.000000;
      };
    };
  });
  TupleIEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32_ = (function (Item0, Item1)
  {
    this.Items = [Item0, Item1];
    this.Items = [Item0, Item1];
  });
  TupleIEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32_.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = this.Items[0.000000].CompareTo(that.Items[0.000000]);
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      var __diff = 0.000000;
      __diff = this.Items[1.000000].CompareTo(that.Items[1.000000]);
      diff = __diff;
      if ((diff != 0.000000)) 
      {
        return diff;
      }
      else
      {
        return 0.000000;
      };
    };
  });
  TupleIEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32__IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32_ = (function (Item0, Item1)
  {
    this.Items = [Item0, Item1];
    this.Items = [Item0, Item1];
  });
  TupleIEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32__IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32_.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = this.Items[0.000000].CompareTo(that.Items[0.000000]);
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      var __diff = 0.000000;
      __diff = this.Items[1.000000].CompareTo(that.Items[1.000000]);
      diff = __diff;
      if ((diff != 0.000000)) 
      {
        return diff;
      }
      else
      {
        return 0.000000;
      };
    };
  });
  TupleInt32_Int32 = (function (Item0, Item1)
  {
    this.Items = [Item0, Item1];
    this.Items = [Item0, Item1];
  });
  TupleInt32_Int32.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = ((this.Items[0.000000] < that.Items[0.000000]) ? -1.000000 : ((this.Items[0.000000] == that.Items[0.000000]) ? 0.000000 : 1.000000));
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      var __diff = 0.000000;
      __diff = ((this.Items[1.000000] < that.Items[1.000000]) ? -1.000000 : ((this.Items[1.000000] == that.Items[1.000000]) ? 0.000000 : 1.000000));
      diff = __diff;
      if ((diff != 0.000000)) 
      {
        return diff;
      }
      else
      {
        return 0.000000;
      };
    };
  });
  TupleInt32_Int32_Int32 = (function (Item0, Item1, Item2)
  {
    this.Items = [Item0, Item1, Item2];
    this.Items = [Item0, Item1, Item2];
    this.Items = [Item0, Item1, Item2];
  });
  TupleInt32_Int32_Int32.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = ((this.Items[0.000000] < that.Items[0.000000]) ? -1.000000 : ((this.Items[0.000000] == that.Items[0.000000]) ? 0.000000 : 1.000000));
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      var __diff = 0.000000;
      __diff = ((this.Items[1.000000] < that.Items[1.000000]) ? -1.000000 : ((this.Items[1.000000] == that.Items[1.000000]) ? 0.000000 : 1.000000));
      diff = __diff;
      if ((diff != 0.000000)) 
      {
        return diff;
      }
      else
      {
        var ___diff = 0.000000;
        ___diff = ((this.Items[2.000000] < that.Items[2.000000]) ? -1.000000 : ((this.Items[2.000000] == that.Items[2.000000]) ? 0.000000 : 1.000000));
        diff = ___diff;
        if ((diff != 0.000000)) 
        {
          return diff;
        }
        else
        {
          return 0.000000;
        };
      };
    };
  });
  TupleInt32_SetTree_1_Int32_ = (function (Item0, Item1)
  {
    this.Items = [Item0, Item1];
    this.Items = [Item0, Item1];
  });
  TupleInt32_SetTree_1_Int32_.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = ((this.Items[0.000000] < that.Items[0.000000]) ? -1.000000 : ((this.Items[0.000000] == that.Items[0.000000]) ? 0.000000 : 1.000000));
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      var __diff = 0.000000;
      __diff = this.Items[1.000000].CompareTo(that.Items[1.000000]);
      diff = __diff;
      if ((diff != 0.000000)) 
      {
        return diff;
      }
      else
      {
        return 0.000000;
      };
    };
  });
  TupleInt32_Tuple_3_Object__Int32__Int32_ = (function (Item0, Item1)
  {
    this.Items = [Item0, Item1];
    this.Items = [Item0, Item1];
  });
  TupleInt32_Tuple_3_Object__Int32__Int32_.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = ((this.Items[0.000000] < that.Items[0.000000]) ? -1.000000 : ((this.Items[0.000000] == that.Items[0.000000]) ? 0.000000 : 1.000000));
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      var __diff = 0.000000;
      __diff = this.Items[1.000000].CompareTo(that.Items[1.000000]);
      diff = __diff;
      if ((diff != 0.000000)) 
      {
        return diff;
      }
      else
      {
        return 0.000000;
      };
    };
  });
  TupleInt32____Char = (function (Item0, Item1)
  {
    this.Items = [Item0, Item1];
    this.Items = [Item0, Item1];
  });
  TupleInt32____Char.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    var i = 0.000000;
    while (((_diff == 0.000000) && ((i < this.Items[0.000000].length) && (i < that.Items[0.000000].length))))
    {
      _diff = ((this.Items[0.000000][i] < that.Items[0.000000][i]) ? -1.000000 : ((this.Items[0.000000][i] == that.Items[0.000000][i]) ? 0.000000 : 1.000000));
      i = (i + 1.000000);
    };
    _diff = ((_diff == 0.000000) ? (this.Items[0.000000].length - that.Items[0.000000].length) : _diff);
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      var __diff = 0.000000;
      __diff = ((this.Items[1.000000] < that.Items[1.000000]) ? -1.000000 : ((this.Items[1.000000] == that.Items[1.000000]) ? 0.000000 : 1.000000));
      diff = __diff;
      if ((diff != 0.000000)) 
      {
        return diff;
      }
      else
      {
        return 0.000000;
      };
    };
  });
  TupleObject__Int32_Int32 = (function (Item0, Item1, Item2)
  {
    this.Items = [Item0, Item1, Item2];
    this.Items = [Item0, Item1, Item2];
    this.Items = [Item0, Item1, Item2];
  });
  TupleObject__Int32_Int32.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = this.Items[0.000000].CompareTo(that.Items[0.000000]);
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      var __diff = 0.000000;
      __diff = ((this.Items[1.000000] < that.Items[1.000000]) ? -1.000000 : ((this.Items[1.000000] == that.Items[1.000000]) ? 0.000000 : 1.000000));
      diff = __diff;
      if ((diff != 0.000000)) 
      {
        return diff;
      }
      else
      {
        var ___diff = 0.000000;
        ___diff = ((this.Items[2.000000] < that.Items[2.000000]) ? -1.000000 : ((this.Items[2.000000] == that.Items[2.000000]) ? 0.000000 : 1.000000));
        diff = ___diff;
        if ((diff != 0.000000)) 
        {
          return diff;
        }
        else
        {
          return 0.000000;
        };
      };
    };
  });
  TupleObject__Object_ = (function (Item0, Item1)
  {
    this.Items = [Item0, Item1];
    this.Items = [Item0, Item1];
  });
  TupleObject__Object_.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = this.Items[0.000000].CompareTo(that.Items[0.000000]);
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      var __diff = 0.000000;
      __diff = this.Items[1.000000].CompareTo(that.Items[1.000000]);
      diff = __diff;
      if ((diff != 0.000000)) 
      {
        return diff;
      }
      else
      {
        return 0.000000;
      };
    };
  });
  TupleSetTree_1_Int32__SetTree_1_Int32_ = (function (Item0, Item1)
  {
    this.Items = [Item0, Item1];
    this.Items = [Item0, Item1];
  });
  TupleSetTree_1_Int32__SetTree_1_Int32_.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = this.Items[0.000000].CompareTo(that.Items[0.000000]);
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      var __diff = 0.000000;
      __diff = this.Items[1.000000].CompareTo(that.Items[1.000000]);
      diff = __diff;
      if ((diff != 0.000000)) 
      {
        return diff;
      }
      else
      {
        return 0.000000;
      };
    };
  });
  TupleString_Double_Double = (function (Item0, Item1, Item2)
  {
    this.Items = [Item0, Item1, Item2];
    this.Items = [Item0, Item1, Item2];
    this.Items = [Item0, Item1, Item2];
  });
  TupleString_Double_Double.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = ((this.Items[0.000000] < that.Items[0.000000]) ? -1.000000 : ((this.Items[0.000000] == that.Items[0.000000]) ? 0.000000 : 1.000000));
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      var __diff = 0.000000;
      __diff = ((this.Items[1.000000] < that.Items[1.000000]) ? -1.000000 : ((this.Items[1.000000] == that.Items[1.000000]) ? 0.000000 : 1.000000));
      diff = __diff;
      if ((diff != 0.000000)) 
      {
        return diff;
      }
      else
      {
        var ___diff = 0.000000;
        ___diff = ((this.Items[2.000000] < that.Items[2.000000]) ? -1.000000 : ((this.Items[2.000000] == that.Items[2.000000]) ? 0.000000 : 1.000000));
        diff = ___diff;
        if ((diff != 0.000000)) 
        {
          return diff;
        }
        else
        {
          return 0.000000;
        };
      };
    };
  });
  TupleString_Tuple_2_Int32__Int32__Tuple_2_Int32__Int32_ = (function (Item0, Item1, Item2)
  {
    this.Items = [Item0, Item1, Item2];
    this.Items = [Item0, Item1, Item2];
    this.Items = [Item0, Item1, Item2];
  });
  TupleString_Tuple_2_Int32__Int32__Tuple_2_Int32__Int32_.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = ((this.Items[0.000000] < that.Items[0.000000]) ? -1.000000 : ((this.Items[0.000000] == that.Items[0.000000]) ? 0.000000 : 1.000000));
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      var __diff = 0.000000;
      __diff = this.Items[1.000000].CompareTo(that.Items[1.000000]);
      diff = __diff;
      if ((diff != 0.000000)) 
      {
        return diff;
      }
      else
      {
        var ___diff = 0.000000;
        ___diff = this.Items[2.000000].CompareTo(that.Items[2.000000]);
        diff = ___diff;
        if ((diff != 0.000000)) 
        {
          return diff;
        }
        else
        {
          return 0.000000;
        };
      };
    };
  });
  TupleString____Int32 = (function (Item0, Item1)
  {
    this.Items = [Item0, Item1];
    this.Items = [Item0, Item1];
  });
  TupleString____Int32.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    var i = 0.000000;
    while (((_diff == 0.000000) && ((i < this.Items[0.000000].length) && (i < that.Items[0.000000].length))))
    {
      _diff = ((this.Items[0.000000][i] < that.Items[0.000000][i]) ? -1.000000 : ((this.Items[0.000000][i] == that.Items[0.000000][i]) ? 0.000000 : 1.000000));
      i = (i + 1.000000);
    };
    _diff = ((_diff == 0.000000) ? (this.Items[0.000000].length - that.Items[0.000000].length) : _diff);
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      var __diff = 0.000000;
      __diff = ((this.Items[1.000000] < that.Items[1.000000]) ? -1.000000 : ((this.Items[1.000000] == that.Items[1.000000]) ? 0.000000 : 1.000000));
      diff = __diff;
      if ((diff != 0.000000)) 
      {
        return diff;
      }
      else
      {
        return 0.000000;
      };
    };
  });
  TupleTuple_2_Boolean__Tuple_2_Int32__Int32__FSharpOption_1_Tuple_2_Boolean__Tuple_2_Int32__Int32_ = (function (Item0, Item1)
  {
    this.Items = [Item0, Item1];
    this.Items = [Item0, Item1];
  });
  TupleTuple_2_Boolean__Tuple_2_Int32__Int32__FSharpOption_1_Tuple_2_Boolean__Tuple_2_Int32__Int32_.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = this.Items[0.000000].CompareTo(that.Items[0.000000]);
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      var __diff = 0.000000;
      __diff = this.Items[1.000000].CompareTo(that.Items[1.000000]);
      diff = __diff;
      if ((diff != 0.000000)) 
      {
        return diff;
      }
      else
      {
        return 0.000000;
      };
    };
  });
  TupleTuple_2_Boolean__Tuple_2_Int32__Int32__Tuple_2_IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32_ = (function (Item0, Item1)
  {
    this.Items = [Item0, Item1];
    this.Items = [Item0, Item1];
  });
  TupleTuple_2_Boolean__Tuple_2_Int32__Int32__Tuple_2_IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32_.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = this.Items[0.000000].CompareTo(that.Items[0.000000]);
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      var __diff = 0.000000;
      __diff = this.Items[1.000000].CompareTo(that.Items[1.000000]);
      diff = __diff;
      if ((diff != 0.000000)) 
      {
        return diff;
      }
      else
      {
        return 0.000000;
      };
    };
  });
  TupleTuple_2_Int32__Int32__Int32 = (function (Item0, Item1)
  {
    this.Items = [Item0, Item1];
    this.Items = [Item0, Item1];
  });
  TupleTuple_2_Int32__Int32__Int32.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = this.Items[0.000000].CompareTo(that.Items[0.000000]);
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      var __diff = 0.000000;
      __diff = ((this.Items[1.000000] < that.Items[1.000000]) ? -1.000000 : ((this.Items[1.000000] == that.Items[1.000000]) ? 0.000000 : 1.000000));
      diff = __diff;
      if ((diff != 0.000000)) 
      {
        return diff;
      }
      else
      {
        return 0.000000;
      };
    };
  });
  TupleTuple_2_Tuple_2_Int32__Int32__Int32__FSharpOption_1_Tuple_2_Tuple_2_Int32__Int32__Int32_ = (function (Item0, Item1)
  {
    this.Items = [Item0, Item1];
    this.Items = [Item0, Item1];
  });
  TupleTuple_2_Tuple_2_Int32__Int32__Int32__FSharpOption_1_Tuple_2_Tuple_2_Int32__Int32__Int32_.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = this.Items[0.000000].CompareTo(that.Items[0.000000]);
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      var __diff = 0.000000;
      __diff = this.Items[1.000000].CompareTo(that.Items[1.000000]);
      diff = __diff;
      if ((diff != 0.000000)) 
      {
        return diff;
      }
      else
      {
        return 0.000000;
      };
    };
  });
  TupleTuple_2_Tuple_2_Int32__Int32__Int32__Tuple_2_IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32__IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32_ = (function (Item0, Item1)
  {
    this.Items = [Item0, Item1];
    this.Items = [Item0, Item1];
  });
  TupleTuple_2_Tuple_2_Int32__Int32__Int32__Tuple_2_IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32__IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32_.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = this.Items[0.000000].CompareTo(that.Items[0.000000]);
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      var __diff = 0.000000;
      __diff = this.Items[1.000000].CompareTo(that.Items[1.000000]);
      diff = __diff;
      if ((diff != 0.000000)) 
      {
        return diff;
      }
      else
      {
        return 0.000000;
      };
    };
  });
  Tuplelist_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32_ = (function (Item0, Item1)
  {
    this.Items = [Item0, Item1];
    this.Items = [Item0, Item1];
  });
  Tuplelist_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32_.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = this.Items[0.000000].CompareTo(that.Items[0.000000]);
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      var __diff = 0.000000;
      __diff = this.Items[1.000000].CompareTo(that.Items[1.000000]);
      diff = __diff;
      if ((diff != 0.000000)) 
      {
        return diff;
      }
      else
      {
        return 0.000000;
      };
    };
  });
  UnfoldEnumerator_2_Boolean__Tuple_2_Boolean__Tuple_2_Int32__Int32___ctor$Boolean_Tuple_2_Boolean__Tuple_2_Int32__Int32_ = (function (seed, unfold)
  {
    var _2530;
    _2530 = this;
    var _2531;
    _2531 = seed;
    _2530.seed = _2531;
    var _2532;
    _2532 = this;
    var _2533;
    _2533 = unfold;
    _2532.unfold = _2533;
    var _2534;
    _2534 = this;
    var _2535;
    var _2536;
    var _2537;
    _2537 = this;
    _2536 = _2537.seed;
    _2535 = {Tag: 1.000000, Value: _2536};
    _2534.acc = _2535;
    var _2538;
    _2538 = this;
    var _2539;
    _2539 = null;
    _2538.current = _2539;
  });
  UnfoldEnumerator_2_Boolean__Tuple_2_Tuple_2_Int32__Int32__Int32___ctor$Boolean_Tuple_2_Tuple_2_Int32__Int32__Int32_ = (function (seed, unfold)
  {
    var _1892;
    _1892 = this;
    var _1893;
    _1893 = seed;
    _1892.seed = _1893;
    var _1894;
    _1894 = this;
    var _1895;
    _1895 = unfold;
    _1894.unfold = _1895;
    var _1896;
    _1896 = this;
    var _1897;
    var _1898;
    var _1899;
    _1899 = this;
    _1898 = _1899.seed;
    _1897 = {Tag: 1.000000, Value: _1898};
    _1896.acc = _1897;
    var _1900;
    _1900 = this;
    var _1901;
    _1901 = null;
    _1900.current = _1901;
  });
  UnfoldEnumerator_2_FSharpOption_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__Tuple_2_Boolean__Tuple_2_Int32__Int32___ctor$FSharpOption_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__Tuple_2_Boolean__Tuple_2_Int32__Int32_ = (function (seed, unfold)
  {
    var _2461;
    _2461 = this;
    var _2462;
    _2462 = seed;
    _2461.seed = _2462;
    var _2463;
    _2463 = this;
    var _2464;
    _2464 = unfold;
    _2463.unfold = _2464;
    var _2465;
    _2465 = this;
    var _2466;
    var _2467;
    var _2468;
    _2468 = this;
    _2467 = _2468.seed;
    _2466 = {Tag: 1.000000, Value: _2467};
    _2465.acc = _2466;
    var _2469;
    _2469 = this;
    var _2470;
    _2470 = null;
    _2469.current = _2470;
  });
  UnfoldEnumerator_2_FSharpOption_1_Tuple_2_Tuple_2_Int32__Int32__Int32__Tuple_2_Tuple_2_Int32__Int32__Int32___ctor$FSharpOption_1_Tuple_2_Tuple_2_Int32__Int32__Int32__Tuple_2_Tuple_2_Int32__Int32__Int32_ = (function (seed, unfold)
  {
    var _1820;
    _1820 = this;
    var _1821;
    _1821 = seed;
    _1820.seed = _1821;
    var _1822;
    _1822 = this;
    var _1823;
    _1823 = unfold;
    _1822.unfold = _1823;
    var _1824;
    _1824 = this;
    var _1825;
    var _1826;
    var _1827;
    _1827 = this;
    _1826 = _1827.seed;
    _1825 = {Tag: 1.000000, Value: _1826};
    _1824.acc = _1825;
    var _1828;
    _1828 = this;
    var _1829;
    _1829 = null;
    _1828.current = _1829;
  });
  UnfoldEnumerator_2_Int32__String_____ctor$Int32_String___ = (function (seed, unfold)
  {
    var _565;
    _565 = this;
    var _566;
    _566 = seed;
    _565.seed = _566;
    var _567;
    _567 = this;
    var _568;
    _568 = unfold;
    _567.unfold = _568;
    var _569;
    _569 = this;
    var _570;
    var _571;
    var _572;
    _572 = this;
    _571 = _572.seed;
    _570 = {Tag: 1.000000, Value: _571};
    _569.acc = _570;
    var _573;
    _573 = this;
    var _574;
    _574 = null;
    _573.current = _574;
  });
  UnfoldEnumerator_2_Tuple_2_IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__Tuple_2_Boolean__Tuple_2_Int32__Int32___ctor$Tuple_2_IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__IEnumerator_1_Tuple_2_Boolean__Tuple_2_Int32__Int32__Tuple_2_Boolean__Tuple_2_Int32__Int32_ = (function (seed, unfold)
  {
    var _2699;
    _2699 = this;
    var _2700;
    _2700 = seed;
    _2699.seed = _2700;
    var _2701;
    _2701 = this;
    var _2702;
    _2702 = unfold;
    _2701.unfold = _2702;
    var _2703;
    _2703 = this;
    var _2704;
    var _2705;
    var _2706;
    _2706 = this;
    _2705 = _2706.seed;
    _2704 = {Tag: 1.000000, Value: _2705};
    _2703.acc = _2704;
    var _2707;
    _2707 = this;
    var _2708;
    _2708 = null;
    _2707.current = _2708;
  });
  UnfoldEnumerator_2_Tuple_2_IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32__IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32__Tuple_2_Tuple_2_Int32__Int32__Int32___ctor$Tuple_2_IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32__IEnumerator_1_Tuple_2_Tuple_2_Int32__Int32__Int32__Tuple_2_Tuple_2_Int32__Int32__Int32_ = (function (seed, unfold)
  {
    var _2079;
    _2079 = this;
    var _2080;
    _2080 = seed;
    _2079.seed = _2080;
    var _2081;
    _2081 = this;
    var _2082;
    _2082 = unfold;
    _2081.unfold = _2082;
    var _2083;
    _2083 = this;
    var _2084;
    var _2085;
    var _2086;
    _2086 = this;
    _2085 = _2086.seed;
    _2084 = {Tag: 1.000000, Value: _2085};
    _2083.acc = _2084;
    var _2087;
    _2087 = this;
    var _2088;
    _2088 = null;
    _2087.current = _2088;
  });
  list_1_Tuple_2_Int32__Int32__ConsTuple_2_Int32__Int32_ = (function (Item1, Item2)
  {
    this.Tag = 1.000000;
    this._CaseName = "Cons";
    this.Item1 = Item1;
    this.Item2 = Item2;
  });
  list_1_Tuple_2_Int32__Int32__ConsTuple_2_Int32__Int32_.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = ((this.Tag < that.Tag) ? -1.000000 : ((this.Tag == that.Tag) ? 0.000000 : 1.000000));
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      var __diff = 0.000000;
      __diff = this.Item1.CompareTo(that.Item1);
      diff = __diff;
      if ((diff != 0.000000)) 
      {
        return diff;
      }
      else
      {
        var ___diff = 0.000000;
        ___diff = this.Item2.CompareTo(that.Item2);
        diff = ___diff;
        if ((diff != 0.000000)) 
        {
          return diff;
        }
        else
        {
          return 0.000000;
        };
      };
    };
  });
  list_1_Tuple_2_Int32__Int32__NilTuple_2_Int32__Int32_ = (function ()
  {
    this.Tag = 0.000000;
    this._CaseName = "Nil";
  });
  list_1_Tuple_2_Int32__Int32__NilTuple_2_Int32__Int32_.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = ((this.Tag < that.Tag) ? -1.000000 : ((this.Tag == that.Tag) ? 0.000000 : 1.000000));
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      return 0.000000;
    };
  });
  list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__ConsTuple_2_Int32__Tuple_3_Object__Int32__Int32_ = (function (Item1, Item2)
  {
    this.Tag = 1.000000;
    this._CaseName = "Cons";
    this.Item1 = Item1;
    this.Item2 = Item2;
  });
  list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__ConsTuple_2_Int32__Tuple_3_Object__Int32__Int32_.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = ((this.Tag < that.Tag) ? -1.000000 : ((this.Tag == that.Tag) ? 0.000000 : 1.000000));
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      var __diff = 0.000000;
      __diff = this.Item1.CompareTo(that.Item1);
      diff = __diff;
      if ((diff != 0.000000)) 
      {
        return diff;
      }
      else
      {
        var ___diff = 0.000000;
        ___diff = this.Item2.CompareTo(that.Item2);
        diff = ___diff;
        if ((diff != 0.000000)) 
        {
          return diff;
        }
        else
        {
          return 0.000000;
        };
      };
    };
  });
  list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__NilTuple_2_Int32__Tuple_3_Object__Int32__Int32_ = (function ()
  {
    this.Tag = 0.000000;
    this._CaseName = "Nil";
  });
  list_1_Tuple_2_Int32__Tuple_3_Object__Int32__Int32__NilTuple_2_Int32__Tuple_3_Object__Int32__Int32_.prototype.CompareTo = (function (that)
  {
    var diff = 0.000000;
    var _diff = 0.000000;
    _diff = ((this.Tag < that.Tag) ? -1.000000 : ((this.Tag == that.Tag) ? 0.000000 : 1.000000));
    diff = _diff;
    if ((diff != 0.000000)) 
    {
      return diff;
    }
    else
    {
      return 0.000000;
    };
  });
  Program__maze = Program__get_maze$();
  Program__blank = Program__get_blank$();
  Program__tileBits = Program__get_tileBits$();
  GhostMovement__route_home = GhostMovement__get_route_home$();
  return Program__main$()
});
  </script>

</body>
</html>
